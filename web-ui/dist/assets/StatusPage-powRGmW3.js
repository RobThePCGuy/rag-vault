import{b as n,j as e}from"./query-DPt-uCb6.js";import{f as o,a as l}from"./format-DOJ3IkRX.js";import{n as c,S as d}from"./index-D068MV_o.js";import"./vendor-C2QPsZ3S.js";function i(){const{data:s,isLoading:t,error:r,refetch:a}=n({queryKey:["status"],queryFn:c,refetchInterval:3e4});return{status:s,isLoading:t,error:r,refetch:a}}function x({status:s}){const t=[{label:"Documents",value:s.documentCount.toString(),icon:m},{label:"Chunks",value:s.chunkCount.toString(),icon:u},{label:"Memory Usage",value:o(s.memoryUsage*1024*1024),icon:h}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map(r=>e.jsx("div",{className:"border rounded-lg p-6",style:{background:"var(--ws-surface-raised)",borderColor:"var(--ws-border)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:"var(--ws-accent-subtle)"},children:e.jsx(r.icon,{className:"w-6 h-6",style:{color:"var(--ws-accent)"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",style:{color:"var(--ws-text-muted)"},children:r.label}),e.jsx("p",{className:"text-2xl font-semibold",style:{color:"var(--ws-text)"},children:r.value})]})]})},r.label))}),e.jsxs("div",{className:"border rounded-lg p-6",style:{background:"var(--ws-surface-raised)",borderColor:"var(--ws-border)"},children:[e.jsx("h2",{className:"text-lg font-medium mb-4",style:{color:"var(--ws-text)"},children:"System Info"}),e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{style:{color:"var(--ws-text-muted)"},children:"Search Mode"}),e.jsx("dd",{className:"font-mono text-sm",style:{color:"var(--ws-text)"},children:s.searchMode})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{style:{color:"var(--ws-text-muted)"},children:"FTS Index"}),e.jsx("dd",{className:"font-mono text-sm",style:{color:"var(--ws-text)"},children:s.ftsIndexEnabled?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{style:{color:"var(--ws-text-muted)"},children:"Uptime"}),e.jsx("dd",{className:"font-mono text-sm",style:{color:"var(--ws-text)"},children:l(s.uptime)})]})]})]})]})}function m({className:s,style:t}){return e.jsx("svg",{className:s,style:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function u({className:s,style:t}){return e.jsx("svg",{className:s,style:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}function h({className:s,style:t}){return e.jsx("svg",{className:s,style:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}function p(){const{status:s,isLoading:t,error:r,refetch:a}=i();return e.jsxs("div",{className:"ws-page max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"ws-page-title text-2xl font-bold mb-2",children:"System Status"}),e.jsx("p",{style:{color:"var(--ws-text-secondary)"},children:"Monitor your RAG system metrics and configuration."})]}),e.jsx("button",{type:"button",onClick:()=>a(),disabled:t,className:"ws-button px-4 py-2 text-sm rounded-lg transition-colors","data-variant":"default",children:t?"Refreshing...":"Refresh"})]}),t&&!s?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("span",{style:{color:"var(--ws-text-faint)"},children:e.jsx(d,{})}),e.jsx("span",{className:"ml-3",style:{color:"var(--ws-text-muted)"},children:"Loading status..."})]}):r?e.jsxs("div",{className:"ws-error-box rounded-lg",children:[e.jsx("p",{className:"font-medium",children:"Error loading status"}),e.jsx("p",{className:"text-sm",children:r.message})]}):s?e.jsx(x,{status:s}):null]})}export{p as StatusPage};
