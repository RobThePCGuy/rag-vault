var bk=Object.defineProperty;var hm=e=>{throw TypeError(e)};var kk=(e,t,s)=>t in e?bk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var mm=(e,t,s)=>kk(e,typeof t!="symbol"?t+"":t,s),bu=(e,t,s)=>t.has(e)||hm("Cannot "+s);var L=(e,t,s)=>(bu(e,t,"read from private field"),s?s.call(e):t.get(e)),pe=(e,t,s)=>t.has(e)?hm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ie=(e,t,s,i)=>(bu(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),we=(e,t,s)=>(bu(e,t,"access private method"),s);var Xo=(e,t,s,i)=>({set _(o){ie(e,t,o,s)},get _(){return L(e,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function Id(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ku={exports:{}},pa={},wu={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function wk(){if(gm)return je;gm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function S(O,q,ve){this.props=O,this.context=q,this.refs=N,this.updater=ve||j}S.prototype.isReactComponent={},S.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=S.prototype;function R(O,q,ve){this.props=O,this.context=q,this.refs=N,this.updater=ve||j}var k=R.prototype=new C;k.constructor=R,E(k,S.prototype),k.isPureReactComponent=!0;var P=Array.isArray,T=Object.prototype.hasOwnProperty,I={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function B(O,q,ve){var be,Se={},ke=null,Re=null;if(q!=null)for(be in q.ref!==void 0&&(Re=q.ref),q.key!==void 0&&(ke=""+q.key),q)T.call(q,be)&&!U.hasOwnProperty(be)&&(Se[be]=q[be]);var Ne=arguments.length-2;if(Ne===1)Se.children=ve;else if(1<Ne){for(var Ae=Array(Ne),Je=0;Je<Ne;Je++)Ae[Je]=arguments[Je+2];Se.children=Ae}if(O&&O.defaultProps)for(be in Ne=O.defaultProps,Ne)Se[be]===void 0&&(Se[be]=Ne[be]);return{$$typeof:e,type:O,key:ke,ref:Re,props:Se,_owner:I.current}}function X(O,q){return{$$typeof:e,type:O.type,key:q,ref:O.ref,props:O.props,_owner:O._owner}}function ee(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function ae(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ve){return q[ve]})}var re=/\/+/g;function H(O,q){return typeof O=="object"&&O!==null&&O.key!=null?ae(""+O.key):q.toString(36)}function F(O,q,ve,be,Se){var ke=typeof O;(ke==="undefined"||ke==="boolean")&&(O=null);var Re=!1;if(O===null)Re=!0;else switch(ke){case"string":case"number":Re=!0;break;case"object":switch(O.$$typeof){case e:case t:Re=!0}}if(Re)return Re=O,Se=Se(Re),O=be===""?"."+H(Re,0):be,P(Se)?(ve="",O!=null&&(ve=O.replace(re,"$&/")+"/"),F(Se,q,ve,"",function(Je){return Je})):Se!=null&&(ee(Se)&&(Se=X(Se,ve+(!Se.key||Re&&Re.key===Se.key?"":(""+Se.key).replace(re,"$&/")+"/")+O)),q.push(Se)),1;if(Re=0,be=be===""?".":be+":",P(O))for(var Ne=0;Ne<O.length;Ne++){ke=O[Ne];var Ae=be+H(ke,Ne);Re+=F(ke,q,ve,Ae,Se)}else if(Ae=b(O),typeof Ae=="function")for(O=Ae.call(O),Ne=0;!(ke=O.next()).done;)ke=ke.value,Ae=be+H(ke,Ne++),Re+=F(ke,q,ve,Ae,Se);else if(ke==="object")throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Re}function W(O,q,ve){if(O==null)return O;var be=[],Se=0;return F(O,be,"","",function(ke){return q.call(ve,ke,Se++)}),be}function Y(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(ve){(O._status===0||O._status===-1)&&(O._status=1,O._result=ve)},function(ve){(O._status===0||O._status===-1)&&(O._status=2,O._result=ve)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var z={current:null},K={transition:null},J={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:K,ReactCurrentOwner:I};function ne(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:W,forEach:function(O,q,ve){W(O,function(){q.apply(this,arguments)},ve)},count:function(O){var q=0;return W(O,function(){q++}),q},toArray:function(O){return W(O,function(q){return q})||[]},only:function(O){if(!ee(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},je.Component=S,je.Fragment=s,je.Profiler=o,je.PureComponent=R,je.StrictMode=i,je.Suspense=f,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,je.act=ne,je.cloneElement=function(O,q,ve){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var be=E({},O.props),Se=O.key,ke=O.ref,Re=O._owner;if(q!=null){if(q.ref!==void 0&&(ke=q.ref,Re=I.current),q.key!==void 0&&(Se=""+q.key),O.type&&O.type.defaultProps)var Ne=O.type.defaultProps;for(Ae in q)T.call(q,Ae)&&!U.hasOwnProperty(Ae)&&(be[Ae]=q[Ae]===void 0&&Ne!==void 0?Ne[Ae]:q[Ae])}var Ae=arguments.length-2;if(Ae===1)be.children=ve;else if(1<Ae){Ne=Array(Ae);for(var Je=0;Je<Ae;Je++)Ne[Je]=arguments[Je+2];be.children=Ne}return{$$typeof:e,type:O.type,key:Se,ref:ke,props:be,_owner:Re}},je.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},je.createElement=B,je.createFactory=function(O){var q=B.bind(null,O);return q.type=O,q},je.createRef=function(){return{current:null}},je.forwardRef=function(O){return{$$typeof:p,render:O}},je.isValidElement=ee,je.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:Y}},je.memo=function(O,q){return{$$typeof:g,type:O,compare:q===void 0?null:q}},je.startTransition=function(O){var q=K.transition;K.transition={};try{O()}finally{K.transition=q}},je.unstable_act=ne,je.useCallback=function(O,q){return z.current.useCallback(O,q)},je.useContext=function(O){return z.current.useContext(O)},je.useDebugValue=function(){},je.useDeferredValue=function(O){return z.current.useDeferredValue(O)},je.useEffect=function(O,q){return z.current.useEffect(O,q)},je.useId=function(){return z.current.useId()},je.useImperativeHandle=function(O,q,ve){return z.current.useImperativeHandle(O,q,ve)},je.useInsertionEffect=function(O,q){return z.current.useInsertionEffect(O,q)},je.useLayoutEffect=function(O,q){return z.current.useLayoutEffect(O,q)},je.useMemo=function(O,q){return z.current.useMemo(O,q)},je.useReducer=function(O,q,ve){return z.current.useReducer(O,q,ve)},je.useRef=function(O){return z.current.useRef(O)},je.useState=function(O){return z.current.useState(O)},je.useSyncExternalStore=function(O,q,ve){return z.current.useSyncExternalStore(O,q,ve)},je.useTransition=function(){return z.current.useTransition()},je.version="18.3.1",je}var xm;function Md(){return xm||(xm=1,wu.exports=wk()),wu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function jk(){if(ym)return pa;ym=1;var e=Md(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(p,f,g){var x,v={},b=null,j=null;g!==void 0&&(b=""+g),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(j=f.ref);for(x in f)i.call(f,x)&&!u.hasOwnProperty(x)&&(v[x]=f[x]);if(p&&p.defaultProps)for(x in f=p.defaultProps,f)v[x]===void 0&&(v[x]=f[x]);return{$$typeof:t,type:p,key:b,ref:j,props:v,_owner:o.current}}return pa.Fragment=s,pa.jsx=d,pa.jsxs=d,pa}var vm;function Sk(){return vm||(vm=1,ku.exports=jk()),ku.exports}var l=Sk(),Si=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ck={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ar,Ad,Mg,Nk=(Mg=class{constructor(){pe(this,Ar,Ck);pe(this,Ad,!1)}setTimeoutProvider(e){ie(this,Ar,e)}setTimeout(e,t){return L(this,Ar).setTimeout(e,t)}clearTimeout(e){L(this,Ar).clearTimeout(e)}setInterval(e,t){return L(this,Ar).setInterval(e,t)}clearInterval(e){L(this,Ar).clearInterval(e)}},Ar=new WeakMap,Ad=new WeakMap,Mg),gs=new Nk;function Ek(e){setTimeout(e,0)}var Ps=typeof window>"u"||"Deno"in globalThis;function Ct(){}function Pk(e,t){return typeof e=="function"?e(t):e}function Qu(e){return typeof e=="number"&&e>=0&&e!==1/0}function Hg(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $r(e,t){return typeof e=="function"?e(t):e}function Zt(e,t){return typeof e=="function"?e(t):e}function bm(e,t){const{type:s="all",exact:i,fetchStatus:o,predicate:u,queryKey:d,stale:p}=e;if(d){if(i){if(t.queryHash!==Od(d,t.options))return!1}else if(!ja(t.queryKey,d))return!1}if(s!=="all"){const f=t.isActive();if(s==="active"&&!f||s==="inactive"&&f)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||o&&o!==t.state.fetchStatus||u&&!u(t))}function km(e,t){const{exact:s,status:i,predicate:o,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(s){if(Ts(t.options.mutationKey)!==Ts(u))return!1}else if(!ja(t.options.mutationKey,u))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function Od(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ts)(e)}function Ts(e){return JSON.stringify(e,(t,s)=>Gu(s)?Object.keys(s).sort().reduce((i,o)=>(i[o]=s[o],i),{}):s)}function ja(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>ja(e[s],t[s])):!1}var Tk=Object.prototype.hasOwnProperty;function qg(e,t,s=0){if(e===t)return e;if(s>500)return t;const i=wm(e)&&wm(t);if(!i&&!(Gu(e)&&Gu(t)))return t;const u=(i?e:Object.keys(e)).length,d=i?t:Object.keys(t),p=d.length,f=i?new Array(p):{};let g=0;for(let x=0;x<p;x++){const v=i?x:d[x],b=e[v],j=t[v];if(b===j){f[v]=b,(i?x<u:Tk.call(e,v))&&g++;continue}if(b===null||j===null||typeof b!="object"||typeof j!="object"){f[v]=j;continue}const E=qg(b,j,s+1);f[v]=E,E===b&&g++}return u===p&&g===u?e:f}function hl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function wm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gu(e){if(!jm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!jm(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jm(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rk(e){return new Promise(t=>{gs.setTimeout(t,e)})}function Yu(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?qg(e,t):t}function Dk(e,t,s=0){const i=[...e,t];return s&&i.length>s?i.slice(1):i}function Lk(e,t,s=0){const i=[t,...e];return s&&i.length>s?i.slice(0,-1):i}var Fd=Symbol();function Qg(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _d(e,t){return typeof e=="function"?e(...t):!!e}function Ak(e,t,s){let i=!1,o;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o??(o=t()),i||(i=!0,o.aborted?s():o.addEventListener("abort",s,{once:!0})),o)}),e}var ys,Ir,li,Og,Ik=(Og=class extends Si{constructor(){super();pe(this,ys);pe(this,Ir);pe(this,li);ie(this,li,t=>{if(!Ps&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){L(this,Ir)||this.setEventListener(L(this,li))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,Ir))==null||t.call(this),ie(this,Ir,void 0))}setEventListener(t){var s;ie(this,li,t),(s=L(this,Ir))==null||s.call(this),ie(this,Ir,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){L(this,ys)!==t&&(ie(this,ys,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof L(this,ys)=="boolean"?L(this,ys):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ys=new WeakMap,Ir=new WeakMap,li=new WeakMap,Og),zd=new Ik;function Xu(){let e,t;const s=new Promise((o,u)=>{e=o,t=u});s.status="pending",s.catch(()=>{});function i(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},s.reject=o=>{i({status:"rejected",reason:o}),t(o)},s}var Mk=Ek;function Ok(){let e=[],t=0,s=p=>{p()},i=p=>{p()},o=Mk;const u=p=>{t?e.push(p):o(()=>{s(p)})},d=()=>{const p=e;e=[],p.length&&o(()=>{i(()=>{p.forEach(f=>{s(f)})})})};return{batch:p=>{let f;t++;try{f=p()}finally{t--,t||d()}return f},batchCalls:p=>(...f)=>{u(()=>{p(...f)})},schedule:u,setNotifyFunction:p=>{s=p},setBatchNotifyFunction:p=>{i=p},setScheduler:p=>{o=p}}}var ot=Ok(),ci,Mr,ui,Fg,Fk=(Fg=class extends Si{constructor(){super();pe(this,ci,!0);pe(this,Mr);pe(this,ui);ie(this,ui,t=>{if(!Ps&&window.addEventListener){const s=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}}})}onSubscribe(){L(this,Mr)||this.setEventListener(L(this,ui))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,Mr))==null||t.call(this),ie(this,Mr,void 0))}setEventListener(t){var s;ie(this,ui,t),(s=L(this,Mr))==null||s.call(this),ie(this,Mr,t(this.setOnline.bind(this)))}setOnline(t){L(this,ci)!==t&&(ie(this,ci,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return L(this,ci)}},ci=new WeakMap,Mr=new WeakMap,ui=new WeakMap,Fg),ml=new Fk;function _k(e){return Math.min(1e3*2**e,3e4)}function Gg(e){return(e??"online")==="online"?ml.isOnline():!0}var Ju=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yg(e){let t=!1,s=0,i;const o=Xu(),u=()=>o.status!=="pending",d=N=>{var S;if(!u()){const C=new Ju(N);b(C),(S=e.onCancel)==null||S.call(e,C)}},p=()=>{t=!0},f=()=>{t=!1},g=()=>zd.isFocused()&&(e.networkMode==="always"||ml.isOnline())&&e.canRun(),x=()=>Gg(e.networkMode)&&e.canRun(),v=N=>{u()||(i==null||i(),o.resolve(N))},b=N=>{u()||(i==null||i(),o.reject(N))},j=()=>new Promise(N=>{var S;i=C=>{(u()||g())&&N(C)},(S=e.onPause)==null||S.call(e)}).then(()=>{var N;i=void 0,u()||(N=e.onContinue)==null||N.call(e)}),E=()=>{if(u())return;let N;const S=s===0?e.initialPromise:void 0;try{N=S??e.fn()}catch(C){N=Promise.reject(C)}Promise.resolve(N).then(v).catch(C=>{var I;if(u())return;const R=e.retry??(Ps?0:3),k=e.retryDelay??_k,P=typeof k=="function"?k(s,C):k,T=R===!0||typeof R=="number"&&s<R||typeof R=="function"&&R(s,C);if(t||!T){b(C);return}s++,(I=e.onFail)==null||I.call(e,s,C),Rk(P).then(()=>g()?void 0:j()).then(()=>{t?b(C):E()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(i==null||i(),o),cancelRetry:p,continueRetry:f,canStart:x,start:()=>(x()?E():j().then(E),o)}}var vs,_g,Xg=(_g=class{constructor(){pe(this,vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qu(this.gcTime)&&ie(this,vs,gs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ps?1/0:300*1e3))}clearGcTimeout(){L(this,vs)&&(gs.clearTimeout(L(this,vs)),ie(this,vs,void 0))}},vs=new WeakMap,_g),bs,di,Jt,ks,dt,Da,ws,xn,Qn,zg,zk=(zg=class extends Xg{constructor(t){super();pe(this,xn);pe(this,bs);pe(this,di);pe(this,Jt);pe(this,ks);pe(this,dt);pe(this,Da);pe(this,ws);ie(this,ws,!1),ie(this,Da,t.defaultOptions),this.setOptions(t.options),this.observers=[],ie(this,ks,t.client),ie(this,Jt,L(this,ks).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ie(this,bs,Cm(this.options)),this.state=t.state??L(this,bs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,dt))==null?void 0:t.promise}setOptions(t){if(this.options={...L(this,Da),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Cm(this.options);s.data!==void 0&&(this.setState(Sm(s.data,s.dataUpdatedAt)),ie(this,bs,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,Jt).remove(this)}setData(t,s){const i=Yu(this.state.data,t,this.options);return we(this,xn,Qn).call(this,{data:i,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),i}setState(t,s){we(this,xn,Qn).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var i,o;const s=(i=L(this,dt))==null?void 0:i.promise;return(o=L(this,dt))==null||o.cancel(t),s?s.then(Ct).catch(Ct):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,bs))}isActive(){return this.observers.some(t=>Zt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$r(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Hg(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=L(this,dt))==null||s.continue()}onOnline(){var s;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=L(this,dt))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,Jt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(L(this,dt)&&(L(this,ws)?L(this,dt).cancel({revert:!0}):L(this,dt).cancelRetry()),this.scheduleGc()),L(this,Jt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||we(this,xn,Qn).call(this,{type:"invalidate"})}async fetch(t,s){var f,g,x,v,b,j,E,N,S,C,R,k;if(this.state.fetchStatus!=="idle"&&((f=L(this,dt))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(L(this,dt))return L(this,dt).continueRetry(),L(this,dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(T=>T.options.queryFn);P&&this.setOptions(P.options)}const i=new AbortController,o=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(ie(this,ws,!0),i.signal)})},u=()=>{const P=Qg(this.options,s),I=(()=>{const U={client:L(this,ks),queryKey:this.queryKey,meta:this.meta};return o(U),U})();return ie(this,ws,!1),this.options.persister?this.options.persister(P,I,this):P(I)},p=(()=>{const P={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:L(this,ks),state:this.state,fetchFn:u};return o(P),P})();(g=this.options.behavior)==null||g.onFetch(p,this),ie(this,di,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=p.fetchOptions)==null?void 0:x.meta))&&we(this,xn,Qn).call(this,{type:"fetch",meta:(v=p.fetchOptions)==null?void 0:v.meta}),ie(this,dt,Yg({initialPromise:s==null?void 0:s.initialPromise,fn:p.fetchFn,onCancel:P=>{P instanceof Ju&&P.revert&&this.setState({...L(this,di),fetchStatus:"idle"}),i.abort()},onFail:(P,T)=>{we(this,xn,Qn).call(this,{type:"failed",failureCount:P,error:T})},onPause:()=>{we(this,xn,Qn).call(this,{type:"pause"})},onContinue:()=>{we(this,xn,Qn).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const P=await L(this,dt).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(j=(b=L(this,Jt).config).onSuccess)==null||j.call(b,P,this),(N=(E=L(this,Jt).config).onSettled)==null||N.call(E,P,this.state.error,this),P}catch(P){if(P instanceof Ju){if(P.silent)return L(this,dt).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw we(this,xn,Qn).call(this,{type:"error",error:P}),(C=(S=L(this,Jt).config).onError)==null||C.call(S,P,this),(k=(R=L(this,Jt).config).onSettled)==null||k.call(R,this.state.data,P,this),P}finally{this.scheduleGc()}}},bs=new WeakMap,di=new WeakMap,Jt=new WeakMap,ks=new WeakMap,dt=new WeakMap,Da=new WeakMap,ws=new WeakMap,xn=new WeakSet,Qn=function(t){const s=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Jg(i.data,this.options),fetchMeta:t.meta??null};case"success":const o={...i,...Sm(t.data,t.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,di,t.manual?o:void 0),o;case"error":const u=t.error;return{...i,error:u,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=s(this.state),ot.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),L(this,Jt).notify({query:this,type:"updated",action:t})})},zg);function Jg(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gg(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Sm(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Cm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var It,Ce,La,St,js,pi,Gn,Or,Aa,fi,hi,Ss,Cs,Fr,mi,Le,ma,Zu,ed,td,nd,rd,sd,id,Zg,Vg,Vk=(Vg=class extends Si{constructor(t,s){super();pe(this,Le);pe(this,It);pe(this,Ce);pe(this,La);pe(this,St);pe(this,js);pe(this,pi);pe(this,Gn);pe(this,Or);pe(this,Aa);pe(this,fi);pe(this,hi);pe(this,Ss);pe(this,Cs);pe(this,Fr);pe(this,mi,new Set);this.options=s,ie(this,It,t),ie(this,Or,null),ie(this,Gn,Xu()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Ce).addObserver(this),Nm(L(this,Ce),this.options)?we(this,Le,ma).call(this):this.updateResult(),we(this,Le,nd).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ad(L(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ad(L(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,we(this,Le,rd).call(this),we(this,Le,sd).call(this),L(this,Ce).removeObserver(this)}setOptions(t){const s=this.options,i=L(this,Ce);if(this.options=L(this,It).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zt(this.options.enabled,L(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");we(this,Le,id).call(this),L(this,Ce).setOptions(this.options),s._defaulted&&!hl(this.options,s)&&L(this,It).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Ce),observer:this});const o=this.hasListeners();o&&Em(L(this,Ce),i,this.options,s)&&we(this,Le,ma).call(this),this.updateResult(),o&&(L(this,Ce)!==i||Zt(this.options.enabled,L(this,Ce))!==Zt(s.enabled,L(this,Ce))||$r(this.options.staleTime,L(this,Ce))!==$r(s.staleTime,L(this,Ce)))&&we(this,Le,Zu).call(this);const u=we(this,Le,ed).call(this);o&&(L(this,Ce)!==i||Zt(this.options.enabled,L(this,Ce))!==Zt(s.enabled,L(this,Ce))||u!==L(this,Fr))&&we(this,Le,td).call(this,u)}getOptimisticResult(t){const s=L(this,It).getQueryCache().build(L(this,It),t),i=this.createResult(s,t);return $k(this,i)&&(ie(this,St,i),ie(this,pi,this.options),ie(this,js,L(this,Ce).state)),i}getCurrentResult(){return L(this,St)}trackResult(t,s){return new Proxy(t,{get:(i,o)=>(this.trackProp(o),s==null||s(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&L(this,Gn).status==="pending"&&L(this,Gn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,o))})}trackProp(t){L(this,mi).add(t)}getCurrentQuery(){return L(this,Ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=L(this,It).defaultQueryOptions(t),i=L(this,It).getQueryCache().build(L(this,It),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(t){return we(this,Le,ma).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,St)))}createResult(t,s){var X;const i=L(this,Ce),o=this.options,u=L(this,St),d=L(this,js),p=L(this,pi),g=t!==i?t.state:L(this,La),{state:x}=t;let v={...x},b=!1,j;if(s._optimisticResults){const ee=this.hasListeners(),ae=!ee&&Nm(t,s),re=ee&&Em(t,i,s,o);(ae||re)&&(v={...v,...Jg(x.data,t.options)}),s._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:E,errorUpdatedAt:N,status:S}=v;j=v.data;let C=!1;if(s.placeholderData!==void 0&&j===void 0&&S==="pending"){let ee;u!=null&&u.isPlaceholderData&&s.placeholderData===(p==null?void 0:p.placeholderData)?(ee=u.data,C=!0):ee=typeof s.placeholderData=="function"?s.placeholderData((X=L(this,hi))==null?void 0:X.state.data,L(this,hi)):s.placeholderData,ee!==void 0&&(S="success",j=Yu(u==null?void 0:u.data,ee,s),b=!0)}if(s.select&&j!==void 0&&!C)if(u&&j===(d==null?void 0:d.data)&&s.select===L(this,Aa))j=L(this,fi);else try{ie(this,Aa,s.select),j=s.select(j),j=Yu(u==null?void 0:u.data,j,s),ie(this,fi,j),ie(this,Or,null)}catch(ee){ie(this,Or,ee)}L(this,Or)&&(E=L(this,Or),j=L(this,fi),N=Date.now(),S="error");const R=v.fetchStatus==="fetching",k=S==="pending",P=S==="error",T=k&&R,I=j!==void 0,B={status:S,fetchStatus:v.fetchStatus,isPending:k,isSuccess:S==="success",isError:P,isInitialLoading:T,isLoading:T,data:j,dataUpdatedAt:v.dataUpdatedAt,error:E,errorUpdatedAt:N,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:R,isRefetching:R&&!k,isLoadingError:P&&!I,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:P&&I,isStale:Vd(t,s),refetch:this.refetch,promise:L(this,Gn),isEnabled:Zt(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const ee=B.data!==void 0,ae=B.status==="error"&&!ee,re=W=>{ae?W.reject(B.error):ee&&W.resolve(B.data)},H=()=>{const W=ie(this,Gn,B.promise=Xu());re(W)},F=L(this,Gn);switch(F.status){case"pending":t.queryHash===i.queryHash&&re(F);break;case"fulfilled":(ae||B.data!==F.value)&&H();break;case"rejected":(!ae||B.error!==F.reason)&&H();break}}return B}updateResult(){const t=L(this,St),s=this.createResult(L(this,Ce),this.options);if(ie(this,js,L(this,Ce).state),ie(this,pi,this.options),L(this,js).data!==void 0&&ie(this,hi,L(this,Ce)),hl(s,t))return;ie(this,St,s);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!L(this,mi).size)return!0;const d=new Set(u??L(this,mi));return this.options.throwOnError&&d.add("error"),Object.keys(L(this,St)).some(p=>{const f=p;return L(this,St)[f]!==t[f]&&d.has(f)})};we(this,Le,Zg).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&we(this,Le,nd).call(this)}},It=new WeakMap,Ce=new WeakMap,La=new WeakMap,St=new WeakMap,js=new WeakMap,pi=new WeakMap,Gn=new WeakMap,Or=new WeakMap,Aa=new WeakMap,fi=new WeakMap,hi=new WeakMap,Ss=new WeakMap,Cs=new WeakMap,Fr=new WeakMap,mi=new WeakMap,Le=new WeakSet,ma=function(t){we(this,Le,id).call(this);let s=L(this,Ce).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Ct)),s},Zu=function(){we(this,Le,rd).call(this);const t=$r(this.options.staleTime,L(this,Ce));if(Ps||L(this,St).isStale||!Qu(t))return;const i=Hg(L(this,St).dataUpdatedAt,t)+1;ie(this,Ss,gs.setTimeout(()=>{L(this,St).isStale||this.updateResult()},i))},ed=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Ce)):this.options.refetchInterval)??!1},td=function(t){we(this,Le,sd).call(this),ie(this,Fr,t),!(Ps||Zt(this.options.enabled,L(this,Ce))===!1||!Qu(L(this,Fr))||L(this,Fr)===0)&&ie(this,Cs,gs.setInterval(()=>{(this.options.refetchIntervalInBackground||zd.isFocused())&&we(this,Le,ma).call(this)},L(this,Fr)))},nd=function(){we(this,Le,Zu).call(this),we(this,Le,td).call(this,we(this,Le,ed).call(this))},rd=function(){L(this,Ss)&&(gs.clearTimeout(L(this,Ss)),ie(this,Ss,void 0))},sd=function(){L(this,Cs)&&(gs.clearInterval(L(this,Cs)),ie(this,Cs,void 0))},id=function(){const t=L(this,It).getQueryCache().build(L(this,It),this.options);if(t===L(this,Ce))return;const s=L(this,Ce);ie(this,Ce,t),ie(this,La,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Zg=function(t){ot.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(L(this,St))}),L(this,It).getQueryCache().notify({query:L(this,Ce),type:"observerResultsUpdated"})})},Vg);function Bk(e,t){return Zt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nm(e,t){return Bk(e,t)||e.state.data!==void 0&&ad(e,t,t.refetchOnMount)}function ad(e,t,s){if(Zt(t.enabled,e)!==!1&&$r(t.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&Vd(e,t)}return!1}function Em(e,t,s,i){return(e!==t||Zt(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Vd(e,s)}function Vd(e,t){return Zt(t.enabled,e)!==!1&&e.isStaleByTime($r(t.staleTime,e))}function $k(e,t){return!hl(e.getCurrentResult(),t)}function Pm(e){return{onFetch:(t,s)=>{var x,v,b,j,E;const i=t.options,o=(b=(v=(x=t.fetchOptions)==null?void 0:x.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,u=((j=t.state.data)==null?void 0:j.pages)||[],d=((E=t.state.data)==null?void 0:E.pageParams)||[];let p={pages:[],pageParams:[]},f=0;const g=async()=>{let N=!1;const S=k=>{Ak(k,()=>t.signal,()=>N=!0)},C=Qg(t.options,t.fetchOptions),R=async(k,P,T)=>{if(N)return Promise.reject();if(P==null&&k.pages.length)return Promise.resolve(k);const U=(()=>{const ae={client:t.client,queryKey:t.queryKey,pageParam:P,direction:T?"backward":"forward",meta:t.options.meta};return S(ae),ae})(),B=await C(U),{maxPages:X}=t.options,ee=T?Lk:Dk;return{pages:ee(k.pages,B,X),pageParams:ee(k.pageParams,P,X)}};if(o&&u.length){const k=o==="backward",P=k?Uk:Tm,T={pages:u,pageParams:d},I=P(i,T);p=await R(T,I,k)}else{const k=e??u.length;do{const P=f===0?d[0]??i.initialPageParam:Tm(i,p);if(f>0&&P==null)break;p=await R(p,P),f++}while(f<k)}return p};t.options.persister?t.fetchFn=()=>{var N,S;return(S=(N=t.options).persister)==null?void 0:S.call(N,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=g}}}function Tm(e,{pages:t,pageParams:s}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,s[i],s):void 0}function Uk(e,{pages:t,pageParams:s}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,s[0],s):void 0}var Ia,Dn,vt,Ns,Ln,Rr,Bg,Wk=(Bg=class extends Xg{constructor(t){super();pe(this,Ln);pe(this,Ia);pe(this,Dn);pe(this,vt);pe(this,Ns);ie(this,Ia,t.client),this.mutationId=t.mutationId,ie(this,vt,t.mutationCache),ie(this,Dn,[]),this.state=t.state||ex(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,Dn).includes(t)||(L(this,Dn).push(t),this.clearGcTimeout(),L(this,vt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ie(this,Dn,L(this,Dn).filter(s=>s!==t)),this.scheduleGc(),L(this,vt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,Dn).length||(this.state.status==="pending"?this.scheduleGc():L(this,vt).remove(this))}continue(){var t;return((t=L(this,Ns))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var d,p,f,g,x,v,b,j,E,N,S,C,R,k,P,T,I,U;const s=()=>{we(this,Ln,Rr).call(this,{type:"continue"})},i={client:L(this,Ia),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,Ns,Yg({fn:()=>this.options.mutationFn?this.options.mutationFn(t,i):Promise.reject(new Error("No mutationFn found")),onFail:(B,X)=>{we(this,Ln,Rr).call(this,{type:"failed",failureCount:B,error:X})},onPause:()=>{we(this,Ln,Rr).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,vt).canRun(this)}));const o=this.state.status==="pending",u=!L(this,Ns).canStart();try{if(o)s();else{we(this,Ln,Rr).call(this,{type:"pending",variables:t,isPaused:u}),L(this,vt).config.onMutate&&await L(this,vt).config.onMutate(t,this,i);const X=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,t,i));X!==this.state.context&&we(this,Ln,Rr).call(this,{type:"pending",context:X,variables:t,isPaused:u})}const B=await L(this,Ns).start();return await((g=(f=L(this,vt).config).onSuccess)==null?void 0:g.call(f,B,t,this.state.context,this,i)),await((v=(x=this.options).onSuccess)==null?void 0:v.call(x,B,t,this.state.context,i)),await((j=(b=L(this,vt).config).onSettled)==null?void 0:j.call(b,B,null,this.state.variables,this.state.context,this,i)),await((N=(E=this.options).onSettled)==null?void 0:N.call(E,B,null,t,this.state.context,i)),we(this,Ln,Rr).call(this,{type:"success",data:B}),B}catch(B){try{await((C=(S=L(this,vt).config).onError)==null?void 0:C.call(S,B,t,this.state.context,this,i))}catch(X){Promise.reject(X)}try{await((k=(R=this.options).onError)==null?void 0:k.call(R,B,t,this.state.context,i))}catch(X){Promise.reject(X)}try{await((T=(P=L(this,vt).config).onSettled)==null?void 0:T.call(P,void 0,B,this.state.variables,this.state.context,this,i))}catch(X){Promise.reject(X)}try{await((U=(I=this.options).onSettled)==null?void 0:U.call(I,void 0,B,t,this.state.context,i))}catch(X){Promise.reject(X)}throw we(this,Ln,Rr).call(this,{type:"error",error:B}),B}finally{L(this,vt).runNext(this)}}},Ia=new WeakMap,Dn=new WeakMap,vt=new WeakMap,Ns=new WeakMap,Ln=new WeakSet,Rr=function(t){const s=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),ot.batch(()=>{L(this,Dn).forEach(i=>{i.onMutationUpdate(t)}),L(this,vt).notify({mutation:this,type:"updated",action:t})})},Bg);function ex(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yn,yn,Ma,$g,Kk=($g=class extends Si{constructor(t={}){super();pe(this,Yn);pe(this,yn);pe(this,Ma);this.config=t,ie(this,Yn,new Set),ie(this,yn,new Map),ie(this,Ma,0)}build(t,s,i){const o=new Wk({client:t,mutationCache:this,mutationId:++Xo(this,Ma)._,options:t.defaultMutationOptions(s),state:i});return this.add(o),o}add(t){L(this,Yn).add(t);const s=Jo(t);if(typeof s=="string"){const i=L(this,yn).get(s);i?i.push(t):L(this,yn).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(L(this,Yn).delete(t)){const s=Jo(t);if(typeof s=="string"){const i=L(this,yn).get(s);if(i)if(i.length>1){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}else i[0]===t&&L(this,yn).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Jo(t);if(typeof s=="string"){const i=L(this,yn).get(s),o=i==null?void 0:i.find(u=>u.state.status==="pending");return!o||o===t}else return!0}runNext(t){var i;const s=Jo(t);if(typeof s=="string"){const o=(i=L(this,yn).get(s))==null?void 0:i.find(u=>u!==t&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ot.batch(()=>{L(this,Yn).forEach(t=>{this.notify({type:"removed",mutation:t})}),L(this,Yn).clear(),L(this,yn).clear()})}getAll(){return Array.from(L(this,Yn))}find(t){const s={exact:!0,...t};return this.getAll().find(i=>km(s,i))}findAll(t={}){return this.getAll().filter(s=>km(t,s))}notify(t){ot.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return ot.batch(()=>Promise.all(t.map(s=>s.continue().catch(Ct))))}},Yn=new WeakMap,yn=new WeakMap,Ma=new WeakMap,$g);function Jo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Xn,_r,Mt,Jn,nr,ll,od,Ug,Hk=(Ug=class extends Si{constructor(s,i){super();pe(this,nr);pe(this,Xn);pe(this,_r);pe(this,Mt);pe(this,Jn);ie(this,Xn,s),this.setOptions(i),this.bindMethods(),we(this,nr,ll).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var o;const i=this.options;this.options=L(this,Xn).defaultMutationOptions(s),hl(this.options,i)||L(this,Xn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,Mt),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Ts(i.mutationKey)!==Ts(this.options.mutationKey)?this.reset():((o=L(this,Mt))==null?void 0:o.state.status)==="pending"&&L(this,Mt).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=L(this,Mt))==null||s.removeObserver(this)}onMutationUpdate(s){we(this,nr,ll).call(this),we(this,nr,od).call(this,s)}getCurrentResult(){return L(this,_r)}reset(){var s;(s=L(this,Mt))==null||s.removeObserver(this),ie(this,Mt,void 0),we(this,nr,ll).call(this),we(this,nr,od).call(this)}mutate(s,i){var o;return ie(this,Jn,i),(o=L(this,Mt))==null||o.removeObserver(this),ie(this,Mt,L(this,Xn).getMutationCache().build(L(this,Xn),this.options)),L(this,Mt).addObserver(this),L(this,Mt).execute(s)}},Xn=new WeakMap,_r=new WeakMap,Mt=new WeakMap,Jn=new WeakMap,nr=new WeakSet,ll=function(){var i;const s=((i=L(this,Mt))==null?void 0:i.state)??ex();ie(this,_r,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},od=function(s){ot.batch(()=>{var i,o,u,d,p,f,g,x;if(L(this,Jn)&&this.hasListeners()){const v=L(this,_r).variables,b=L(this,_r).context,j={client:L(this,Xn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((s==null?void 0:s.type)==="success"){try{(o=(i=L(this,Jn)).onSuccess)==null||o.call(i,s.data,v,b,j)}catch(E){Promise.reject(E)}try{(d=(u=L(this,Jn)).onSettled)==null||d.call(u,s.data,null,v,b,j)}catch(E){Promise.reject(E)}}else if((s==null?void 0:s.type)==="error"){try{(f=(p=L(this,Jn)).onError)==null||f.call(p,s.error,v,b,j)}catch(E){Promise.reject(E)}try{(x=(g=L(this,Jn)).onSettled)==null||x.call(g,void 0,s.error,v,b,j)}catch(E){Promise.reject(E)}}}this.listeners.forEach(v=>{v(L(this,_r))})})},Ug),An,Wg,qk=(Wg=class extends Si{constructor(t={}){super();pe(this,An);this.config=t,ie(this,An,new Map)}build(t,s,i){const o=s.queryKey,u=s.queryHash??Od(o,s);let d=this.get(u);return d||(d=new zk({client:t,queryKey:o,queryHash:u,options:t.defaultQueryOptions(s),state:i,defaultOptions:t.getQueryDefaults(o)}),this.add(d)),d}add(t){L(this,An).has(t.queryHash)||(L(this,An).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=L(this,An).get(t.queryHash);s&&(t.destroy(),s===t&&L(this,An).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,An).get(t)}getAll(){return[...L(this,An).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(i=>bm(s,i))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(i=>bm(t,i)):s}notify(t){ot.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){ot.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ot.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},An=new WeakMap,Wg),Ye,zr,Vr,gi,xi,Br,yi,vi,Kg,Qk=(Kg=class{constructor(e={}){pe(this,Ye);pe(this,zr);pe(this,Vr);pe(this,gi);pe(this,xi);pe(this,Br);pe(this,yi);pe(this,vi);ie(this,Ye,e.queryCache||new qk),ie(this,zr,e.mutationCache||new Kk),ie(this,Vr,e.defaultOptions||{}),ie(this,gi,new Map),ie(this,xi,new Map),ie(this,Br,0)}mount(){Xo(this,Br)._++,L(this,Br)===1&&(ie(this,yi,zd.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,Ye).onFocus())})),ie(this,vi,ml.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,Ye).onOnline())})))}unmount(){var e,t;Xo(this,Br)._--,L(this,Br)===0&&((e=L(this,yi))==null||e.call(this),ie(this,yi,void 0),(t=L(this,vi))==null||t.call(this),ie(this,vi,void 0))}isFetching(e){return L(this,Ye).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return L(this,zr).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=L(this,Ye).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=L(this,Ye).build(this,t),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime($r(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return L(this,Ye).findAll(e).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(e,t,s){const i=this.defaultQueryOptions({queryKey:e}),o=L(this,Ye).get(i.queryHash),u=o==null?void 0:o.state.data,d=Pk(t,u);if(d!==void 0)return L(this,Ye).build(this,i).setData(d,{...s,manual:!0})}setQueriesData(e,t,s){return ot.batch(()=>L(this,Ye).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=L(this,Ye).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=L(this,Ye);ot.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=L(this,Ye);return ot.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},i=ot.batch(()=>L(this,Ye).findAll(e).map(o=>o.cancel(s)));return Promise.all(i).then(Ct).catch(Ct)}invalidateQueries(e,t={}){return ot.batch(()=>(L(this,Ye).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},i=ot.batch(()=>L(this,Ye).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,s);return s.throwOnError||(u=u.catch(Ct)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Ct)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=L(this,Ye).build(this,t);return s.isStaleByTime($r(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ct).catch(Ct)}fetchInfiniteQuery(e){return e.behavior=Pm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ct).catch(Ct)}ensureInfiniteQueryData(e){return e.behavior=Pm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ml.isOnline()?L(this,zr).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,Ye)}getMutationCache(){return L(this,zr)}getDefaultOptions(){return L(this,Vr)}setDefaultOptions(e){ie(this,Vr,e)}setQueryDefaults(e,t){L(this,gi).set(Ts(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...L(this,gi).values()],s={};return t.forEach(i=>{ja(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,t){L(this,xi).set(Ts(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...L(this,xi).values()],s={};return t.forEach(i=>{ja(e,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...L(this,Vr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Od(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...L(this,Vr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){L(this,Ye).clear(),L(this,zr).clear()}},Ye=new WeakMap,zr=new WeakMap,Vr=new WeakMap,gi=new WeakMap,xi=new WeakMap,Br=new WeakMap,yi=new WeakMap,vi=new WeakMap,Kg),y=Md();const Gk=Id(y);var tx=y.createContext(void 0),ir=e=>{const t=y.useContext(tx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Yk=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(tx.Provider,{value:e,children:t})),nx=y.createContext(!1),Xk=()=>y.useContext(nx);nx.Provider;function Jk(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Zk=y.createContext(Jk()),ew=()=>y.useContext(Zk),tw=(e,t,s)=>{const i=s!=null&&s.state.error&&typeof e.throwOnError=="function"?_d(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},nw=e=>{y.useEffect(()=>{e.clearReset()},[e])},rw=({result:e,errorResetBoundary:t,throwOnError:s,query:i,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||_d(s,[e.error,i])),sw=e=>{if(e.suspense){const s=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>s(i(...o)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},iw=(e,t)=>e.isLoading&&e.isFetching&&!t,aw=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Rm=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function ow(e,t,s){var b,j,E,N;const i=Xk(),o=ew(),u=ir(),d=u.defaultQueryOptions(e);(j=(b=u.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||j.call(b,d);const p=u.getQueryCache().get(d.queryHash);d._optimisticResults=i?"isRestoring":"optimistic",sw(d),tw(d,o,p),nw(o);const f=!u.getQueryCache().get(d.queryHash),[g]=y.useState(()=>new t(u,d)),x=g.getOptimisticResult(d),v=!i&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(S=>{const C=v?g.subscribe(ot.batchCalls(S)):Ct;return g.updateResult(),C},[g,v]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),y.useEffect(()=>{g.setOptions(d)},[d,g]),aw(d,x))throw Rm(d,g,o);if(rw({result:x,errorResetBoundary:o,throwOnError:d.throwOnError,query:p,suspense:d.suspense}))throw x.error;if((N=(E=u.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||N.call(E,d,x),d.experimental_prefetchInRender&&!Ps&&iw(x,i)){const S=f?Rm(d,g,o):p==null?void 0:p.promise;S==null||S.catch(Ct).finally(()=>{g.updateResult()})}return d.notifyOnChangeProps?x:g.trackResult(x)}function Kr(e,t){return ow(e,Vk)}function en(e,t){const s=ir(),[i]=y.useState(()=>new Hk(s,e));y.useEffect(()=>{i.setOptions(e)},[i,e]);const o=y.useSyncExternalStore(y.useCallback(d=>i.subscribe(ot.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=y.useCallback((d,p)=>{i.mutate(d,p).catch(Ct)},[i]);if(o.error&&_d(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}var Zo={},ju={exports:{}},At={},Su={exports:{}},Cu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function lw(){return Dm||(Dm=1,(function(e){function t(K,J){var ne=K.length;K.push(J);e:for(;0<ne;){var O=ne-1>>>1,q=K[O];if(0<o(q,J))K[O]=J,K[ne]=q,ne=O;else break e}}function s(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var J=K[0],ne=K.pop();if(ne!==J){K[0]=ne;e:for(var O=0,q=K.length,ve=q>>>1;O<ve;){var be=2*(O+1)-1,Se=K[be],ke=be+1,Re=K[ke];if(0>o(Se,ne))ke<q&&0>o(Re,Se)?(K[O]=Re,K[ke]=ne,O=ke):(K[O]=Se,K[be]=ne,O=be);else if(ke<q&&0>o(Re,ne))K[O]=Re,K[ke]=ne,O=ke;else break e}}return J}function o(K,J){var ne=K.sortIndex-J.sortIndex;return ne!==0?ne:K.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var f=[],g=[],x=1,v=null,b=3,j=!1,E=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(K){for(var J=s(g);J!==null;){if(J.callback===null)i(g);else if(J.startTime<=K)i(g),J.sortIndex=J.expirationTime,t(f,J);else break;J=s(g)}}function P(K){if(N=!1,k(K),!E)if(s(f)!==null)E=!0,Y(T);else{var J=s(g);J!==null&&z(P,J.startTime-K)}}function T(K,J){E=!1,N&&(N=!1,C(B),B=-1),j=!0;var ne=b;try{for(k(J),v=s(f);v!==null&&(!(v.expirationTime>J)||K&&!ae());){var O=v.callback;if(typeof O=="function"){v.callback=null,b=v.priorityLevel;var q=O(v.expirationTime<=J);J=e.unstable_now(),typeof q=="function"?v.callback=q:v===s(f)&&i(f),k(J)}else i(f);v=s(f)}if(v!==null)var ve=!0;else{var be=s(g);be!==null&&z(P,be.startTime-J),ve=!1}return ve}finally{v=null,b=ne,j=!1}}var I=!1,U=null,B=-1,X=5,ee=-1;function ae(){return!(e.unstable_now()-ee<X)}function re(){if(U!==null){var K=e.unstable_now();ee=K;var J=!0;try{J=U(!0,K)}finally{J?H():(I=!1,U=null)}}else I=!1}var H;if(typeof R=="function")H=function(){R(re)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,W=F.port2;F.port1.onmessage=re,H=function(){W.postMessage(null)}}else H=function(){S(re,0)};function Y(K){U=K,I||(I=!0,H())}function z(K,J){B=S(function(){K(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){E||j||(E=!0,Y(T))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return s(f)},e.unstable_next=function(K){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var ne=b;b=J;try{return K()}finally{b=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=b;b=K;try{return J()}finally{b=ne}},e.unstable_scheduleCallback=function(K,J,ne){var O=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?O+ne:O):ne=O,K){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ne+q,K={id:x++,callback:J,priorityLevel:K,startTime:ne,expirationTime:q,sortIndex:-1},ne>O?(K.sortIndex=ne,t(g,K),s(f)===null&&K===s(g)&&(N?(C(B),B=-1):N=!0,z(P,ne-O))):(K.sortIndex=q,t(f,K),E||j||(E=!0,Y(T))),K},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(K){var J=b;return function(){var ne=b;b=J;try{return K.apply(this,arguments)}finally{b=ne}}}})(Cu)),Cu}var Lm;function cw(){return Lm||(Lm=1,Su.exports=lw()),Su.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function uw(){if(Am)return At;Am=1;var e=Md(),t=cw();function s(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function u(n,r){d(n,r),d(n+"Capture",r)}function d(n,r){for(o[n]=r,n=0;n<r.length;n++)i.add(r[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},v={};function b(n){return f.call(v,n)?!0:f.call(x,n)?!1:g.test(n)?v[n]=!0:(x[n]=!0,!1)}function j(n,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function E(n,r,a,c){if(r===null||typeof r>"u"||j(n,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function N(n,r,a,c,h,m,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=m,this.removeEmptyString=w}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){S[n]=new N(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];S[r]=new N(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){S[n]=new N(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){S[n]=new N(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){S[n]=new N(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){S[n]=new N(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){S[n]=new N(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){S[n]=new N(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){S[n]=new N(n,5,!1,n.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function R(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(C,R);S[r]=new N(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(C,R);S[r]=new N(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(C,R);S[r]=new N(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){S[n]=new N(n,1,!1,n.toLowerCase(),null,!1,!1)}),S.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){S[n]=new N(n,1,!1,n.toLowerCase(),null,!0,!0)});function k(n,r,a,c){var h=S.hasOwnProperty(r)?S[r]:null;(h!==null?h.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(E(r,a,h,c)&&(a=null),c||h===null?b(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):h.mustUseProperty?n[h.propertyName]=a===null?h.type===3?!1:"":a:(r=h.attributeName,c=h.attributeNamespace,a===null?n.removeAttribute(r):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?n.setAttributeNS(c,r,a):n.setAttribute(r,a))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),I=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),ae=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),K=Symbol.iterator;function J(n){return n===null||typeof n!="object"?null:(n=K&&n[K]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,O;function q(n){if(O===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+n}var ve=!1;function be(n,r){if(!n||ve)return"";ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch($){var c=$}Reflect.construct(n,[],r)}else{try{r.call()}catch($){c=$}n.call(r.prototype)}else{try{throw Error()}catch($){c=$}n()}}catch($){if($&&c&&typeof $.stack=="string"){for(var h=$.stack.split(`
`),m=c.stack.split(`
`),w=h.length-1,D=m.length-1;1<=w&&0<=D&&h[w]!==m[D];)D--;for(;1<=w&&0<=D;w--,D--)if(h[w]!==m[D]){if(w!==1||D!==1)do if(w--,D--,0>D||h[w]!==m[D]){var A=`
`+h[w].replace(" at new "," at ");return n.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",n.displayName)),A}while(1<=w&&0<=D);break}}}finally{ve=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?q(n):""}function Se(n){switch(n.tag){case 5:return q(n.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return n=be(n.type,!1),n;case 11:return n=be(n.type.render,!1),n;case 1:return n=be(n.type,!0),n;default:return""}}function ke(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case I:return"Portal";case X:return"Profiler";case B:return"StrictMode";case H:return"Suspense";case F:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ae:return(n.displayName||"Context")+".Consumer";case ee:return(n._context.displayName||"Context")+".Provider";case re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case W:return r=n.displayName||null,r!==null?r:ke(n.type)||"Memo";case Y:r=n._payload,n=n._init;try{return ke(n(r))}catch{}}return null}function Re(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(r);case 8:return r===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ne(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ae(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Je(n){var r=Ae(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,m.call(this,w)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function rn(n){n._valueTracker||(n._valueTracker=Je(n))}function sn(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=Ae(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function an(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function kn(n,r){var a=r.checked;return ne({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function or(n,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Ne(r.value!=null?r.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Qr(n,r){r=r.checked,r!=null&&k(n,"checked",r,!1)}function $t(n,r){Qr(n,r);var a=Ne(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?on(n,r.type,a):r.hasOwnProperty("defaultValue")&&on(n,r.type,Ne(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Fn(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function on(n,r,a){(r!=="number"||an(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Ut=Array.isArray;function wn(n,r,a,c){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ne(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function Gr(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return ne({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function As(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(s(92));if(Ut(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:Ne(a)}}function se(n,r){var a=Ne(r.value),c=Ne(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function fe(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function Ee(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?Ee(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Qe,jn=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,h){MSApp.execUnsafeLocalFunction(function(){return n(r,a,c,h)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Qe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Et(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yr=["Webkit","ms","Moz","O"];Object.keys(ln).forEach(function(n){Yr.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),ln[r]=ln[n]})});function lr(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||ln.hasOwnProperty(n)&&ln[n]?(""+r).trim():r+"px"}function _n(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=lr(a,r[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,h):n[a]=h}}var Xr=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zn(n,r){if(r){if(Xr[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function xe(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ie=null;function st(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Sn=null,cr=null,ur=null;function Rp(n){if(n=Xi(n)){if(typeof Sn!="function")throw Error(s(280));var r=n.stateNode;r&&(r=po(r),Sn(n.stateNode,n.type,r))}}function Dp(n){cr?ur?ur.push(n):ur=[n]:cr=n}function Lp(){if(cr){var n=cr,r=ur;if(ur=cr=null,Rp(n),r)for(n=0;n<r.length;n++)Rp(r[n])}}function Ap(n,r){return n(r)}function Ip(){}var Fl=!1;function Mp(n,r,a){if(Fl)return n(r,a);Fl=!0;try{return Ap(n,r,a)}finally{Fl=!1,(cr!==null||ur!==null)&&(Ip(),Lp())}}function Ri(n,r){var a=n.stateNode;if(a===null)return null;var c=po(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var _l=!1;if(p)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){_l=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{_l=!1}function Nv(n,r,a,c,h,m,w,D,A){var $=Array.prototype.slice.call(arguments,3);try{r.apply(a,$)}catch(G){this.onError(G)}}var Li=!1,Ua=null,Wa=!1,zl=null,Ev={onError:function(n){Li=!0,Ua=n}};function Pv(n,r,a,c,h,m,w,D,A){Li=!1,Ua=null,Nv.apply(Ev,arguments)}function Tv(n,r,a,c,h,m,w,D,A){if(Pv.apply(this,arguments),Li){if(Li){var $=Ua;Li=!1,Ua=null}else throw Error(s(198));Wa||(Wa=!0,zl=$)}}function Jr(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Op(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Fp(n){if(Jr(n)!==n)throw Error(s(188))}function Rv(n){var r=n.alternate;if(!r){if(r=Jr(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,c=r;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return Fp(h),n;if(m===c)return Fp(h),r;m=m.sibling}throw Error(s(188))}if(a.return!==c.return)a=h,c=m;else{for(var w=!1,D=h.child;D;){if(D===a){w=!0,a=h,c=m;break}if(D===c){w=!0,c=h,a=m;break}D=D.sibling}if(!w){for(D=m.child;D;){if(D===a){w=!0,a=m,c=h;break}if(D===c){w=!0,c=m,a=h;break}D=D.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function _p(n){return n=Rv(n),n!==null?zp(n):null}function zp(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=zp(n);if(r!==null)return r;n=n.sibling}return null}var Vp=t.unstable_scheduleCallback,Bp=t.unstable_cancelCallback,Dv=t.unstable_shouldYield,Lv=t.unstable_requestPaint,Ze=t.unstable_now,Av=t.unstable_getCurrentPriorityLevel,Vl=t.unstable_ImmediatePriority,$p=t.unstable_UserBlockingPriority,Ka=t.unstable_NormalPriority,Iv=t.unstable_LowPriority,Up=t.unstable_IdlePriority,Ha=null,Cn=null;function Mv(n){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Ha,n,void 0,(n.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:_v,Ov=Math.log,Fv=Math.LN2;function _v(n){return n>>>=0,n===0?32:31-(Ov(n)/Fv|0)|0}var qa=64,Qa=4194304;function Ai(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ga(n,r){var a=n.pendingLanes;if(a===0)return 0;var c=0,h=n.suspendedLanes,m=n.pingedLanes,w=a&268435455;if(w!==0){var D=w&~h;D!==0?c=Ai(D):(m&=w,m!==0&&(c=Ai(m)))}else w=a&~h,w!==0?c=Ai(w):m!==0&&(c=Ai(m));if(c===0)return 0;if(r!==0&&r!==c&&(r&h)===0&&(h=c&-c,m=r&-r,h>=m||h===16&&(m&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)a=31-cn(r),h=1<<a,c|=n[a],r&=~h;return c}function zv(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vv(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes;0<m;){var w=31-cn(m),D=1<<w,A=h[w];A===-1?((D&a)===0||(D&c)!==0)&&(h[w]=zv(D,r)):A<=r&&(n.expiredLanes|=D),m&=~D}}function Bl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Wp(){var n=qa;return qa<<=1,(qa&4194240)===0&&(qa=64),n}function $l(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ii(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-cn(r),n[r]=a}function Bv(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var h=31-cn(a),m=1<<h;r[h]=0,c[h]=-1,n[h]=-1,a&=~m}}function Ul(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-cn(a),h=1<<c;h&r|n[c]&r&&(n[c]|=r),a&=~h}}var Me=0;function Kp(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Hp,Wl,qp,Qp,Gp,Kl=!1,Ya=[],dr=null,pr=null,fr=null,Mi=new Map,Oi=new Map,hr=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yp(n,r){switch(n){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Mi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(r.pointerId)}}function Fi(n,r,a,c,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Xi(r),r!==null&&Wl(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function Uv(n,r,a,c,h){switch(r){case"focusin":return dr=Fi(dr,n,r,a,c,h),!0;case"dragenter":return pr=Fi(pr,n,r,a,c,h),!0;case"mouseover":return fr=Fi(fr,n,r,a,c,h),!0;case"pointerover":var m=h.pointerId;return Mi.set(m,Fi(Mi.get(m)||null,n,r,a,c,h)),!0;case"gotpointercapture":return m=h.pointerId,Oi.set(m,Fi(Oi.get(m)||null,n,r,a,c,h)),!0}return!1}function Xp(n){var r=Zr(n.target);if(r!==null){var a=Jr(r);if(a!==null){if(r=a.tag,r===13){if(r=Op(a),r!==null){n.blockedOn=r,Gp(n.priority,function(){qp(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xa(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=ql(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ie=c,a.target.dispatchEvent(c),Ie=null}else return r=Xi(a),r!==null&&Wl(r),n.blockedOn=a,!1;r.shift()}return!0}function Jp(n,r,a){Xa(n)&&a.delete(r)}function Wv(){Kl=!1,dr!==null&&Xa(dr)&&(dr=null),pr!==null&&Xa(pr)&&(pr=null),fr!==null&&Xa(fr)&&(fr=null),Mi.forEach(Jp),Oi.forEach(Jp)}function _i(n,r){n.blockedOn===r&&(n.blockedOn=null,Kl||(Kl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Wv)))}function zi(n){function r(h){return _i(h,n)}if(0<Ya.length){_i(Ya[0],n);for(var a=1;a<Ya.length;a++){var c=Ya[a];c.blockedOn===n&&(c.blockedOn=null)}}for(dr!==null&&_i(dr,n),pr!==null&&_i(pr,n),fr!==null&&_i(fr,n),Mi.forEach(r),Oi.forEach(r),a=0;a<hr.length;a++)c=hr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<hr.length&&(a=hr[0],a.blockedOn===null);)Xp(a),a.blockedOn===null&&hr.shift()}var Is=P.ReactCurrentBatchConfig,Ja=!0;function Kv(n,r,a,c){var h=Me,m=Is.transition;Is.transition=null;try{Me=1,Hl(n,r,a,c)}finally{Me=h,Is.transition=m}}function Hv(n,r,a,c){var h=Me,m=Is.transition;Is.transition=null;try{Me=4,Hl(n,r,a,c)}finally{Me=h,Is.transition=m}}function Hl(n,r,a,c){if(Ja){var h=ql(n,r,a,c);if(h===null)uc(n,r,c,Za,a),Yp(n,c);else if(Uv(h,n,r,a,c))c.stopPropagation();else if(Yp(n,c),r&4&&-1<$v.indexOf(n)){for(;h!==null;){var m=Xi(h);if(m!==null&&Hp(m),m=ql(n,r,a,c),m===null&&uc(n,r,c,Za,a),m===h)break;h=m}h!==null&&c.stopPropagation()}else uc(n,r,c,null,a)}}var Za=null;function ql(n,r,a,c){if(Za=null,n=st(c),n=Zr(n),n!==null)if(r=Jr(n),r===null)n=null;else if(a=r.tag,a===13){if(n=Op(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Za=n,null}function Zp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Av()){case Vl:return 1;case $p:return 4;case Ka:case Iv:return 16;case Up:return 536870912;default:return 16}default:return 16}}var mr=null,Ql=null,eo=null;function ef(){if(eo)return eo;var n,r=Ql,a=r.length,c,h="value"in mr?mr.value:mr.textContent,m=h.length;for(n=0;n<a&&r[n]===h[n];n++);var w=a-n;for(c=1;c<=w&&r[a-c]===h[m-c];c++);return eo=h.slice(n,1<c?1-c:void 0)}function to(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function no(){return!0}function tf(){return!1}function Ot(n){function r(a,c,h,m,w){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var D in n)n.hasOwnProperty(D)&&(a=n[D],this[D]=a?a(m):m[D]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?no:tf,this.isPropagationStopped=tf,this}return ne(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),r}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Ot(Ms),Vi=ne({},Ms,{view:0,detail:0}),qv=Ot(Vi),Yl,Xl,Bi,ro=ne({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bi&&(Bi&&n.type==="mousemove"?(Yl=n.screenX-Bi.screenX,Xl=n.screenY-Bi.screenY):Xl=Yl=0,Bi=n),Yl)},movementY:function(n){return"movementY"in n?n.movementY:Xl}}),nf=Ot(ro),Qv=ne({},ro,{dataTransfer:0}),Gv=Ot(Qv),Yv=ne({},Vi,{relatedTarget:0}),Jl=Ot(Yv),Xv=ne({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Jv=Ot(Xv),Zv=ne({},Ms,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),eb=Ot(Zv),tb=ne({},Ms,{data:0}),rf=Ot(tb),nb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ib(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=sb[n])?!!r[n]:!1}function Zl(){return ib}var ab=ne({},Vi,{key:function(n){if(n.key){var r=nb[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=to(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(n){return n.type==="keypress"?to(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?to(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ob=Ot(ab),lb=ne({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=Ot(lb),cb=ne({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),ub=Ot(cb),db=ne({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),pb=Ot(db),fb=ne({},ro,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),hb=Ot(fb),mb=[9,13,27,32],ec=p&&"CompositionEvent"in window,$i=null;p&&"documentMode"in document&&($i=document.documentMode);var gb=p&&"TextEvent"in window&&!$i,af=p&&(!ec||$i&&8<$i&&11>=$i),of=" ",lf=!1;function cf(n,r){switch(n){case"keyup":return mb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Os=!1;function xb(n,r){switch(n){case"compositionend":return uf(r);case"keypress":return r.which!==32?null:(lf=!0,of);case"textInput":return n=r.data,n===of&&lf?null:n;default:return null}}function yb(n,r){if(Os)return n==="compositionend"||!ec&&cf(n,r)?(n=ef(),eo=Ql=mr=null,Os=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return af&&r.locale!=="ko"?null:r.data;default:return null}}var vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!vb[n.type]:r==="textarea"}function pf(n,r,a,c){Dp(c),r=lo(r,"onChange"),0<r.length&&(a=new Gl("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var Ui=null,Wi=null;function bb(n){Rf(n,0)}function so(n){var r=Bs(n);if(sn(r))return n}function kb(n,r){if(n==="change")return r}var ff=!1;if(p){var tc;if(p){var nc="oninput"in document;if(!nc){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),nc=typeof hf.oninput=="function"}tc=nc}else tc=!1;ff=tc&&(!document.documentMode||9<document.documentMode)}function mf(){Ui&&(Ui.detachEvent("onpropertychange",gf),Wi=Ui=null)}function gf(n){if(n.propertyName==="value"&&so(Wi)){var r=[];pf(r,Wi,n,st(n)),Mp(bb,r)}}function wb(n,r,a){n==="focusin"?(mf(),Ui=r,Wi=a,Ui.attachEvent("onpropertychange",gf)):n==="focusout"&&mf()}function jb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return so(Wi)}function Sb(n,r){if(n==="click")return so(r)}function Cb(n,r){if(n==="input"||n==="change")return so(r)}function Nb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var un=typeof Object.is=="function"?Object.is:Nb;function Ki(n,r){if(un(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!f.call(r,h)||!un(n[h],r[h]))return!1}return!0}function xf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yf(n,r){var a=xf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xf(a)}}function vf(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?vf(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function bf(){for(var n=window,r=an();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=an(n.document)}return r}function rc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Eb(n){var r=bf(),a=n.focusedElem,c=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&vf(a.ownerDocument.documentElement,a)){if(c!==null&&rc(a)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var h=a.textContent.length,m=Math.min(c.start,h);c=c.end===void 0?m:Math.min(c.end,h),!n.extend&&m>c&&(h=c,c=m,m=h),h=yf(a,m);var w=yf(a,c);h&&w&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),n.removeAllRanges(),m>c?(n.addRange(r),n.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Pb=p&&"documentMode"in document&&11>=document.documentMode,Fs=null,sc=null,Hi=null,ic=!1;function kf(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ic||Fs==null||Fs!==an(c)||(c=Fs,"selectionStart"in c&&rc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hi&&Ki(Hi,c)||(Hi=c,c=lo(sc,"onSelect"),0<c.length&&(r=new Gl("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=Fs)))}function io(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var _s={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},ac={},wf={};p&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function ao(n){if(ac[n])return ac[n];if(!_s[n])return n;var r=_s[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in wf)return ac[n]=r[a];return n}var jf=ao("animationend"),Sf=ao("animationiteration"),Cf=ao("animationstart"),Nf=ao("transitionend"),Ef=new Map,Pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(n,r){Ef.set(n,r),u(r,[n])}for(var oc=0;oc<Pf.length;oc++){var lc=Pf[oc],Tb=lc.toLowerCase(),Rb=lc[0].toUpperCase()+lc.slice(1);gr(Tb,"on"+Rb)}gr(jf,"onAnimationEnd"),gr(Sf,"onAnimationIteration"),gr(Cf,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(Nf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function Tf(n,r,a){var c=n.type||"unknown-event";n.currentTarget=a,Tv(c,r,void 0,n),n.currentTarget=null}function Rf(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],h=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var w=c.length-1;0<=w;w--){var D=c[w],A=D.instance,$=D.currentTarget;if(D=D.listener,A!==m&&h.isPropagationStopped())break e;Tf(h,D,$),m=A}else for(w=0;w<c.length;w++){if(D=c[w],A=D.instance,$=D.currentTarget,D=D.listener,A!==m&&h.isPropagationStopped())break e;Tf(h,D,$),m=A}}}if(Wa)throw n=zl,Wa=!1,zl=null,n}function ze(n,r){var a=r[gc];a===void 0&&(a=r[gc]=new Set);var c=n+"__bubble";a.has(c)||(Df(r,n,2,!1),a.add(c))}function cc(n,r,a){var c=0;r&&(c|=4),Df(a,n,c,r)}var oo="_reactListening"+Math.random().toString(36).slice(2);function Qi(n){if(!n[oo]){n[oo]=!0,i.forEach(function(a){a!=="selectionchange"&&(Db.has(a)||cc(a,!1,n),cc(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[oo]||(r[oo]=!0,cc("selectionchange",!1,r))}}function Df(n,r,a,c){switch(Zp(r)){case 1:var h=Kv;break;case 4:h=Hv;break;default:h=Hl}a=h.bind(null,r,a,n),h=void 0,!_l||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function uc(n,r,a,c,h){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var D=c.stateNode.containerInfo;if(D===h||D.nodeType===8&&D.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var A=w.tag;if((A===3||A===4)&&(A=w.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;w=w.return}for(;D!==null;){if(w=Zr(D),w===null)return;if(A=w.tag,A===5||A===6){c=m=w;continue e}D=D.parentNode}}c=c.return}Mp(function(){var $=m,G=st(a),Z=[];e:{var Q=Ef.get(n);if(Q!==void 0){var oe=Gl,ce=n;switch(n){case"keypress":if(to(a)===0)break e;case"keydown":case"keyup":oe=ob;break;case"focusin":ce="focus",oe=Jl;break;case"focusout":ce="blur",oe=Jl;break;case"beforeblur":case"afterblur":oe=Jl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=ub;break;case jf:case Sf:case Cf:oe=Jv;break;case Nf:oe=pb;break;case"scroll":oe=qv;break;case"wheel":oe=hb;break;case"copy":case"cut":case"paste":oe=eb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=sf}var ue=(r&4)!==0,et=!ue&&n==="scroll",_=ue?Q!==null?Q+"Capture":null:Q;ue=[];for(var M=$,V;M!==null;){V=M;var te=V.stateNode;if(V.tag===5&&te!==null&&(V=te,_!==null&&(te=Ri(M,_),te!=null&&ue.push(Gi(M,te,V)))),et)break;M=M.return}0<ue.length&&(Q=new oe(Q,ce,null,a,G),Z.push({event:Q,listeners:ue}))}}if((r&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",Q&&a!==Ie&&(ce=a.relatedTarget||a.fromElement)&&(Zr(ce)||ce[Vn]))break e;if((oe||Q)&&(Q=G.window===G?G:(Q=G.ownerDocument)?Q.defaultView||Q.parentWindow:window,oe?(ce=a.relatedTarget||a.toElement,oe=$,ce=ce?Zr(ce):null,ce!==null&&(et=Jr(ce),ce!==et||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=$),oe!==ce)){if(ue=nf,te="onMouseLeave",_="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ue=sf,te="onPointerLeave",_="onPointerEnter",M="pointer"),et=oe==null?Q:Bs(oe),V=ce==null?Q:Bs(ce),Q=new ue(te,M+"leave",oe,a,G),Q.target=et,Q.relatedTarget=V,te=null,Zr(G)===$&&(ue=new ue(_,M+"enter",ce,a,G),ue.target=V,ue.relatedTarget=et,te=ue),et=te,oe&&ce)t:{for(ue=oe,_=ce,M=0,V=ue;V;V=zs(V))M++;for(V=0,te=_;te;te=zs(te))V++;for(;0<M-V;)ue=zs(ue),M--;for(;0<V-M;)_=zs(_),V--;for(;M--;){if(ue===_||_!==null&&ue===_.alternate)break t;ue=zs(ue),_=zs(_)}ue=null}else ue=null;oe!==null&&Lf(Z,Q,oe,ue,!1),ce!==null&&et!==null&&Lf(Z,et,ce,ue,!0)}}e:{if(Q=$?Bs($):window,oe=Q.nodeName&&Q.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Q.type==="file")var de=kb;else if(df(Q))if(ff)de=Cb;else{de=jb;var he=wb}else(oe=Q.nodeName)&&oe.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(de=Sb);if(de&&(de=de(n,$))){pf(Z,de,a,G);break e}he&&he(n,Q,$),n==="focusout"&&(he=Q._wrapperState)&&he.controlled&&Q.type==="number"&&on(Q,"number",Q.value)}switch(he=$?Bs($):window,n){case"focusin":(df(he)||he.contentEditable==="true")&&(Fs=he,sc=$,Hi=null);break;case"focusout":Hi=sc=Fs=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,kf(Z,a,G);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":kf(Z,a,G)}var me;if(ec)e:{switch(n){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Os?cf(n,a)&&(ye="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(af&&a.locale!=="ko"&&(Os||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Os&&(me=ef()):(mr=G,Ql="value"in mr?mr.value:mr.textContent,Os=!0)),he=lo($,ye),0<he.length&&(ye=new rf(ye,n,null,a,G),Z.push({event:ye,listeners:he}),me?ye.data=me:(me=uf(a),me!==null&&(ye.data=me)))),(me=gb?xb(n,a):yb(n,a))&&($=lo($,"onBeforeInput"),0<$.length&&(G=new rf("onBeforeInput","beforeinput",null,a,G),Z.push({event:G,listeners:$}),G.data=me))}Rf(Z,r)})}function Gi(n,r,a){return{instance:n,listener:r,currentTarget:a}}function lo(n,r){for(var a=r+"Capture",c=[];n!==null;){var h=n,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=Ri(n,a),m!=null&&c.unshift(Gi(n,m,h)),m=Ri(n,r),m!=null&&c.push(Gi(n,m,h))),n=n.return}return c}function zs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Lf(n,r,a,c,h){for(var m=r._reactName,w=[];a!==null&&a!==c;){var D=a,A=D.alternate,$=D.stateNode;if(A!==null&&A===c)break;D.tag===5&&$!==null&&(D=$,h?(A=Ri(a,m),A!=null&&w.unshift(Gi(a,A,D))):h||(A=Ri(a,m),A!=null&&w.push(Gi(a,A,D)))),a=a.return}w.length!==0&&n.push({event:r,listeners:w})}var Lb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function Af(n){return(typeof n=="string"?n:""+n).replace(Lb,`
`).replace(Ab,"")}function co(n,r,a){if(r=Af(r),Af(n)!==r&&a)throw Error(s(425))}function uo(){}var dc=null,pc=null;function fc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hc=typeof setTimeout=="function"?setTimeout:void 0,Ib=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(n){return If.resolve(null).then(n).catch(Ob)}:hc;function Ob(n){setTimeout(function(){throw n})}function mc(n,r){var a=r,c=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){n.removeChild(h),zi(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);zi(r)}function xr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Mf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Vs,Yi="__reactProps$"+Vs,Vn="__reactContainer$"+Vs,gc="__reactEvents$"+Vs,Fb="__reactListeners$"+Vs,_b="__reactHandles$"+Vs;function Zr(n){var r=n[Nn];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Vn]||a[Nn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Mf(n);n!==null;){if(a=n[Nn])return a;n=Mf(n)}return r}n=a,a=n.parentNode}return null}function Xi(n){return n=n[Nn]||n[Vn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Bs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function po(n){return n[Yi]||null}var xc=[],$s=-1;function yr(n){return{current:n}}function Ve(n){0>$s||(n.current=xc[$s],xc[$s]=null,$s--)}function _e(n,r){$s++,xc[$s]=n.current,n.current=r}var vr={},mt=yr(vr),Pt=yr(!1),es=vr;function Us(n,r){var a=n.type.contextTypes;if(!a)return vr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in a)h[m]=r[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=h),h}function Tt(n){return n=n.childContextTypes,n!=null}function fo(){Ve(Pt),Ve(mt)}function Of(n,r,a){if(mt.current!==vr)throw Error(s(168));_e(mt,r),_e(Pt,a)}function Ff(n,r,a){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in r))throw Error(s(108,Re(n)||"Unknown",h));return ne({},a,c)}function ho(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||vr,es=mt.current,_e(mt,n),_e(Pt,Pt.current),!0}function _f(n,r,a){var c=n.stateNode;if(!c)throw Error(s(169));a?(n=Ff(n,r,es),c.__reactInternalMemoizedMergedChildContext=n,Ve(Pt),Ve(mt),_e(mt,n)):Ve(Pt),_e(Pt,a)}var Bn=null,mo=!1,yc=!1;function zf(n){Bn===null?Bn=[n]:Bn.push(n)}function zb(n){mo=!0,zf(n)}function br(){if(!yc&&Bn!==null){yc=!0;var n=0,r=Me;try{var a=Bn;for(Me=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Bn=null,mo=!1}catch(h){throw Bn!==null&&(Bn=Bn.slice(n+1)),Vp(Vl,br),h}finally{Me=r,yc=!1}}return null}var Ws=[],Ks=0,go=null,xo=0,Wt=[],Kt=0,ts=null,$n=1,Un="";function ns(n,r){Ws[Ks++]=xo,Ws[Ks++]=go,go=n,xo=r}function Vf(n,r,a){Wt[Kt++]=$n,Wt[Kt++]=Un,Wt[Kt++]=ts,ts=n;var c=$n;n=Un;var h=32-cn(c)-1;c&=~(1<<h),a+=1;var m=32-cn(r)+h;if(30<m){var w=h-h%5;m=(c&(1<<w)-1).toString(32),c>>=w,h-=w,$n=1<<32-cn(r)+h|a<<h|c,Un=m+n}else $n=1<<m|a<<h|c,Un=n}function vc(n){n.return!==null&&(ns(n,1),Vf(n,1,0))}function bc(n){for(;n===go;)go=Ws[--Ks],Ws[Ks]=null,xo=Ws[--Ks],Ws[Ks]=null;for(;n===ts;)ts=Wt[--Kt],Wt[Kt]=null,Un=Wt[--Kt],Wt[Kt]=null,$n=Wt[--Kt],Wt[Kt]=null}var Ft=null,_t=null,$e=!1,dn=null;function Bf(n,r){var a=Gt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function $f(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,Ft=n,_t=xr(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,Ft=n,_t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=ts!==null?{id:$n,overflow:Un}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Gt(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,Ft=n,_t=null,!0):!1;default:return!1}}function kc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function wc(n){if($e){var r=_t;if(r){var a=r;if(!$f(n,r)){if(kc(n))throw Error(s(418));r=xr(a.nextSibling);var c=Ft;r&&$f(n,r)?Bf(c,a):(n.flags=n.flags&-4097|2,$e=!1,Ft=n)}}else{if(kc(n))throw Error(s(418));n.flags=n.flags&-4097|2,$e=!1,Ft=n}}}function Uf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ft=n}function yo(n){if(n!==Ft)return!1;if(!$e)return Uf(n),$e=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!fc(n.type,n.memoizedProps)),r&&(r=_t)){if(kc(n))throw Wf(),Error(s(418));for(;r;)Bf(n,r),r=xr(r.nextSibling)}if(Uf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){_t=xr(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}_t=null}}else _t=Ft?xr(n.stateNode.nextSibling):null;return!0}function Wf(){for(var n=_t;n;)n=xr(n.nextSibling)}function Hs(){_t=Ft=null,$e=!1}function jc(n){dn===null?dn=[n]:dn.push(n)}var Vb=P.ReactCurrentBatchConfig;function Ji(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var c=a.stateNode}if(!c)throw Error(s(147,n));var h=c,m=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(w){var D=h.refs;w===null?delete D[m]:D[m]=w},r._stringRef=m,r)}if(typeof n!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,n))}return n}function vo(n,r){throw n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Kf(n){var r=n._init;return r(n._payload)}function Hf(n){function r(_,M){if(n){var V=_.deletions;V===null?(_.deletions=[M],_.flags|=16):V.push(M)}}function a(_,M){if(!n)return null;for(;M!==null;)r(_,M),M=M.sibling;return null}function c(_,M){for(_=new Map;M!==null;)M.key!==null?_.set(M.key,M):_.set(M.index,M),M=M.sibling;return _}function h(_,M){return _=Pr(_,M),_.index=0,_.sibling=null,_}function m(_,M,V){return _.index=V,n?(V=_.alternate,V!==null?(V=V.index,V<M?(_.flags|=2,M):V):(_.flags|=2,M)):(_.flags|=1048576,M)}function w(_){return n&&_.alternate===null&&(_.flags|=2),_}function D(_,M,V,te){return M===null||M.tag!==6?(M=hu(V,_.mode,te),M.return=_,M):(M=h(M,V),M.return=_,M)}function A(_,M,V,te){var de=V.type;return de===U?G(_,M,V.props.children,te,V.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Y&&Kf(de)===M.type)?(te=h(M,V.props),te.ref=Ji(_,M,V),te.return=_,te):(te=Uo(V.type,V.key,V.props,null,_.mode,te),te.ref=Ji(_,M,V),te.return=_,te)}function $(_,M,V,te){return M===null||M.tag!==4||M.stateNode.containerInfo!==V.containerInfo||M.stateNode.implementation!==V.implementation?(M=mu(V,_.mode,te),M.return=_,M):(M=h(M,V.children||[]),M.return=_,M)}function G(_,M,V,te,de){return M===null||M.tag!==7?(M=us(V,_.mode,te,de),M.return=_,M):(M=h(M,V),M.return=_,M)}function Z(_,M,V){if(typeof M=="string"&&M!==""||typeof M=="number")return M=hu(""+M,_.mode,V),M.return=_,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return V=Uo(M.type,M.key,M.props,null,_.mode,V),V.ref=Ji(_,null,M),V.return=_,V;case I:return M=mu(M,_.mode,V),M.return=_,M;case Y:var te=M._init;return Z(_,te(M._payload),V)}if(Ut(M)||J(M))return M=us(M,_.mode,V,null),M.return=_,M;vo(_,M)}return null}function Q(_,M,V,te){var de=M!==null?M.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return de!==null?null:D(_,M,""+V,te);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return V.key===de?A(_,M,V,te):null;case I:return V.key===de?$(_,M,V,te):null;case Y:return de=V._init,Q(_,M,de(V._payload),te)}if(Ut(V)||J(V))return de!==null?null:G(_,M,V,te,null);vo(_,V)}return null}function oe(_,M,V,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return _=_.get(V)||null,D(M,_,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return _=_.get(te.key===null?V:te.key)||null,A(M,_,te,de);case I:return _=_.get(te.key===null?V:te.key)||null,$(M,_,te,de);case Y:var he=te._init;return oe(_,M,V,he(te._payload),de)}if(Ut(te)||J(te))return _=_.get(V)||null,G(M,_,te,de,null);vo(M,te)}return null}function ce(_,M,V,te){for(var de=null,he=null,me=M,ye=M=0,ut=null;me!==null&&ye<V.length;ye++){me.index>ye?(ut=me,me=null):ut=me.sibling;var De=Q(_,me,V[ye],te);if(De===null){me===null&&(me=ut);break}n&&me&&De.alternate===null&&r(_,me),M=m(De,M,ye),he===null?de=De:he.sibling=De,he=De,me=ut}if(ye===V.length)return a(_,me),$e&&ns(_,ye),de;if(me===null){for(;ye<V.length;ye++)me=Z(_,V[ye],te),me!==null&&(M=m(me,M,ye),he===null?de=me:he.sibling=me,he=me);return $e&&ns(_,ye),de}for(me=c(_,me);ye<V.length;ye++)ut=oe(me,_,ye,V[ye],te),ut!==null&&(n&&ut.alternate!==null&&me.delete(ut.key===null?ye:ut.key),M=m(ut,M,ye),he===null?de=ut:he.sibling=ut,he=ut);return n&&me.forEach(function(Tr){return r(_,Tr)}),$e&&ns(_,ye),de}function ue(_,M,V,te){var de=J(V);if(typeof de!="function")throw Error(s(150));if(V=de.call(V),V==null)throw Error(s(151));for(var he=de=null,me=M,ye=M=0,ut=null,De=V.next();me!==null&&!De.done;ye++,De=V.next()){me.index>ye?(ut=me,me=null):ut=me.sibling;var Tr=Q(_,me,De.value,te);if(Tr===null){me===null&&(me=ut);break}n&&me&&Tr.alternate===null&&r(_,me),M=m(Tr,M,ye),he===null?de=Tr:he.sibling=Tr,he=Tr,me=ut}if(De.done)return a(_,me),$e&&ns(_,ye),de;if(me===null){for(;!De.done;ye++,De=V.next())De=Z(_,De.value,te),De!==null&&(M=m(De,M,ye),he===null?de=De:he.sibling=De,he=De);return $e&&ns(_,ye),de}for(me=c(_,me);!De.done;ye++,De=V.next())De=oe(me,_,ye,De.value,te),De!==null&&(n&&De.alternate!==null&&me.delete(De.key===null?ye:De.key),M=m(De,M,ye),he===null?de=De:he.sibling=De,he=De);return n&&me.forEach(function(vk){return r(_,vk)}),$e&&ns(_,ye),de}function et(_,M,V,te){if(typeof V=="object"&&V!==null&&V.type===U&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case T:e:{for(var de=V.key,he=M;he!==null;){if(he.key===de){if(de=V.type,de===U){if(he.tag===7){a(_,he.sibling),M=h(he,V.props.children),M.return=_,_=M;break e}}else if(he.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Y&&Kf(de)===he.type){a(_,he.sibling),M=h(he,V.props),M.ref=Ji(_,he,V),M.return=_,_=M;break e}a(_,he);break}else r(_,he);he=he.sibling}V.type===U?(M=us(V.props.children,_.mode,te,V.key),M.return=_,_=M):(te=Uo(V.type,V.key,V.props,null,_.mode,te),te.ref=Ji(_,M,V),te.return=_,_=te)}return w(_);case I:e:{for(he=V.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===V.containerInfo&&M.stateNode.implementation===V.implementation){a(_,M.sibling),M=h(M,V.children||[]),M.return=_,_=M;break e}else{a(_,M);break}else r(_,M);M=M.sibling}M=mu(V,_.mode,te),M.return=_,_=M}return w(_);case Y:return he=V._init,et(_,M,he(V._payload),te)}if(Ut(V))return ce(_,M,V,te);if(J(V))return ue(_,M,V,te);vo(_,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,M!==null&&M.tag===6?(a(_,M.sibling),M=h(M,V),M.return=_,_=M):(a(_,M),M=hu(V,_.mode,te),M.return=_,_=M),w(_)):a(_,M)}return et}var qs=Hf(!0),qf=Hf(!1),bo=yr(null),ko=null,Qs=null,Sc=null;function Cc(){Sc=Qs=ko=null}function Nc(n){var r=bo.current;Ve(bo),n._currentValue=r}function Ec(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function Gs(n,r){ko=n,Sc=Qs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Rt=!0),n.firstContext=null)}function Ht(n){var r=n._currentValue;if(Sc!==n)if(n={context:n,memoizedValue:r,next:null},Qs===null){if(ko===null)throw Error(s(308));Qs=n,ko.dependencies={lanes:0,firstContext:n}}else Qs=Qs.next=n;return r}var rs=null;function Pc(n){rs===null?rs=[n]:rs.push(n)}function Qf(n,r,a,c){var h=r.interleaved;return h===null?(a.next=a,Pc(r)):(a.next=h.next,h.next=a),r.interleaved=a,Wn(n,c)}function Wn(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var kr=!1;function Tc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Kn(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function wr(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Te&2)!==0){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,Wn(n,a)}return h=c.interleaved,h===null?(r.next=r,Pc(c)):(r.next=h.next,h.next=r),c.interleaved=r,Wn(n,a)}function wo(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Ul(n,a)}}function Yf(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?h=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?h=m=r:m=m.next=r}else h=m=r;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function jo(n,r,a,c){var h=n.updateQueue;kr=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,D=h.shared.pending;if(D!==null){h.shared.pending=null;var A=D,$=A.next;A.next=null,w===null?m=$:w.next=$,w=A;var G=n.alternate;G!==null&&(G=G.updateQueue,D=G.lastBaseUpdate,D!==w&&(D===null?G.firstBaseUpdate=$:D.next=$,G.lastBaseUpdate=A))}if(m!==null){var Z=h.baseState;w=0,G=$=A=null,D=m;do{var Q=D.lane,oe=D.eventTime;if((c&Q)===Q){G!==null&&(G=G.next={eventTime:oe,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var ce=n,ue=D;switch(Q=r,oe=a,ue.tag){case 1:if(ce=ue.payload,typeof ce=="function"){Z=ce.call(oe,Z,Q);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ue.payload,Q=typeof ce=="function"?ce.call(oe,Z,Q):ce,Q==null)break e;Z=ne({},Z,Q);break e;case 2:kr=!0}}D.callback!==null&&D.lane!==0&&(n.flags|=64,Q=h.effects,Q===null?h.effects=[D]:Q.push(D))}else oe={eventTime:oe,lane:Q,tag:D.tag,payload:D.payload,callback:D.callback,next:null},G===null?($=G=oe,A=Z):G=G.next=oe,w|=Q;if(D=D.next,D===null){if(D=h.shared.pending,D===null)break;Q=D,D=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);if(G===null&&(A=Z),h.baseState=A,h.firstBaseUpdate=$,h.lastBaseUpdate=G,r=h.shared.interleaved,r!==null){h=r;do w|=h.lane,h=h.next;while(h!==r)}else m===null&&(h.shared.lanes=0);as|=w,n.lanes=w,n.memoizedState=Z}}function Xf(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(s(191,h));h.call(c)}}}var Zi={},En=yr(Zi),ea=yr(Zi),ta=yr(Zi);function ss(n){if(n===Zi)throw Error(s(174));return n}function Rc(n,r){switch(_e(ta,r),_e(ea,n),_e(En,Zi),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Fe(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=Fe(r,n)}Ve(En),_e(En,r)}function Ys(){Ve(En),Ve(ea),Ve(ta)}function Jf(n){ss(ta.current);var r=ss(En.current),a=Fe(r,n.type);r!==a&&(_e(ea,n),_e(En,a))}function Dc(n){ea.current===n&&(Ve(En),Ve(ea))}var Ue=yr(0);function So(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Lc=[];function Ac(){for(var n=0;n<Lc.length;n++)Lc[n]._workInProgressVersionPrimary=null;Lc.length=0}var Co=P.ReactCurrentDispatcher,Ic=P.ReactCurrentBatchConfig,is=0,We=null,it=null,lt=null,No=!1,na=!1,ra=0,Bb=0;function gt(){throw Error(s(321))}function Mc(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!un(n[a],r[a]))return!1;return!0}function Oc(n,r,a,c,h,m){if(is=m,We=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Co.current=n===null||n.memoizedState===null?Kb:Hb,n=a(c,h),na){m=0;do{if(na=!1,ra=0,25<=m)throw Error(s(301));m+=1,lt=it=null,r.updateQueue=null,Co.current=qb,n=a(c,h)}while(na)}if(Co.current=To,r=it!==null&&it.next!==null,is=0,lt=it=We=null,No=!1,r)throw Error(s(300));return n}function Fc(){var n=ra!==0;return ra=0,n}function Pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?We.memoizedState=lt=n:lt=lt.next=n,lt}function qt(){if(it===null){var n=We.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var r=lt===null?We.memoizedState:lt.next;if(r!==null)lt=r,it=n;else{if(n===null)throw Error(s(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},lt===null?We.memoizedState=lt=n:lt=lt.next=n}return lt}function sa(n,r){return typeof r=="function"?r(n):r}function _c(n){var r=qt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var c=it,h=c.baseQueue,m=a.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}c.baseQueue=h=m,a.pending=null}if(h!==null){m=h.next,c=c.baseState;var D=w=null,A=null,$=m;do{var G=$.lane;if((is&G)===G)A!==null&&(A=A.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:n(c,$.action);else{var Z={lane:G,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};A===null?(D=A=Z,w=c):A=A.next=Z,We.lanes|=G,as|=G}$=$.next}while($!==null&&$!==m);A===null?w=c:A.next=D,un(c,r.memoizedState)||(Rt=!0),r.memoizedState=c,r.baseState=w,r.baseQueue=A,a.lastRenderedState=c}if(n=a.interleaved,n!==null){h=n;do m=h.lane,We.lanes|=m,as|=m,h=h.next;while(h!==n)}else h===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function zc(n){var r=qt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var c=a.dispatch,h=a.pending,m=r.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do m=n(m,w.action),w=w.next;while(w!==h);un(m,r.memoizedState)||(Rt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,c]}function Zf(){}function eh(n,r){var a=We,c=qt(),h=r(),m=!un(c.memoizedState,h);if(m&&(c.memoizedState=h,Rt=!0),c=c.queue,Vc(rh.bind(null,a,c,n),[n]),c.getSnapshot!==r||m||lt!==null&&lt.memoizedState.tag&1){if(a.flags|=2048,ia(9,nh.bind(null,a,c,h,r),void 0,null),ct===null)throw Error(s(349));(is&30)!==0||th(a,r,h)}return h}function th(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=We.updateQueue,r===null?(r={lastEffect:null,stores:null},We.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function nh(n,r,a,c){r.value=a,r.getSnapshot=c,sh(r)&&ih(n)}function rh(n,r,a){return a(function(){sh(r)&&ih(n)})}function sh(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!un(n,a)}catch{return!0}}function ih(n){var r=Wn(n,1);r!==null&&mn(r,n,1,-1)}function ah(n){var r=Pn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:n},r.queue=n,n=n.dispatch=Wb.bind(null,We,n),[r.memoizedState,n]}function ia(n,r,a,c){return n={tag:n,create:r,destroy:a,deps:c,next:null},r=We.updateQueue,r===null?(r={lastEffect:null,stores:null},We.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n)),n}function oh(){return qt().memoizedState}function Eo(n,r,a,c){var h=Pn();We.flags|=n,h.memoizedState=ia(1|r,a,void 0,c===void 0?null:c)}function Po(n,r,a,c){var h=qt();c=c===void 0?null:c;var m=void 0;if(it!==null){var w=it.memoizedState;if(m=w.destroy,c!==null&&Mc(c,w.deps)){h.memoizedState=ia(r,a,m,c);return}}We.flags|=n,h.memoizedState=ia(1|r,a,m,c)}function lh(n,r){return Eo(8390656,8,n,r)}function Vc(n,r){return Po(2048,8,n,r)}function ch(n,r){return Po(4,2,n,r)}function uh(n,r){return Po(4,4,n,r)}function dh(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function ph(n,r,a){return a=a!=null?a.concat([n]):null,Po(4,4,dh.bind(null,r,n),a)}function Bc(){}function fh(n,r){var a=qt();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Mc(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function hh(n,r){var a=qt();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Mc(r,c[1])?c[0]:(n=n(),a.memoizedState=[n,r],n)}function mh(n,r,a){return(is&21)===0?(n.baseState&&(n.baseState=!1,Rt=!0),n.memoizedState=a):(un(a,r)||(a=Wp(),We.lanes|=a,as|=a,n.baseState=!0),r)}function $b(n,r){var a=Me;Me=a!==0&&4>a?a:4,n(!0);var c=Ic.transition;Ic.transition={};try{n(!1),r()}finally{Me=a,Ic.transition=c}}function gh(){return qt().memoizedState}function Ub(n,r,a){var c=Nr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},xh(n))yh(r,a);else if(a=Qf(n,r,a,c),a!==null){var h=jt();mn(a,n,c,h),vh(a,r,c)}}function Wb(n,r,a){var c=Nr(n),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(xh(n))yh(r,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,D=m(w,a);if(h.hasEagerState=!0,h.eagerState=D,un(D,w)){var A=r.interleaved;A===null?(h.next=h,Pc(r)):(h.next=A.next,A.next=h),r.interleaved=h;return}}catch{}finally{}a=Qf(n,r,h,c),a!==null&&(h=jt(),mn(a,n,c,h),vh(a,r,c))}}function xh(n){var r=n.alternate;return n===We||r!==null&&r===We}function yh(n,r){na=No=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function vh(n,r,a){if((a&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,Ul(n,a)}}var To={readContext:Ht,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},Kb={readContext:Ht,useCallback:function(n,r){return Pn().memoizedState=[n,r===void 0?null:r],n},useContext:Ht,useEffect:lh,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,Eo(4194308,4,dh.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Eo(4194308,4,n,r)},useInsertionEffect:function(n,r){return Eo(4,2,n,r)},useMemo:function(n,r){var a=Pn();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var c=Pn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=Ub.bind(null,We,n),[c.memoizedState,n]},useRef:function(n){var r=Pn();return n={current:n},r.memoizedState=n},useState:ah,useDebugValue:Bc,useDeferredValue:function(n){return Pn().memoizedState=n},useTransition:function(){var n=ah(!1),r=n[0];return n=$b.bind(null,n[1]),Pn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var c=We,h=Pn();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ct===null)throw Error(s(349));(is&30)!==0||th(c,r,a)}h.memoizedState=a;var m={value:a,getSnapshot:r};return h.queue=m,lh(rh.bind(null,c,m,n),[n]),c.flags|=2048,ia(9,nh.bind(null,c,m,a,r),void 0,null),a},useId:function(){var n=Pn(),r=ct.identifierPrefix;if($e){var a=Un,c=$n;a=(c&~(1<<32-cn(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=ra++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Bb++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Hb={readContext:Ht,useCallback:fh,useContext:Ht,useEffect:Vc,useImperativeHandle:ph,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:hh,useReducer:_c,useRef:oh,useState:function(){return _c(sa)},useDebugValue:Bc,useDeferredValue:function(n){var r=qt();return mh(r,it.memoizedState,n)},useTransition:function(){var n=_c(sa)[0],r=qt().memoizedState;return[n,r]},useMutableSource:Zf,useSyncExternalStore:eh,useId:gh,unstable_isNewReconciler:!1},qb={readContext:Ht,useCallback:fh,useContext:Ht,useEffect:Vc,useImperativeHandle:ph,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:hh,useReducer:zc,useRef:oh,useState:function(){return zc(sa)},useDebugValue:Bc,useDeferredValue:function(n){var r=qt();return it===null?r.memoizedState=n:mh(r,it.memoizedState,n)},useTransition:function(){var n=zc(sa)[0],r=qt().memoizedState;return[n,r]},useMutableSource:Zf,useSyncExternalStore:eh,useId:gh,unstable_isNewReconciler:!1};function pn(n,r){if(n&&n.defaultProps){r=ne({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function $c(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:ne({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ro={isMounted:function(n){return(n=n._reactInternals)?Jr(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var c=jt(),h=Nr(n),m=Kn(c,h);m.payload=r,a!=null&&(m.callback=a),r=wr(n,m,h),r!==null&&(mn(r,n,h,c),wo(r,n,h))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=jt(),h=Nr(n),m=Kn(c,h);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=wr(n,m,h),r!==null&&(mn(r,n,h,c),wo(r,n,h))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=jt(),c=Nr(n),h=Kn(a,c);h.tag=2,r!=null&&(h.callback=r),r=wr(n,h,c),r!==null&&(mn(r,n,c,a),wo(r,n,c))}};function bh(n,r,a,c,h,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,w):r.prototype&&r.prototype.isPureReactComponent?!Ki(a,c)||!Ki(h,m):!0}function kh(n,r,a){var c=!1,h=vr,m=r.contextType;return typeof m=="object"&&m!==null?m=Ht(m):(h=Tt(r)?es:mt.current,c=r.contextTypes,m=(c=c!=null)?Us(n,h):vr),r=new r(a,m),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ro,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=m),r}function wh(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&Ro.enqueueReplaceState(r,r.state,null)}function Uc(n,r,a,c){var h=n.stateNode;h.props=a,h.state=n.memoizedState,h.refs={},Tc(n);var m=r.contextType;typeof m=="object"&&m!==null?h.context=Ht(m):(m=Tt(r)?es:mt.current,h.context=Us(n,m)),h.state=n.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&($c(n,r,m,a),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Ro.enqueueReplaceState(h,h.state,null),jo(n,a,h,c),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function Xs(n,r){try{var a="",c=r;do a+=Se(c),c=c.return;while(c);var h=a}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:r,stack:h,digest:null}}function Wc(n,r,a){return{value:n,source:null,stack:a??null,digest:r??null}}function Kc(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Qb=typeof WeakMap=="function"?WeakMap:Map;function jh(n,r,a){a=Kn(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Fo||(Fo=!0,au=c),Kc(n,r)},a}function Sh(n,r,a){a=Kn(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;a.payload=function(){return c(h)},a.callback=function(){Kc(n,r)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Kc(n,r),typeof c!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),a}function Ch(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Qb;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(a)||(h.add(a),n=lk.bind(null,n,r,a),r.then(n,n))}function Nh(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Eh(n,r,a,c,h){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Kn(-1,1),r.tag=2,wr(a,r,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var Gb=P.ReactCurrentOwner,Rt=!1;function wt(n,r,a,c){r.child=n===null?qf(r,null,a,c):qs(r,n.child,a,c)}function Ph(n,r,a,c,h){a=a.render;var m=r.ref;return Gs(r,h),c=Oc(n,r,a,c,m,h),a=Fc(),n!==null&&!Rt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~h,Hn(n,r,h)):($e&&a&&vc(r),r.flags|=1,wt(n,r,c,h),r.child)}function Th(n,r,a,c,h){if(n===null){var m=a.type;return typeof m=="function"&&!fu(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=m,Rh(n,r,m,c,h)):(n=Uo(a.type,null,c,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,(n.lanes&h)===0){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ki,a(w,c)&&n.ref===r.ref)return Hn(n,r,h)}return r.flags|=1,n=Pr(m,c),n.ref=r.ref,n.return=r,r.child=n}function Rh(n,r,a,c,h){if(n!==null){var m=n.memoizedProps;if(Ki(m,c)&&n.ref===r.ref)if(Rt=!1,r.pendingProps=c=m,(n.lanes&h)!==0)(n.flags&131072)!==0&&(Rt=!0);else return r.lanes=n.lanes,Hn(n,r,h)}return Hc(n,r,a,c,h)}function Dh(n,r,a){var c=r.pendingProps,h=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Zs,zt),zt|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,_e(Zs,zt),zt|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,_e(Zs,zt),zt|=c}else m!==null?(c=m.baseLanes|a,r.memoizedState=null):c=a,_e(Zs,zt),zt|=c;return wt(n,r,h,a),r.child}function Lh(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Hc(n,r,a,c,h){var m=Tt(a)?es:mt.current;return m=Us(r,m),Gs(r,h),a=Oc(n,r,a,c,m,h),c=Fc(),n!==null&&!Rt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~h,Hn(n,r,h)):($e&&c&&vc(r),r.flags|=1,wt(n,r,a,h),r.child)}function Ah(n,r,a,c,h){if(Tt(a)){var m=!0;ho(r)}else m=!1;if(Gs(r,h),r.stateNode===null)Lo(n,r),kh(r,a,c),Uc(r,a,c,h),c=!0;else if(n===null){var w=r.stateNode,D=r.memoizedProps;w.props=D;var A=w.context,$=a.contextType;typeof $=="object"&&$!==null?$=Ht($):($=Tt(a)?es:mt.current,$=Us(r,$));var G=a.getDerivedStateFromProps,Z=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D!==c||A!==$)&&wh(r,w,c,$),kr=!1;var Q=r.memoizedState;w.state=Q,jo(r,c,w,h),A=r.memoizedState,D!==c||Q!==A||Pt.current||kr?(typeof G=="function"&&($c(r,a,G,c),A=r.memoizedState),(D=kr||bh(r,a,D,c,Q,A,$))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=A),w.props=c,w.state=A,w.context=$,c=D):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{w=r.stateNode,Gf(n,r),D=r.memoizedProps,$=r.type===r.elementType?D:pn(r.type,D),w.props=$,Z=r.pendingProps,Q=w.context,A=a.contextType,typeof A=="object"&&A!==null?A=Ht(A):(A=Tt(a)?es:mt.current,A=Us(r,A));var oe=a.getDerivedStateFromProps;(G=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D!==Z||Q!==A)&&wh(r,w,c,A),kr=!1,Q=r.memoizedState,w.state=Q,jo(r,c,w,h);var ce=r.memoizedState;D!==Z||Q!==ce||Pt.current||kr?(typeof oe=="function"&&($c(r,a,oe,c),ce=r.memoizedState),($=kr||bh(r,a,$,c,Q,ce,A)||!1)?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ce,A),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ce,A)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||D===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ce),w.props=c,w.state=ce,w.context=A,c=$):(typeof w.componentDidUpdate!="function"||D===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),c=!1)}return qc(n,r,a,c,m,h)}function qc(n,r,a,c,h,m){Lh(n,r);var w=(r.flags&128)!==0;if(!c&&!w)return h&&_f(r,a,!1),Hn(n,r,m);c=r.stateNode,Gb.current=r;var D=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&w?(r.child=qs(r,n.child,null,m),r.child=qs(r,null,D,m)):wt(n,r,D,m),r.memoizedState=c.state,h&&_f(r,a,!0),r.child}function Ih(n){var r=n.stateNode;r.pendingContext?Of(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Of(n,r.context,!1),Rc(n,r.containerInfo)}function Mh(n,r,a,c,h){return Hs(),jc(h),r.flags|=256,wt(n,r,a,c),r.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function Gc(n){return{baseLanes:n,cachePool:null,transitions:null}}function Oh(n,r,a){var c=r.pendingProps,h=Ue.current,m=!1,w=(r.flags&128)!==0,D;if((D=w)||(D=n!==null&&n.memoizedState===null?!1:(h&2)!==0),D?(m=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),_e(Ue,h&1),n===null)return wc(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(w=c.children,n=c.fallback,m?(c=r.mode,m=r.child,w={mode:"hidden",children:w},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=Wo(w,c,0,null),n=us(n,c,a,null),m.return=r,n.return=r,m.sibling=n,r.child=m,r.child.memoizedState=Gc(a),r.memoizedState=Qc,n):Yc(r,w));if(h=n.memoizedState,h!==null&&(D=h.dehydrated,D!==null))return Yb(n,r,w,c,D,h,a);if(m){m=c.fallback,w=r.mode,h=n.child,D=h.sibling;var A={mode:"hidden",children:c.children};return(w&1)===0&&r.child!==h?(c=r.child,c.childLanes=0,c.pendingProps=A,r.deletions=null):(c=Pr(h,A),c.subtreeFlags=h.subtreeFlags&14680064),D!==null?m=Pr(D,m):(m=us(m,w,a,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,w=n.child.memoizedState,w=w===null?Gc(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=n.childLanes&~a,r.memoizedState=Qc,c}return m=n.child,n=m.sibling,c=Pr(m,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=c,r.memoizedState=null,c}function Yc(n,r){return r=Wo({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Do(n,r,a,c){return c!==null&&jc(c),qs(r,n.child,null,a),n=Yc(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Yb(n,r,a,c,h,m,w){if(a)return r.flags&256?(r.flags&=-257,c=Wc(Error(s(422))),Do(n,r,w,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(m=c.fallback,h=r.mode,c=Wo({mode:"visible",children:c.children},h,0,null),m=us(m,h,w,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,(r.mode&1)!==0&&qs(r,n.child,null,w),r.child.memoizedState=Gc(w),r.memoizedState=Qc,m);if((r.mode&1)===0)return Do(n,r,w,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var D=c.dgst;return c=D,m=Error(s(419)),c=Wc(m,c,void 0),Do(n,r,w,c)}if(D=(w&n.childLanes)!==0,Rt||D){if(c=ct,c!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|w))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,Wn(n,h),mn(c,n,h,-1))}return pu(),c=Wc(Error(s(421))),Do(n,r,w,c)}return h.data==="$?"?(r.flags|=128,r.child=n.child,r=ck.bind(null,n),h._reactRetry=r,null):(n=m.treeContext,_t=xr(h.nextSibling),Ft=r,$e=!0,dn=null,n!==null&&(Wt[Kt++]=$n,Wt[Kt++]=Un,Wt[Kt++]=ts,$n=n.id,Un=n.overflow,ts=r),r=Yc(r,c.children),r.flags|=4096,r)}function Fh(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Ec(n.return,r,a)}function Xc(n,r,a,c,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=h)}function _h(n,r,a){var c=r.pendingProps,h=c.revealOrder,m=c.tail;if(wt(n,r,c.children,a),c=Ue.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Fh(n,a,r);else if(n.tag===19)Fh(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(_e(Ue,c),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&So(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Xc(r,!1,h,a,m);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&So(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Xc(r,!0,a,null,m);break;case"together":Xc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Lo(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Hn(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),as|=r.lanes,(a&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Pr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Pr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Xb(n,r,a){switch(r.tag){case 3:Ih(r),Hs();break;case 5:Jf(r);break;case 1:Tt(r.type)&&ho(r);break;case 4:Rc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,h=r.memoizedProps.value;_e(bo,c._currentValue),c._currentValue=h;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(_e(Ue,Ue.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?Oh(n,r,a):(_e(Ue,Ue.current&1),n=Hn(n,r,a),n!==null?n.sibling:null);_e(Ue,Ue.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(n.flags&128)!==0){if(c)return _h(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),_e(Ue,Ue.current),c)break;return null;case 22:case 23:return r.lanes=0,Dh(n,r,a)}return Hn(n,r,a)}var zh,Jc,Vh,Bh;zh=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Jc=function(){},Vh=function(n,r,a,c){var h=n.memoizedProps;if(h!==c){n=r.stateNode,ss(En.current);var m=null;switch(a){case"input":h=kn(n,h),c=kn(n,c),m=[];break;case"select":h=ne({},h,{value:void 0}),c=ne({},c,{value:void 0}),m=[];break;case"textarea":h=Gr(n,h),c=Gr(n,c),m=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=uo)}zn(a,c);var w;a=null;for($ in h)if(!c.hasOwnProperty($)&&h.hasOwnProperty($)&&h[$]!=null)if($==="style"){var D=h[$];for(w in D)D.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?m||(m=[]):(m=m||[]).push($,null));for($ in c){var A=c[$];if(D=h!=null?h[$]:void 0,c.hasOwnProperty($)&&A!==D&&(A!=null||D!=null))if($==="style")if(D){for(w in D)!D.hasOwnProperty(w)||A&&A.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in A)A.hasOwnProperty(w)&&D[w]!==A[w]&&(a||(a={}),a[w]=A[w])}else a||(m||(m=[]),m.push($,a)),a=A;else $==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,D=D?D.__html:void 0,A!=null&&D!==A&&(m=m||[]).push($,A)):$==="children"?typeof A!="string"&&typeof A!="number"||(m=m||[]).push($,""+A):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(A!=null&&$==="onScroll"&&ze("scroll",n),m||D===A||(m=[])):(m=m||[]).push($,A))}a&&(m=m||[]).push("style",a);var $=m;(r.updateQueue=$)&&(r.flags|=4)}},Bh=function(n,r,a,c){a!==c&&(r.flags|=4)};function aa(n,r){if(!$e)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function xt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function Jb(n,r,a){var c=r.pendingProps;switch(bc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(r),null;case 1:return Tt(r.type)&&fo(),xt(r),null;case 3:return c=r.stateNode,Ys(),Ve(Pt),Ve(mt),Ac(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(yo(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,dn!==null&&(cu(dn),dn=null))),Jc(n,r),xt(r),null;case 5:Dc(r);var h=ss(ta.current);if(a=r.type,n!==null&&r.stateNode!=null)Vh(n,r,a,c,h),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(s(166));return xt(r),null}if(n=ss(En.current),yo(r)){c=r.stateNode,a=r.type;var m=r.memoizedProps;switch(c[Nn]=r,c[Yi]=m,n=(r.mode&1)!==0,a){case"dialog":ze("cancel",c),ze("close",c);break;case"iframe":case"object":case"embed":ze("load",c);break;case"video":case"audio":for(h=0;h<qi.length;h++)ze(qi[h],c);break;case"source":ze("error",c);break;case"img":case"image":case"link":ze("error",c),ze("load",c);break;case"details":ze("toggle",c);break;case"input":or(c,m),ze("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},ze("invalid",c);break;case"textarea":As(c,m),ze("invalid",c)}zn(a,m),h=null;for(var w in m)if(m.hasOwnProperty(w)){var D=m[w];w==="children"?typeof D=="string"?c.textContent!==D&&(m.suppressHydrationWarning!==!0&&co(c.textContent,D,n),h=["children",D]):typeof D=="number"&&c.textContent!==""+D&&(m.suppressHydrationWarning!==!0&&co(c.textContent,D,n),h=["children",""+D]):o.hasOwnProperty(w)&&D!=null&&w==="onScroll"&&ze("scroll",c)}switch(a){case"input":rn(c),Fn(c,m,!0);break;case"textarea":rn(c),fe(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=uo)}c=h,r.updateQueue=c,c!==null&&(r.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ee(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(a,{is:c.is}):(n=w.createElement(a),a==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,a),n[Nn]=r,n[Yi]=c,zh(n,r,!1,!1),r.stateNode=n;e:{switch(w=xe(a,c),a){case"dialog":ze("cancel",n),ze("close",n),h=c;break;case"iframe":case"object":case"embed":ze("load",n),h=c;break;case"video":case"audio":for(h=0;h<qi.length;h++)ze(qi[h],n);h=c;break;case"source":ze("error",n),h=c;break;case"img":case"image":case"link":ze("error",n),ze("load",n),h=c;break;case"details":ze("toggle",n),h=c;break;case"input":or(n,c),h=kn(n,c),ze("invalid",n);break;case"option":h=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},h=ne({},c,{value:void 0}),ze("invalid",n);break;case"textarea":As(n,c),h=Gr(n,c),ze("invalid",n);break;default:h=c}zn(a,h),D=h;for(m in D)if(D.hasOwnProperty(m)){var A=D[m];m==="style"?_n(n,A):m==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&jn(n,A)):m==="children"?typeof A=="string"?(a!=="textarea"||A!=="")&&Et(n,A):typeof A=="number"&&Et(n,""+A):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?A!=null&&m==="onScroll"&&ze("scroll",n):A!=null&&k(n,m,A,w))}switch(a){case"input":rn(n),Fn(n,c,!1);break;case"textarea":rn(n),fe(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ne(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?wn(n,!!c.multiple,m,!1):c.defaultValue!=null&&wn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=uo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return xt(r),null;case 6:if(n&&r.stateNode!=null)Bh(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(a=ss(ta.current),ss(En.current),yo(r)){if(c=r.stateNode,a=r.memoizedProps,c[Nn]=r,(m=c.nodeValue!==a)&&(n=Ft,n!==null))switch(n.tag){case 3:co(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&co(c.nodeValue,a,(n.mode&1)!==0)}m&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Nn]=r,r.stateNode=c}return xt(r),null;case 13:if(Ve(Ue),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if($e&&_t!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Wf(),Hs(),r.flags|=98560,m=!1;else if(m=yo(r),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Nn]=r}else Hs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;xt(r),m=!1}else dn!==null&&(cu(dn),dn=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Ue.current&1)!==0?at===0&&(at=3):pu())),r.updateQueue!==null&&(r.flags|=4),xt(r),null);case 4:return Ys(),Jc(n,r),n===null&&Qi(r.stateNode.containerInfo),xt(r),null;case 10:return Nc(r.type._context),xt(r),null;case 17:return Tt(r.type)&&fo(),xt(r),null;case 19:if(Ve(Ue),m=r.memoizedState,m===null)return xt(r),null;if(c=(r.flags&128)!==0,w=m.rendering,w===null)if(c)aa(m,!1);else{if(at!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(w=So(n),w!==null){for(r.flags|=128,aa(m,!1),c=w.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)m=a,n=c,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,n=w.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return _e(Ue,Ue.current&1|2),r.child}n=n.sibling}m.tail!==null&&Ze()>ei&&(r.flags|=128,c=!0,aa(m,!1),r.lanes=4194304)}else{if(!c)if(n=So(w),n!==null){if(r.flags|=128,c=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),aa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!$e)return xt(r),null}else 2*Ze()-m.renderingStartTime>ei&&a!==1073741824&&(r.flags|=128,c=!0,aa(m,!1),r.lanes=4194304);m.isBackwards?(w.sibling=r.child,r.child=w):(a=m.last,a!==null?a.sibling=w:r.child=w,m.last=w)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Ze(),r.sibling=null,a=Ue.current,_e(Ue,c?a&1|2:a&1),r):(xt(r),null);case 22:case 23:return du(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(zt&1073741824)!==0&&(xt(r),r.subtreeFlags&6&&(r.flags|=8192)):xt(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Zb(n,r){switch(bc(r),r.tag){case 1:return Tt(r.type)&&fo(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ys(),Ve(Pt),Ve(mt),Ac(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Dc(r),null;case 13:if(Ve(Ue),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Hs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ve(Ue),null;case 4:return Ys(),null;case 10:return Nc(r.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var Ao=!1,yt=!1,ek=typeof WeakSet=="function"?WeakSet:Set,le=null;function Js(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Ge(n,r,c)}else a.current=null}function Zc(n,r,a){try{a()}catch(c){Ge(n,r,c)}}var $h=!1;function tk(n,r){if(dc=Ja,n=bf(),rc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,D=-1,A=-1,$=0,G=0,Z=n,Q=null;t:for(;;){for(var oe;Z!==a||h!==0&&Z.nodeType!==3||(D=w+h),Z!==m||c!==0&&Z.nodeType!==3||(A=w+c),Z.nodeType===3&&(w+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)Q=Z,Z=oe;for(;;){if(Z===n)break t;if(Q===a&&++$===h&&(D=w),Q===m&&++G===c&&(A=w),(oe=Z.nextSibling)!==null)break;Z=Q,Q=Z.parentNode}Z=oe}a=D===-1||A===-1?null:{start:D,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(pc={focusedElem:n,selectionRange:a},Ja=!1,le=r;le!==null;)if(r=le,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,le=n;else for(;le!==null;){r=le;try{var ce=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var ue=ce.memoizedProps,et=ce.memoizedState,_=r.stateNode,M=_.getSnapshotBeforeUpdate(r.elementType===r.type?ue:pn(r.type,ue),et);_.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var V=r.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(te){Ge(r,r.return,te)}if(n=r.sibling,n!==null){n.return=r.return,le=n;break}le=r.return}return ce=$h,$h=!1,ce}function oa(n,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&n)===n){var m=h.destroy;h.destroy=void 0,m!==void 0&&Zc(r,a,m)}h=h.next}while(h!==c)}}function Io(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function eu(n){var r=n.ref;if(r!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof r=="function"?r(n):r.current=n}}function Uh(n){var r=n.alternate;r!==null&&(n.alternate=null,Uh(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Nn],delete r[Yi],delete r[gc],delete r[Fb],delete r[_b])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Wh(n){return n.tag===5||n.tag===3||n.tag===4}function Kh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wh(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tu(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=uo));else if(c!==4&&(n=n.child,n!==null))for(tu(n,r,a),n=n.sibling;n!==null;)tu(n,r,a),n=n.sibling}function nu(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(nu(n,r,a),n=n.sibling;n!==null;)nu(n,r,a),n=n.sibling}var pt=null,fn=!1;function jr(n,r,a){for(a=a.child;a!==null;)Hh(n,r,a),a=a.sibling}function Hh(n,r,a){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Ha,a)}catch{}switch(a.tag){case 5:yt||Js(a,r);case 6:var c=pt,h=fn;pt=null,jr(n,r,a),pt=c,fn=h,pt!==null&&(fn?(n=pt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):pt.removeChild(a.stateNode));break;case 18:pt!==null&&(fn?(n=pt,a=a.stateNode,n.nodeType===8?mc(n.parentNode,a):n.nodeType===1&&mc(n,a),zi(n)):mc(pt,a.stateNode));break;case 4:c=pt,h=fn,pt=a.stateNode.containerInfo,fn=!0,jr(n,r,a),pt=c,fn=h;break;case 0:case 11:case 14:case 15:if(!yt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var m=h,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&Zc(a,r,w),h=h.next}while(h!==c)}jr(n,r,a);break;case 1:if(!yt&&(Js(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(D){Ge(a,r,D)}jr(n,r,a);break;case 21:jr(n,r,a);break;case 22:a.mode&1?(yt=(c=yt)||a.memoizedState!==null,jr(n,r,a),yt=c):jr(n,r,a);break;default:jr(n,r,a)}}function qh(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new ek),r.forEach(function(c){var h=uk.bind(null,n,c);a.has(c)||(a.add(c),c.then(h,h))})}}function hn(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var m=n,w=r,D=w;e:for(;D!==null;){switch(D.tag){case 5:pt=D.stateNode,fn=!1;break e;case 3:pt=D.stateNode.containerInfo,fn=!0;break e;case 4:pt=D.stateNode.containerInfo,fn=!0;break e}D=D.return}if(pt===null)throw Error(s(160));Hh(m,w,h),pt=null,fn=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch($){Ge(h,r,$)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Qh(r,n),r=r.sibling}function Qh(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(hn(r,n),Tn(n),c&4){try{oa(3,n,n.return),Io(3,n)}catch(ue){Ge(n,n.return,ue)}try{oa(5,n,n.return)}catch(ue){Ge(n,n.return,ue)}}break;case 1:hn(r,n),Tn(n),c&512&&a!==null&&Js(a,a.return);break;case 5:if(hn(r,n),Tn(n),c&512&&a!==null&&Js(a,a.return),n.flags&32){var h=n.stateNode;try{Et(h,"")}catch(ue){Ge(n,n.return,ue)}}if(c&4&&(h=n.stateNode,h!=null)){var m=n.memoizedProps,w=a!==null?a.memoizedProps:m,D=n.type,A=n.updateQueue;if(n.updateQueue=null,A!==null)try{D==="input"&&m.type==="radio"&&m.name!=null&&Qr(h,m),xe(D,w);var $=xe(D,m);for(w=0;w<A.length;w+=2){var G=A[w],Z=A[w+1];G==="style"?_n(h,Z):G==="dangerouslySetInnerHTML"?jn(h,Z):G==="children"?Et(h,Z):k(h,G,Z,$)}switch(D){case"input":$t(h,m);break;case"textarea":se(h,m);break;case"select":var Q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var oe=m.value;oe!=null?wn(h,!!m.multiple,oe,!1):Q!==!!m.multiple&&(m.defaultValue!=null?wn(h,!!m.multiple,m.defaultValue,!0):wn(h,!!m.multiple,m.multiple?[]:"",!1))}h[Yi]=m}catch(ue){Ge(n,n.return,ue)}}break;case 6:if(hn(r,n),Tn(n),c&4){if(n.stateNode===null)throw Error(s(162));h=n.stateNode,m=n.memoizedProps;try{h.nodeValue=m}catch(ue){Ge(n,n.return,ue)}}break;case 3:if(hn(r,n),Tn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{zi(r.containerInfo)}catch(ue){Ge(n,n.return,ue)}break;case 4:hn(r,n),Tn(n);break;case 13:hn(r,n),Tn(n),h=n.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(iu=Ze())),c&4&&qh(n);break;case 22:if(G=a!==null&&a.memoizedState!==null,n.mode&1?(yt=($=yt)||G,hn(r,n),yt=$):hn(r,n),Tn(n),c&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!G&&(n.mode&1)!==0)for(le=n,G=n.child;G!==null;){for(Z=le=G;le!==null;){switch(Q=le,oe=Q.child,Q.tag){case 0:case 11:case 14:case 15:oa(4,Q,Q.return);break;case 1:Js(Q,Q.return);var ce=Q.stateNode;if(typeof ce.componentWillUnmount=="function"){c=Q,a=Q.return;try{r=c,ce.props=r.memoizedProps,ce.state=r.memoizedState,ce.componentWillUnmount()}catch(ue){Ge(c,a,ue)}}break;case 5:Js(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Xh(Z);continue}}oe!==null?(oe.return=Q,le=oe):Xh(Z)}G=G.sibling}e:for(G=null,Z=n;;){if(Z.tag===5){if(G===null){G=Z;try{h=Z.stateNode,$?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(D=Z.stateNode,A=Z.memoizedProps.style,w=A!=null&&A.hasOwnProperty("display")?A.display:null,D.style.display=lr("display",w))}catch(ue){Ge(n,n.return,ue)}}}else if(Z.tag===6){if(G===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(ue){Ge(n,n.return,ue)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;G===Z&&(G=null),Z=Z.return}G===Z&&(G=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:hn(r,n),Tn(n),c&4&&qh(n);break;case 21:break;default:hn(r,n),Tn(n)}}function Tn(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(Wh(a)){var c=a;break e}a=a.return}throw Error(s(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Et(h,""),c.flags&=-33);var m=Kh(n);nu(n,m,h);break;case 3:case 4:var w=c.stateNode.containerInfo,D=Kh(n);tu(n,D,w);break;default:throw Error(s(161))}}catch(A){Ge(n,n.return,A)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function nk(n,r,a){le=n,Gh(n)}function Gh(n,r,a){for(var c=(n.mode&1)!==0;le!==null;){var h=le,m=h.child;if(h.tag===22&&c){var w=h.memoizedState!==null||Ao;if(!w){var D=h.alternate,A=D!==null&&D.memoizedState!==null||yt;D=Ao;var $=yt;if(Ao=w,(yt=A)&&!$)for(le=h;le!==null;)w=le,A=w.child,w.tag===22&&w.memoizedState!==null?Jh(h):A!==null?(A.return=w,le=A):Jh(h);for(;m!==null;)le=m,Gh(m),m=m.sibling;le=h,Ao=D,yt=$}Yh(n)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,le=m):Yh(n)}}function Yh(n){for(;le!==null;){var r=le;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:yt||Io(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!yt)if(a===null)c.componentDidMount();else{var h=r.elementType===r.type?a.memoizedProps:pn(r.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Xf(r,m,c);break;case 3:var w=r.updateQueue;if(w!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Xf(r,w,a)}break;case 5:var D=r.stateNode;if(a===null&&r.flags&4){a=D;var A=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&a.focus();break;case"img":A.src&&(a.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var $=r.alternate;if($!==null){var G=$.memoizedState;if(G!==null){var Z=G.dehydrated;Z!==null&&zi(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}yt||r.flags&512&&eu(r)}catch(Q){Ge(r,r.return,Q)}}if(r===n){le=null;break}if(a=r.sibling,a!==null){a.return=r.return,le=a;break}le=r.return}}function Xh(n){for(;le!==null;){var r=le;if(r===n){le=null;break}var a=r.sibling;if(a!==null){a.return=r.return,le=a;break}le=r.return}}function Jh(n){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Io(4,r)}catch(A){Ge(r,a,A)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var h=r.return;try{c.componentDidMount()}catch(A){Ge(r,h,A)}}var m=r.return;try{eu(r)}catch(A){Ge(r,m,A)}break;case 5:var w=r.return;try{eu(r)}catch(A){Ge(r,w,A)}}}catch(A){Ge(r,r.return,A)}if(r===n){le=null;break}var D=r.sibling;if(D!==null){D.return=r.return,le=D;break}le=r.return}}var rk=Math.ceil,Mo=P.ReactCurrentDispatcher,ru=P.ReactCurrentOwner,Qt=P.ReactCurrentBatchConfig,Te=0,ct=null,rt=null,ft=0,zt=0,Zs=yr(0),at=0,la=null,as=0,Oo=0,su=0,ca=null,Dt=null,iu=0,ei=1/0,qn=null,Fo=!1,au=null,Sr=null,_o=!1,Cr=null,zo=0,ua=0,ou=null,Vo=-1,Bo=0;function jt(){return(Te&6)!==0?Ze():Vo!==-1?Vo:Vo=Ze()}function Nr(n){return(n.mode&1)===0?1:(Te&2)!==0&&ft!==0?ft&-ft:Vb.transition!==null?(Bo===0&&(Bo=Wp()),Bo):(n=Me,n!==0||(n=window.event,n=n===void 0?16:Zp(n.type)),n)}function mn(n,r,a,c){if(50<ua)throw ua=0,ou=null,Error(s(185));Ii(n,a,c),((Te&2)===0||n!==ct)&&(n===ct&&((Te&2)===0&&(Oo|=a),at===4&&Er(n,ft)),Lt(n,c),a===1&&Te===0&&(r.mode&1)===0&&(ei=Ze()+500,mo&&br()))}function Lt(n,r){var a=n.callbackNode;Vv(n,r);var c=Ga(n,n===ct?ft:0);if(c===0)a!==null&&Bp(a),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(a!=null&&Bp(a),r===1)n.tag===0?zb(em.bind(null,n)):zf(em.bind(null,n)),Mb(function(){(Te&6)===0&&br()}),a=null;else{switch(Kp(c)){case 1:a=Vl;break;case 4:a=$p;break;case 16:a=Ka;break;case 536870912:a=Up;break;default:a=Ka}a=lm(a,Zh.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function Zh(n,r){if(Vo=-1,Bo=0,(Te&6)!==0)throw Error(s(327));var a=n.callbackNode;if(ti()&&n.callbackNode!==a)return null;var c=Ga(n,n===ct?ft:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=$o(n,c);else{r=c;var h=Te;Te|=2;var m=nm();(ct!==n||ft!==r)&&(qn=null,ei=Ze()+500,ls(n,r));do try{ak();break}catch(D){tm(n,D)}while(!0);Cc(),Mo.current=m,Te=h,rt!==null?r=0:(ct=null,ft=0,r=at)}if(r!==0){if(r===2&&(h=Bl(n),h!==0&&(c=h,r=lu(n,h))),r===1)throw a=la,ls(n,0),Er(n,c),Lt(n,Ze()),a;if(r===6)Er(n,c);else{if(h=n.current.alternate,(c&30)===0&&!sk(h)&&(r=$o(n,c),r===2&&(m=Bl(n),m!==0&&(c=m,r=lu(n,m))),r===1))throw a=la,ls(n,0),Er(n,c),Lt(n,Ze()),a;switch(n.finishedWork=h,n.finishedLanes=c,r){case 0:case 1:throw Error(s(345));case 2:cs(n,Dt,qn);break;case 3:if(Er(n,c),(c&130023424)===c&&(r=iu+500-Ze(),10<r)){if(Ga(n,0)!==0)break;if(h=n.suspendedLanes,(h&c)!==c){jt(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=hc(cs.bind(null,n,Dt,qn),r);break}cs(n,Dt,qn);break;case 4:if(Er(n,c),(c&4194240)===c)break;for(r=n.eventTimes,h=-1;0<c;){var w=31-cn(c);m=1<<w,w=r[w],w>h&&(h=w),c&=~m}if(c=h,c=Ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*rk(c/1960))-c,10<c){n.timeoutHandle=hc(cs.bind(null,n,Dt,qn),c);break}cs(n,Dt,qn);break;case 5:cs(n,Dt,qn);break;default:throw Error(s(329))}}}return Lt(n,Ze()),n.callbackNode===a?Zh.bind(null,n):null}function lu(n,r){var a=ca;return n.current.memoizedState.isDehydrated&&(ls(n,r).flags|=256),n=$o(n,r),n!==2&&(r=Dt,Dt=a,r!==null&&cu(r)),n}function cu(n){Dt===null?Dt=n:Dt.push.apply(Dt,n)}function sk(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],m=h.getSnapshot;h=h.value;try{if(!un(m(),h))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Er(n,r){for(r&=~su,r&=~Oo,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-cn(r),c=1<<a;n[a]=-1,r&=~c}}function em(n){if((Te&6)!==0)throw Error(s(327));ti();var r=Ga(n,0);if((r&1)===0)return Lt(n,Ze()),null;var a=$o(n,r);if(n.tag!==0&&a===2){var c=Bl(n);c!==0&&(r=c,a=lu(n,c))}if(a===1)throw a=la,ls(n,0),Er(n,r),Lt(n,Ze()),a;if(a===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,cs(n,Dt,qn),Lt(n,Ze()),null}function uu(n,r){var a=Te;Te|=1;try{return n(r)}finally{Te=a,Te===0&&(ei=Ze()+500,mo&&br())}}function os(n){Cr!==null&&Cr.tag===0&&(Te&6)===0&&ti();var r=Te;Te|=1;var a=Qt.transition,c=Me;try{if(Qt.transition=null,Me=1,n)return n()}finally{Me=c,Qt.transition=a,Te=r,(Te&6)===0&&br()}}function du(){zt=Zs.current,Ve(Zs)}function ls(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Ib(a)),rt!==null)for(a=rt.return;a!==null;){var c=a;switch(bc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&fo();break;case 3:Ys(),Ve(Pt),Ve(mt),Ac();break;case 5:Dc(c);break;case 4:Ys();break;case 13:Ve(Ue);break;case 19:Ve(Ue);break;case 10:Nc(c.type._context);break;case 22:case 23:du()}a=a.return}if(ct=n,rt=n=Pr(n.current,null),ft=zt=r,at=0,la=null,su=Oo=as=0,Dt=ca=null,rs!==null){for(r=0;r<rs.length;r++)if(a=rs[r],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,m=a.pending;if(m!==null){var w=m.next;m.next=h,c.next=w}a.pending=c}rs=null}return n}function tm(n,r){do{var a=rt;try{if(Cc(),Co.current=To,No){for(var c=We.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}No=!1}if(is=0,lt=it=We=null,na=!1,ra=0,ru.current=null,a===null||a.return===null){at=1,la=r,rt=null;break}e:{var m=n,w=a.return,D=a,A=r;if(r=ft,D.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var $=A,G=D,Z=G.tag;if((G.mode&1)===0&&(Z===0||Z===11||Z===15)){var Q=G.alternate;Q?(G.updateQueue=Q.updateQueue,G.memoizedState=Q.memoizedState,G.lanes=Q.lanes):(G.updateQueue=null,G.memoizedState=null)}var oe=Nh(w);if(oe!==null){oe.flags&=-257,Eh(oe,w,D,m,r),oe.mode&1&&Ch(m,$,r),r=oe,A=$;var ce=r.updateQueue;if(ce===null){var ue=new Set;ue.add(A),r.updateQueue=ue}else ce.add(A);break e}else{if((r&1)===0){Ch(m,$,r),pu();break e}A=Error(s(426))}}else if($e&&D.mode&1){var et=Nh(w);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),Eh(et,w,D,m,r),jc(Xs(A,D));break e}}m=A=Xs(A,D),at!==4&&(at=2),ca===null?ca=[m]:ca.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var _=jh(m,A,r);Yf(m,_);break e;case 1:D=A;var M=m.type,V=m.stateNode;if((m.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Sr===null||!Sr.has(V)))){m.flags|=65536,r&=-r,m.lanes|=r;var te=Sh(m,D,r);Yf(m,te);break e}}m=m.return}while(m!==null)}sm(a)}catch(de){r=de,rt===a&&a!==null&&(rt=a=a.return);continue}break}while(!0)}function nm(){var n=Mo.current;return Mo.current=To,n===null?To:n}function pu(){(at===0||at===3||at===2)&&(at=4),ct===null||(as&268435455)===0&&(Oo&268435455)===0||Er(ct,ft)}function $o(n,r){var a=Te;Te|=2;var c=nm();(ct!==n||ft!==r)&&(qn=null,ls(n,r));do try{ik();break}catch(h){tm(n,h)}while(!0);if(Cc(),Te=a,Mo.current=c,rt!==null)throw Error(s(261));return ct=null,ft=0,at}function ik(){for(;rt!==null;)rm(rt)}function ak(){for(;rt!==null&&!Dv();)rm(rt)}function rm(n){var r=om(n.alternate,n,zt);n.memoizedProps=n.pendingProps,r===null?sm(n):rt=r,ru.current=null}function sm(n){var r=n;do{var a=r.alternate;if(n=r.return,(r.flags&32768)===0){if(a=Jb(a,r,zt),a!==null){rt=a;return}}else{if(a=Zb(a,r),a!==null){a.flags&=32767,rt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{at=6,rt=null;return}}if(r=r.sibling,r!==null){rt=r;return}rt=r=n}while(r!==null);at===0&&(at=5)}function cs(n,r,a){var c=Me,h=Qt.transition;try{Qt.transition=null,Me=1,ok(n,r,a,c)}finally{Qt.transition=h,Me=c}return null}function ok(n,r,a,c){do ti();while(Cr!==null);if((Te&6)!==0)throw Error(s(327));a=n.finishedWork;var h=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Bv(n,m),n===ct&&(rt=ct=null,ft=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||_o||(_o=!0,lm(Ka,function(){return ti(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Qt.transition,Qt.transition=null;var w=Me;Me=1;var D=Te;Te|=4,ru.current=null,tk(n,a),Qh(a,n),Eb(pc),Ja=!!dc,pc=dc=null,n.current=a,nk(a),Lv(),Te=D,Me=w,Qt.transition=m}else n.current=a;if(_o&&(_o=!1,Cr=n,zo=h),m=n.pendingLanes,m===0&&(Sr=null),Mv(a.stateNode),Lt(n,Ze()),r!==null)for(c=n.onRecoverableError,a=0;a<r.length;a++)h=r[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(Fo)throw Fo=!1,n=au,au=null,n;return(zo&1)!==0&&n.tag!==0&&ti(),m=n.pendingLanes,(m&1)!==0?n===ou?ua++:(ua=0,ou=n):ua=0,br(),null}function ti(){if(Cr!==null){var n=Kp(zo),r=Qt.transition,a=Me;try{if(Qt.transition=null,Me=16>n?16:n,Cr===null)var c=!1;else{if(n=Cr,Cr=null,zo=0,(Te&6)!==0)throw Error(s(331));var h=Te;for(Te|=4,le=n.current;le!==null;){var m=le,w=m.child;if((le.flags&16)!==0){var D=m.deletions;if(D!==null){for(var A=0;A<D.length;A++){var $=D[A];for(le=$;le!==null;){var G=le;switch(G.tag){case 0:case 11:case 15:oa(8,G,m)}var Z=G.child;if(Z!==null)Z.return=G,le=Z;else for(;le!==null;){G=le;var Q=G.sibling,oe=G.return;if(Uh(G),G===$){le=null;break}if(Q!==null){Q.return=oe,le=Q;break}le=oe}}}var ce=m.alternate;if(ce!==null){var ue=ce.child;if(ue!==null){ce.child=null;do{var et=ue.sibling;ue.sibling=null,ue=et}while(ue!==null)}}le=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,le=w;else e:for(;le!==null;){if(m=le,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:oa(9,m,m.return)}var _=m.sibling;if(_!==null){_.return=m.return,le=_;break e}le=m.return}}var M=n.current;for(le=M;le!==null;){w=le;var V=w.child;if((w.subtreeFlags&2064)!==0&&V!==null)V.return=w,le=V;else e:for(w=M;le!==null;){if(D=le,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Io(9,D)}}catch(de){Ge(D,D.return,de)}if(D===w){le=null;break e}var te=D.sibling;if(te!==null){te.return=D.return,le=te;break e}le=D.return}}if(Te=h,br(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Ha,n)}catch{}c=!0}return c}finally{Me=a,Qt.transition=r}}return!1}function im(n,r,a){r=Xs(a,r),r=jh(n,r,1),n=wr(n,r,1),r=jt(),n!==null&&(Ii(n,1,r),Lt(n,r))}function Ge(n,r,a){if(n.tag===3)im(n,n,a);else for(;r!==null;){if(r.tag===3){im(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sr===null||!Sr.has(c))){n=Xs(a,n),n=Sh(r,n,1),r=wr(r,n,1),n=jt(),r!==null&&(Ii(r,1,n),Lt(r,n));break}}r=r.return}}function lk(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),r=jt(),n.pingedLanes|=n.suspendedLanes&a,ct===n&&(ft&a)===a&&(at===4||at===3&&(ft&130023424)===ft&&500>Ze()-iu?ls(n,0):su|=a),Lt(n,r)}function am(n,r){r===0&&((n.mode&1)===0?r=1:(r=Qa,Qa<<=1,(Qa&130023424)===0&&(Qa=4194304)));var a=jt();n=Wn(n,r),n!==null&&(Ii(n,r,a),Lt(n,a))}function ck(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),am(n,a)}function uk(n,r){var a=0;switch(n.tag){case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(r),am(n,a)}var om;om=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||Pt.current)Rt=!0;else{if((n.lanes&a)===0&&(r.flags&128)===0)return Rt=!1,Xb(n,r,a);Rt=(n.flags&131072)!==0}else Rt=!1,$e&&(r.flags&1048576)!==0&&Vf(r,xo,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Lo(n,r),n=r.pendingProps;var h=Us(r,mt.current);Gs(r,a),h=Oc(null,r,c,n,h,a);var m=Fc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Tt(c)?(m=!0,ho(r)):m=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Tc(r),h.updater=Ro,r.stateNode=h,h._reactInternals=r,Uc(r,c,n,a),r=qc(null,r,c,!0,m,a)):(r.tag=0,$e&&m&&vc(r),wt(null,r,h,a),r=r.child),r;case 16:c=r.elementType;e:{switch(Lo(n,r),n=r.pendingProps,h=c._init,c=h(c._payload),r.type=c,h=r.tag=pk(c),n=pn(c,n),h){case 0:r=Hc(null,r,c,n,a);break e;case 1:r=Ah(null,r,c,n,a);break e;case 11:r=Ph(null,r,c,n,a);break e;case 14:r=Th(null,r,c,pn(c.type,n),a);break e}throw Error(s(306,c,""))}return r;case 0:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:pn(c,h),Hc(n,r,c,h,a);case 1:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:pn(c,h),Ah(n,r,c,h,a);case 3:e:{if(Ih(r),n===null)throw Error(s(387));c=r.pendingProps,m=r.memoizedState,h=m.element,Gf(n,r),jo(r,c,null,a);var w=r.memoizedState;if(c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){h=Xs(Error(s(423)),r),r=Mh(n,r,c,a,h);break e}else if(c!==h){h=Xs(Error(s(424)),r),r=Mh(n,r,c,a,h);break e}else for(_t=xr(r.stateNode.containerInfo.firstChild),Ft=r,$e=!0,dn=null,a=qf(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hs(),c===h){r=Hn(n,r,a);break e}wt(n,r,c,a)}r=r.child}return r;case 5:return Jf(r),n===null&&wc(r),c=r.type,h=r.pendingProps,m=n!==null?n.memoizedProps:null,w=h.children,fc(c,h)?w=null:m!==null&&fc(c,m)&&(r.flags|=32),Lh(n,r),wt(n,r,w,a),r.child;case 6:return n===null&&wc(r),null;case 13:return Oh(n,r,a);case 4:return Rc(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=qs(r,null,c,a):wt(n,r,c,a),r.child;case 11:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:pn(c,h),Ph(n,r,c,h,a);case 7:return wt(n,r,r.pendingProps,a),r.child;case 8:return wt(n,r,r.pendingProps.children,a),r.child;case 12:return wt(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,h=r.pendingProps,m=r.memoizedProps,w=h.value,_e(bo,c._currentValue),c._currentValue=w,m!==null)if(un(m.value,w)){if(m.children===h.children&&!Pt.current){r=Hn(n,r,a);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var D=m.dependencies;if(D!==null){w=m.child;for(var A=D.firstContext;A!==null;){if(A.context===c){if(m.tag===1){A=Kn(-1,a&-a),A.tag=2;var $=m.updateQueue;if($!==null){$=$.shared;var G=$.pending;G===null?A.next=A:(A.next=G.next,G.next=A),$.pending=A}}m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Ec(m.return,a,r),D.lanes|=a;break}A=A.next}}else if(m.tag===10)w=m.type===r.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(s(341));w.lanes|=a,D=w.alternate,D!==null&&(D.lanes|=a),Ec(w,a,r),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===r){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}wt(n,r,h.children,a),r=r.child}return r;case 9:return h=r.type,c=r.pendingProps.children,Gs(r,a),h=Ht(h),c=c(h),r.flags|=1,wt(n,r,c,a),r.child;case 14:return c=r.type,h=pn(c,r.pendingProps),h=pn(c.type,h),Th(n,r,c,h,a);case 15:return Rh(n,r,r.type,r.pendingProps,a);case 17:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:pn(c,h),Lo(n,r),r.tag=1,Tt(c)?(n=!0,ho(r)):n=!1,Gs(r,a),kh(r,c,h),Uc(r,c,h,a),qc(null,r,c,!0,n,a);case 19:return _h(n,r,a);case 22:return Dh(n,r,a)}throw Error(s(156,r.tag))};function lm(n,r){return Vp(n,r)}function dk(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(n,r,a,c){return new dk(n,r,a,c)}function fu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pk(n){if(typeof n=="function")return fu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===re)return 11;if(n===W)return 14}return 2}function Pr(n,r){var a=n.alternate;return a===null?(a=Gt(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Uo(n,r,a,c,h,m){var w=2;if(c=n,typeof n=="function")fu(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case U:return us(a.children,h,m,r);case B:w=8,h|=8;break;case X:return n=Gt(12,a,r,h|2),n.elementType=X,n.lanes=m,n;case H:return n=Gt(13,a,r,h),n.elementType=H,n.lanes=m,n;case F:return n=Gt(19,a,r,h),n.elementType=F,n.lanes=m,n;case z:return Wo(a,h,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ee:w=10;break e;case ae:w=9;break e;case re:w=11;break e;case W:w=14;break e;case Y:w=16,c=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return r=Gt(w,a,r,h),r.elementType=n,r.type=c,r.lanes=m,r}function us(n,r,a,c){return n=Gt(7,n,c,r),n.lanes=a,n}function Wo(n,r,a,c){return n=Gt(22,n,c,r),n.elementType=z,n.lanes=a,n.stateNode={isHidden:!1},n}function hu(n,r,a){return n=Gt(6,n,null,r),n.lanes=a,n}function mu(n,r,a){return r=Gt(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function fk(n,r,a,c,h){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function gu(n,r,a,c,h,m,w,D,A){return n=new fk(n,r,a,D,A),r===1?(r=1,m===!0&&(r|=8)):r=0,m=Gt(3,null,null,r),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tc(m),n}function hk(n,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:c==null?null:""+c,children:n,containerInfo:r,implementation:a}}function cm(n){if(!n)return vr;n=n._reactInternals;e:{if(Jr(n)!==n||n.tag!==1)throw Error(s(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Tt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(n.tag===1){var a=n.type;if(Tt(a))return Ff(n,a,r)}return r}function um(n,r,a,c,h,m,w,D,A){return n=gu(a,c,!0,n,h,m,w,D,A),n.context=cm(null),a=n.current,c=jt(),h=Nr(a),m=Kn(c,h),m.callback=r??null,wr(a,m,h),n.current.lanes=h,Ii(n,h,c),Lt(n,c),n}function Ko(n,r,a,c){var h=r.current,m=jt(),w=Nr(h);return a=cm(a),r.context===null?r.context=a:r.pendingContext=a,r=Kn(m,w),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=wr(h,r,w),n!==null&&(mn(n,h,w,m),wo(n,h,w)),w}function Ho(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function dm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function xu(n,r){dm(n,r),(n=n.alternate)&&dm(n,r)}function mk(){return null}var pm=typeof reportError=="function"?reportError:function(n){console.error(n)};function yu(n){this._internalRoot=n}qo.prototype.render=yu.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));Ko(n,r,null,null)},qo.prototype.unmount=yu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;os(function(){Ko(null,n,null,null)}),r[Vn]=null}};function qo(n){this._internalRoot=n}qo.prototype.unstable_scheduleHydration=function(n){if(n){var r=Qp();n={blockedOn:null,target:n,priority:r};for(var a=0;a<hr.length&&r!==0&&r<hr[a].priority;a++);hr.splice(a,0,n),a===0&&Xp(n)}};function vu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Qo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function fm(){}function gk(n,r,a,c,h){if(h){if(typeof c=="function"){var m=c;c=function(){var $=Ho(w);m.call($)}}var w=um(r,c,n,0,null,!1,!1,"",fm);return n._reactRootContainer=w,n[Vn]=w.current,Qi(n.nodeType===8?n.parentNode:n),os(),w}for(;h=n.lastChild;)n.removeChild(h);if(typeof c=="function"){var D=c;c=function(){var $=Ho(A);D.call($)}}var A=gu(n,0,!1,null,null,!1,!1,"",fm);return n._reactRootContainer=A,n[Vn]=A.current,Qi(n.nodeType===8?n.parentNode:n),os(function(){Ko(r,A,a,c)}),A}function Go(n,r,a,c,h){var m=a._reactRootContainer;if(m){var w=m;if(typeof h=="function"){var D=h;h=function(){var A=Ho(w);D.call(A)}}Ko(r,w,n,h)}else w=gk(a,r,n,h,c);return Ho(w)}Hp=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=Ai(r.pendingLanes);a!==0&&(Ul(r,a|1),Lt(r,Ze()),(Te&6)===0&&(ei=Ze()+500,br()))}break;case 13:os(function(){var c=Wn(n,1);if(c!==null){var h=jt();mn(c,n,1,h)}}),xu(n,1)}},Wl=function(n){if(n.tag===13){var r=Wn(n,134217728);if(r!==null){var a=jt();mn(r,n,134217728,a)}xu(n,134217728)}},qp=function(n){if(n.tag===13){var r=Nr(n),a=Wn(n,r);if(a!==null){var c=jt();mn(a,n,r,c)}xu(n,r)}},Qp=function(){return Me},Gp=function(n,r){var a=Me;try{return Me=n,r()}finally{Me=a}},Sn=function(n,r,a){switch(r){case"input":if($t(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var h=po(c);if(!h)throw Error(s(90));sn(c),$t(c,h)}}}break;case"textarea":se(n,a);break;case"select":r=a.value,r!=null&&wn(n,!!a.multiple,r,!1)}},Ap=uu,Ip=os;var xk={usingClientEntryPoint:!1,Events:[Xi,Bs,po,Dp,Lp,uu]},da={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yk={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=_p(n),n===null?null:n.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{Ha=Yo.inject(yk),Cn=Yo}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk,At.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(r))throw Error(s(200));return hk(n,r,null,a)},At.createRoot=function(n,r){if(!vu(n))throw Error(s(299));var a=!1,c="",h=pm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=gu(n,1,!1,null,null,a,!1,c,h),n[Vn]=r.current,Qi(n.nodeType===8?n.parentNode:n),new yu(r)},At.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=_p(r),n=n===null?null:n.stateNode,n},At.flushSync=function(n){return os(n)},At.hydrate=function(n,r,a){if(!Qo(r))throw Error(s(200));return Go(null,n,r,!0,a)},At.hydrateRoot=function(n,r,a){if(!vu(n))throw Error(s(405));var c=a!=null&&a.hydratedSources||null,h=!1,m="",w=pm;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),r=um(r,null,n,1,a??null,h,!1,m,w),n[Vn]=r.current,Qi(n),c)for(n=0;n<c.length;n++)a=c[n],h=a._getVersion,h=h(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,h]:r.mutableSourceEagerHydrationData.push(a,h);return new qo(r)},At.render=function(n,r,a){if(!Qo(r))throw Error(s(200));return Go(null,n,r,!1,a)},At.unmountComponentAtNode=function(n){if(!Qo(n))throw Error(s(40));return n._reactRootContainer?(os(function(){Go(null,null,n,!1,function(){n._reactRootContainer=null,n[Vn]=null})}),!0):!1},At.unstable_batchedUpdates=uu,At.unstable_renderSubtreeIntoContainer=function(n,r,a,c){if(!Qo(a))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return Go(n,r,a,!1,c)},At.version="18.3.1-next-f1338f8080-20240426",At}var Im;function dw(){if(Im)return ju.exports;Im=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ju.exports=uw(),ju.exports}var Mm;function pw(){if(Mm)return Zo;Mm=1;var e=dw();return Zo.createRoot=e.createRoot,Zo.hydrateRoot=e.hydrateRoot,Zo}var fw=pw();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Om="popstate";function hw(e={}){function t(i,o){let{pathname:u,search:d,hash:p}=i.location;return ld("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(i,o){return typeof o=="string"?o:Sa(o)}return gw(t,s,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mw(){return Math.random().toString(36).substring(2,10)}function Fm(e,t){return{usr:e.state,key:e.key,idx:t}}function ld(e,t,s=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ci(t):t,state:s,key:t&&t.key||i||mw()}}function Sa({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ci(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function gw(e,t,s,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,p="POP",f=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function v(){p="POP";let S=x(),C=S==null?null:S-g;g=S,f&&f({action:p,location:N.location,delta:C})}function b(S,C){p="PUSH";let R=ld(N.location,S,C);g=x()+1;let k=Fm(R,g),P=N.createHref(R);try{d.pushState(k,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(P)}u&&f&&f({action:p,location:N.location,delta:1})}function j(S,C){p="REPLACE";let R=ld(N.location,S,C);g=x();let k=Fm(R,g),P=N.createHref(R);d.replaceState(k,"",P),u&&f&&f({action:p,location:N.location,delta:0})}function E(S){return xw(S)}let N={get action(){return p},get location(){return e(o,d)},listen(S){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Om,v),f=S,()=>{o.removeEventListener(Om,v),f=null}},createHref(S){return t(o,S)},createURL:E,encodeLocation(S){let C=E(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:j,go(S){return d.go(S)}};return N}function xw(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),qe(s,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Sa(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function rx(e,t,s="/"){return yw(e,t,s,!1)}function yw(e,t,s,i){let o=typeof t=="string"?Ci(t):t,u=rr(o.pathname||"/",s);if(u==null)return null;let d=sx(e);vw(d);let p=null;for(let f=0;p==null&&f<d.length;++f){let g=Rw(u);p=Pw(d[f],g,i)}return p}function sx(e,t=[],s=[],i="",o=!1){let u=(d,p,f=o,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&f)return;qe(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let v=Zn([i,x.relativePath]),b=s.concat(x);d.children&&d.children.length>0&&(qe(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),sx(d.children,t,b,v,f)),!(d.path==null&&!d.index)&&t.push({path:v,score:Nw(v,d.index),routesMeta:b})};return e.forEach((d,p)=>{var f;if(d.path===""||!((f=d.path)!=null&&f.includes("?")))u(d,p);else for(let g of ix(d.path))u(d,p,!0,g)}),t}function ix(e){let t=e.split("/");if(t.length===0)return[];let[s,...i]=t,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=ix(i.join("/")),p=[];return p.push(...d.map(f=>f===""?u:[u,f].join("/"))),o&&p.push(...d),p.map(f=>e.startsWith("/")&&f===""?"/":f)}function vw(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Ew(t.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var bw=/^:[\w-]+$/,kw=3,ww=2,jw=1,Sw=10,Cw=-2,_m=e=>e==="*";function Nw(e,t){let s=e.split("/"),i=s.length;return s.some(_m)&&(i+=Cw),t&&(i+=ww),s.filter(o=>!_m(o)).reduce((o,u)=>o+(bw.test(u)?kw:u===""?jw:Sw),i)}function Ew(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function Pw(e,t,s=!1){let{routesMeta:i}=e,o={},u="/",d=[];for(let p=0;p<i.length;++p){let f=i[p],g=p===i.length-1,x=u==="/"?t:t.slice(u.length)||"/",v=gl({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},x),b=f.route;if(!v&&g&&s&&!i[i.length-1].route.index&&(v=gl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!v)return null;Object.assign(o,v.params),d.push({params:o,pathname:Zn([u,v.pathname]),pathnameBase:Iw(Zn([u,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(u=Zn([u,v.pathnameBase]))}return d}function gl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,i]=Tw(e.path,e.caseSensitive,e.end),o=t.match(s);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((g,{paramName:x,isOptional:v},b)=>{if(x==="*"){let E=p[b]||"";d=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const j=p[b];return v&&!j?g[x]=void 0:g[x]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:e}}function Tw(e,t=!1,s=!0){vn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,f)=>(i.push({paramName:p,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function Rw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function rr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,i=e.charAt(s);return i&&i!=="/"?null:e.slice(s)||"/"}var Dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Lw(e,t="/"){let{pathname:s,search:i="",hash:o=""}=typeof e=="string"?Ci(e):e,u;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?u=zm(s.substring(1),"/"):u=zm(s,t)):u=t,{pathname:u,search:Mw(i),hash:Ow(o)}}function zm(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Nu(e,t,s,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Aw(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function ax(e){let t=Aw(e);return t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase)}function ox(e,t,s,i=!1){let o;typeof e=="string"?o=Ci(e):(o={...e},qe(!o.pathname||!o.pathname.includes("?"),Nu("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),Nu("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),Nu("#","search","hash",o)));let u=e===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=s;else{let v=t.length-1;if(!i&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}p=v>=0?t[v]:"/"}let f=Lw(o,p),g=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(g||x)&&(f.pathname+="/"),f}var Zn=e=>e.join("/").replace(/\/\/+/g,"/"),Iw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Mw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ow=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Fw=class{constructor(e,t,s,i=!1){this.status=e,this.statusText=t||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function _w(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function zw(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cx(e,t){let s=e;if(typeof s!="string"||!Dw.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let i=s,o=!1;if(lx)try{let u=new URL(window.location.href),d=s.startsWith("//")?new URL(u.protocol+s):new URL(s),p=rr(d.pathname,t);d.origin===u.origin&&p!=null?s=p+d.search+d.hash:o=!0}catch{vn(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ux=["POST","PUT","PATCH","DELETE"];new Set(ux);var Vw=["GET",...ux];new Set(Vw);var Ni=y.createContext(null);Ni.displayName="DataRouter";var El=y.createContext(null);El.displayName="DataRouterState";var Bw=y.createContext(!1),dx=y.createContext({isTransitioning:!1});dx.displayName="ViewTransition";var $w=y.createContext(new Map);$w.displayName="Fetchers";var Uw=y.createContext(null);Uw.displayName="Await";var tn=y.createContext(null);tn.displayName="Navigation";var Oa=y.createContext(null);Oa.displayName="Location";var ar=y.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var Bd=y.createContext(null);Bd.displayName="RouteError";var px="REACT_ROUTER_ERROR",Ww="REDIRECT",Kw="ROUTE_ERROR_RESPONSE";function Hw(e){if(e.startsWith(`${px}:${Ww}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function qw(e){if(e.startsWith(`${px}:${Kw}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Fw(t.status,t.statusText,t.data)}catch{}}function Qw(e,{relative:t}={}){qe(Fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=y.useContext(tn),{hash:o,pathname:u,search:d}=_a(e,{relative:t}),p=u;return s!=="/"&&(p=u==="/"?s:Zn([s,u])),i.createHref({pathname:p,search:d,hash:o})}function Fa(){return y.useContext(Oa)!=null}function Hr(){return qe(Fa(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Oa).location}var fx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hx(e){y.useContext(tn).static||y.useLayoutEffect(e)}function Ei(){let{isDataRoute:e}=y.useContext(ar);return e?o1():Gw()}function Gw(){qe(Fa(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Ni),{basename:t,navigator:s}=y.useContext(tn),{matches:i}=y.useContext(ar),{pathname:o}=Hr(),u=JSON.stringify(ax(i)),d=y.useRef(!1);return hx(()=>{d.current=!0}),y.useCallback((f,g={})=>{if(vn(d.current,fx),!d.current)return;if(typeof f=="number"){s.go(f);return}let x=ox(f,JSON.parse(u),o,g.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Zn([t,x.pathname])),(g.replace?s.replace:s.push)(x,g.state,g)},[t,s,u,o,e])}y.createContext(null);function _a(e,{relative:t}={}){let{matches:s}=y.useContext(ar),{pathname:i}=Hr(),o=JSON.stringify(ax(s));return y.useMemo(()=>ox(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function Yw(e,t){return mx(e,t)}function mx(e,t,s,i,o){var R;qe(Fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=y.useContext(tn),{matches:d}=y.useContext(ar),p=d[d.length-1],f=p?p.params:{},g=p?p.pathname:"/",x=p?p.pathnameBase:"/",v=p&&p.route;{let k=v&&v.path||"";xx(g,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=Hr(),j;if(t){let k=typeof t=="string"?Ci(t):t;qe(x==="/"||((R=k.pathname)==null?void 0:R.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${k.pathname}" was given in the \`location\` prop.`),j=k}else j=b;let E=j.pathname||"/",N=E;if(x!=="/"){let k=x.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=rx(e,{pathname:N});vn(v||S!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),vn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=t1(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:Zn([x,u.encodeLocation?u.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?x:Zn([x,u.encodeLocation?u.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),d,s,i,o);return t&&C?y.createElement(Oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},C):C}function Xw(){let e=a1(),t=_w(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:u},"ErrorBoundary")," or"," ",y.createElement("code",{style:u},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),s?y.createElement("pre",{style:o},s):null,d)}var Jw=y.createElement(Xw,null),gx=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const s=qw(e.digest);s&&(e=s)}let t=e!==void 0?y.createElement(ar.Provider,{value:this.props.routeContext},y.createElement(Bd.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?y.createElement(Zw,{error:e},t):t}};gx.contextType=Bw;var Eu=new WeakMap;function Zw({children:e,error:t}){let{basename:s}=y.useContext(tn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=Hw(t.digest);if(i){let o=Eu.get(t);if(o)throw o;let u=cx(i.location,s);if(lx&&!Eu.get(t))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw Eu.set(t,d),d}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function e1({routeContext:e,match:t,children:s}){let i=y.useContext(Ni);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(ar.Provider,{value:e},s)}function t1(e,t=[],s=null,i=null,o=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let u=e,d=s==null?void 0:s.errors;if(d!=null){let x=u.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);qe(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let p=!1,f=-1;if(s)for(let x=0;x<u.length;x++){let v=u[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=x),v.route.id){let{loaderData:b,errors:j}=s,E=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!j||j[v.route.id]===void 0);if(v.route.lazy||E){p=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}let g=s&&i?(x,v)=>{var b,j;i(x,{location:s.location,params:((j=(b=s.matches)==null?void 0:b[0])==null?void 0:j.params)??{},unstable_pattern:zw(s.matches),errorInfo:v})}:void 0;return u.reduceRight((x,v,b)=>{let j,E=!1,N=null,S=null;s&&(j=d&&v.route.id?d[v.route.id]:void 0,N=v.route.errorElement||Jw,p&&(f<0&&b===0?(xx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):f===b&&(E=!0,S=v.route.hydrateFallbackElement||null)));let C=t.concat(u.slice(0,b+1)),R=()=>{let k;return j?k=N:E?k=S:v.route.Component?k=y.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=x,y.createElement(e1,{match:v,routeContext:{outlet:x,matches:C,isDataRoute:s!=null},children:k})};return s&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?y.createElement(gx,{location:s.location,revalidation:s.revalidation,component:N,error:j,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:g}):R()},null)}function $d(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n1(e){let t=y.useContext(Ni);return qe(t,$d(e)),t}function r1(e){let t=y.useContext(El);return qe(t,$d(e)),t}function s1(e){let t=y.useContext(ar);return qe(t,$d(e)),t}function Ud(e){let t=s1(e),s=t.matches[t.matches.length-1];return qe(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function i1(){return Ud("useRouteId")}function a1(){var i;let e=y.useContext(Bd),t=r1("useRouteError"),s=Ud("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[s]}function o1(){let{router:e}=n1("useNavigate"),t=Ud("useNavigate"),s=y.useRef(!1);return hx(()=>{s.current=!0}),y.useCallback(async(o,u={})=>{vn(s.current,fx),s.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var Vm={};function xx(e,t,s){!t&&!Vm[e]&&(Vm[e]=!0,vn(!1,s))}y.memo(l1);function l1({routes:e,future:t,state:s,onError:i}){return mx(e,void 0,s,i,t)}function Dr(e){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c1({basename:e="/",children:t=null,location:s,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){qe(!Fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=e.replace(/^\/*/,"/"),f=y.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[p,o,u,d]);typeof s=="string"&&(s=Ci(s));let{pathname:g="/",search:x="",hash:v="",state:b=null,key:j="default"}=s,E=y.useMemo(()=>{let N=rr(g,p);return N==null?null:{location:{pathname:N,search:x,hash:v,state:b,key:j},navigationType:i}},[p,g,x,v,b,j,i]);return vn(E!=null,`<Router basename="${p}"> is not able to match the URL "${g}${x}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:y.createElement(tn.Provider,{value:f},y.createElement(Oa.Provider,{children:t,value:E}))}function u1({children:e,location:t}){return Yw(cd(e),t)}function cd(e,t=[]){let s=[];return y.Children.forEach(e,(i,o)=>{if(!y.isValidElement(i))return;let u=[...t,o];if(i.type===y.Fragment){s.push.apply(s,cd(i.props.children,u));return}qe(i.type===Dr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=cd(i.props.children,u)),s.push(d)}),s}var cl="get",ul="application/x-www-form-urlencoded";function Pl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function d1(e){return Pl(e)&&e.tagName.toLowerCase()==="button"}function p1(e){return Pl(e)&&e.tagName.toLowerCase()==="form"}function f1(e){return Pl(e)&&e.tagName.toLowerCase()==="input"}function h1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m1(e,t){return e.button===0&&(!t||t==="_self")&&!h1(e)}function ud(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let i=e[s];return t.concat(Array.isArray(i)?i.map(o=>[s,o]):[[s,i]])},[]))}function g1(e,t){let s=ud(e);return t&&t.forEach((i,o)=>{s.has(o)||t.getAll(o).forEach(u=>{s.append(o,u)})}),s}var el=null;function x1(){if(el===null)try{new FormData(document.createElement("form"),0),el=!1}catch{el=!0}return el}var y1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pu(e){return e!=null&&!y1.has(e)?(vn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ul}"`),null):e}function v1(e,t){let s,i,o,u,d;if(p1(e)){let p=e.getAttribute("action");i=p?rr(p,t):null,s=e.getAttribute("method")||cl,o=Pu(e.getAttribute("enctype"))||ul,u=new FormData(e)}else if(d1(e)||f1(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||p.getAttribute("action");if(i=f?rr(f,t):null,s=e.getAttribute("formmethod")||p.getAttribute("method")||cl,o=Pu(e.getAttribute("formenctype"))||Pu(p.getAttribute("enctype"))||ul,u=new FormData(p,e),!x1()){let{name:g,type:x,value:v}=e;if(x==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,v)}}else{if(Pl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=cl,i=null,o=ul,d=e}return u&&o==="text/plain"&&(d=u,u=void 0),{action:i,method:s.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function b1(e,t,s,i){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:t&&rr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function k1(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j1(e,t,s){let i=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let d=await k1(u,s);return d.links?d.links():[]}return[]}));return E1(i.flat(1).filter(w1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bm(e,t,s,i,o,u){let d=(f,g)=>s[g]?f.route.id!==s[g].route.id:!0,p=(f,g)=>{var x;return s[g].pathname!==f.pathname||((x=s[g].route.path)==null?void 0:x.endsWith("*"))&&s[g].params["*"]!==f.params["*"]};return u==="assets"?t.filter((f,g)=>d(f,g)||p(f,g)):u==="data"?t.filter((f,g)=>{var v;let x=i.routes[f.route.id];if(!x||!x.hasLoader)return!1;if(d(f,g)||p(f,g))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=s[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function S1(e,t,{includeHydrateFallback:s}={}){return C1(e.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function C1(e){return[...new Set(e)]}function N1(e){let t={},s=Object.keys(e).sort();for(let i of s)t[i]=e[i];return t}function E1(e,t){let s=new Set;return new Set(t),e.reduce((i,o)=>{let u=JSON.stringify(N1(o));return s.has(u)||(s.add(u),i.push({key:u,link:o})),i},[])}function yx(){let e=y.useContext(Ni);return Wd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function P1(){let e=y.useContext(El);return Wd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Kd=y.createContext(void 0);Kd.displayName="FrameworkContext";function vx(){let e=y.useContext(Kd);return Wd(e,"You must render this element inside a <HydratedRouter> element"),e}function T1(e,t){let s=y.useContext(Kd),[i,o]=y.useState(!1),[u,d]=y.useState(!1),{onFocus:p,onBlur:f,onMouseEnter:g,onMouseLeave:x,onTouchStart:v}=t,b=y.useRef(null);y.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let N=C=>{C.forEach(R=>{d(R.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),y.useEffect(()=>{if(i){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[i]);let j=()=>{o(!0)},E=()=>{o(!1),d(!1)};return s?e!=="intent"?[u,b,{}]:[u,b,{onFocus:fa(p,j),onBlur:fa(f,E),onMouseEnter:fa(g,j),onMouseLeave:fa(x,E),onTouchStart:fa(v,j)}]:[!1,b,{}]}function fa(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function R1({page:e,...t}){let{router:s}=yx(),i=y.useMemo(()=>rx(s.routes,e,s.basename),[s.routes,e,s.basename]);return i?y.createElement(L1,{page:e,matches:i,...t}):null}function D1(e){let{manifest:t,routeModules:s}=vx(),[i,o]=y.useState([]);return y.useEffect(()=>{let u=!1;return j1(e,t,s).then(d=>{u||o(d)}),()=>{u=!0}},[e,t,s]),i}function L1({page:e,matches:t,...s}){let i=Hr(),{future:o,manifest:u,routeModules:d}=vx(),{basename:p}=yx(),{loaderData:f,matches:g}=P1(),x=y.useMemo(()=>Bm(e,t,g,u,i,"data"),[e,t,g,u,i]),v=y.useMemo(()=>Bm(e,t,g,u,i,"assets"),[e,t,g,u,i]),b=y.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let N=new Set,S=!1;if(t.forEach(R=>{var P;let k=u.routes[R.route.id];!k||!k.hasLoader||(!x.some(T=>T.route.id===R.route.id)&&R.route.id in f&&((P=d[R.route.id])!=null&&P.shouldRevalidate)||k.hasClientLoader?S=!0:N.add(R.route.id))}),N.size===0)return[];let C=b1(e,p,o.unstable_trailingSlashAwareDataRequests,"data");return S&&N.size>0&&C.searchParams.set("_routes",t.filter(R=>N.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[p,o.unstable_trailingSlashAwareDataRequests,f,i,u,x,t,e,d]),j=y.useMemo(()=>S1(v,u),[v,u]),E=D1(v);return y.createElement(y.Fragment,null,b.map(N=>y.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),j.map(N=>y.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),E.map(({key:N,link:S})=>y.createElement("link",{key:N,nonce:s.nonce,...S,crossOrigin:S.crossOrigin??s.crossOrigin})))}function A1(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var I1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I1&&(window.__reactRouterVersion="7.13.0")}catch{}function M1({basename:e,children:t,unstable_useTransitions:s,window:i}){let o=y.useRef();o.current==null&&(o.current=hw({window:i,v5Compat:!0}));let u=o.current,[d,p]=y.useState({action:u.action,location:u.location}),f=y.useCallback(g=>{s===!1?p(g):y.startTransition(()=>p(g))},[s]);return y.useLayoutEffect(()=>u.listen(f),[u,f]),y.createElement(c1,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:s})}var bx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hd=y.forwardRef(function({onClick:t,discover:s="render",prefetch:i="none",relative:o,reloadDocument:u,replace:d,state:p,target:f,to:g,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:b,...j},E){let{basename:N,unstable_useTransitions:S}=y.useContext(tn),C=typeof g=="string"&&bx.test(g),R=cx(g,N);g=R.to;let k=Qw(g,{relative:o}),[P,T,I]=T1(i,j),U=_1(g,{replace:d,state:p,target:f,preventScrollReset:x,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:S});function B(ee){t&&t(ee),ee.defaultPrevented||U(ee)}let X=y.createElement("a",{...j,...I,href:R.absoluteURL||k,onClick:R.isExternal||u?t:B,ref:A1(E,T),target:f,"data-discover":!C&&s==="render"?"true":void 0});return P&&!C?y.createElement(y.Fragment,null,X,y.createElement(R1,{page:k})):X});Hd.displayName="Link";var kx=y.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:i="",end:o=!1,style:u,to:d,viewTransition:p,children:f,...g},x){let v=_a(d,{relative:g.relative}),b=Hr(),j=y.useContext(El),{navigator:E,basename:N}=y.useContext(tn),S=j!=null&&U1(v)&&p===!0,C=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,R=b.pathname,k=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(R=R.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&N&&(k=rr(k,N)||k);const P=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=R===C||!o&&R.startsWith(C)&&R.charAt(P)==="/",I=k!=null&&(k===C||!o&&k.startsWith(C)&&k.charAt(C.length)==="/"),U={isActive:T,isPending:I,isTransitioning:S},B=T?t:void 0,X;typeof i=="function"?X=i(U):X=[i,T?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ee=typeof u=="function"?u(U):u;return y.createElement(Hd,{...g,"aria-current":B,className:X,ref:x,style:ee,to:d,viewTransition:p},typeof f=="function"?f(U):f)});kx.displayName="NavLink";var O1=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:i,replace:o,state:u,method:d=cl,action:p,onSubmit:f,relative:g,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:b,...j},E)=>{let{unstable_useTransitions:N}=y.useContext(tn),S=B1(),C=$1(p,{relative:g}),R=d.toLowerCase()==="get"?"get":"post",k=typeof p=="string"&&bx.test(p),P=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let I=T.nativeEvent.submitter,U=(I==null?void 0:I.getAttribute("formmethod"))||d,B=()=>S(I||T.currentTarget,{fetcherKey:t,method:U,navigate:s,replace:o,state:u,relative:g,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:b});N&&s!==!1?y.startTransition(()=>B()):B()};return y.createElement("form",{ref:E,method:R,action:C,onSubmit:i?f:P,...j,"data-discover":!k&&e==="render"?"true":void 0})});O1.displayName="Form";function F1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wx(e){let t=y.useContext(Ni);return qe(t,F1(e)),t}function _1(e,{target:t,replace:s,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:f}={}){let g=Ei(),x=Hr(),v=_a(e,{relative:u});return y.useCallback(b=>{if(m1(b,t)){b.preventDefault();let j=s!==void 0?s:Sa(x)===Sa(v),E=()=>g(e,{replace:j,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});f?y.startTransition(()=>E()):E()}},[x,g,v,s,i,t,e,o,u,d,p,f])}function jx(e){vn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(ud(e)),s=y.useRef(!1),i=Hr(),o=y.useMemo(()=>g1(i.search,s.current?null:t.current),[i.search]),u=Ei(),d=y.useCallback((p,f)=>{const g=ud(typeof p=="function"?p(new URLSearchParams(o)):p);s.current=!0,u("?"+g,f)},[u,o]);return[o,d]}var z1=0,V1=()=>`__${String(++z1)}__`;function B1(){let{router:e}=wx("useSubmit"),{basename:t}=y.useContext(tn),s=i1(),i=e.fetch,o=e.navigate;return y.useCallback(async(u,d={})=>{let{action:p,method:f,encType:g,formData:x,body:v}=v1(u,t);if(d.navigate===!1){let b=d.fetcherKey||V1();await i(b,s,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:v,formMethod:d.method||f,formEncType:d.encType||g,flushSync:d.flushSync})}else await o(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:v,formMethod:d.method||f,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,o,t,s])}function $1(e,{relative:t}={}){let{basename:s}=y.useContext(tn),i=y.useContext(ar);qe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={..._a(e||".",{relative:t})},d=Hr();if(e==null){u.search=d.search;let p=new URLSearchParams(u.search),f=p.getAll("index");if(f.some(x=>x==="")){p.delete("index"),f.filter(v=>v).forEach(v=>p.append("index",v));let x=p.toString();u.search=x?`?${x}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:Zn([s,u.pathname])),Sa(u)}function U1(e,{relative:t}={}){let s=y.useContext(dx);qe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=wx("useViewTransitionState"),o=_a(e,{relative:t});if(!s.isTransitioning)return!1;let u=rr(s.currentLocation.pathname,i)||s.currentLocation.pathname,d=rr(s.nextLocation.pathname,i)||s.nextLocation.pathname;return gl(o.pathname,d)!=null||gl(o.pathname,u)!=null}class W1 extends y.Component{constructor(s){super(s);mm(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,i){console.error("ErrorBoundary caught an error:",s,i)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 text-center",children:[l.jsx("div",{className:"text-red-500 mb-4",children:l.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"An unexpected error occurred. Please try again."}),this.state.error&&l.jsx("pre",{className:"text-left text-sm bg-gray-100 dark:bg-gray-700 p-3 rounded mb-4 overflow-auto max-h-32 text-gray-700 dark:text-gray-300",children:this.state.error.message}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{type:"button",onClick:this.handleRetry,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"}),l.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Reload Page"})]})]})}):this.props.children}}function bn(e,t){const[s,i]=y.useState(()=>{try{const u=window.localStorage.getItem(e);return u?JSON.parse(u):t}catch{return t}}),o=y.useCallback(u=>{i(d=>{const p=u instanceof Function?u(d):u;try{window.localStorage.setItem(e,JSON.stringify(p))}catch{}return p})},[e]);return y.useEffect(()=>{const u=d=>{if(d.key===e&&d.newValue!==null)try{i(JSON.parse(d.newValue))}catch{}};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)},[e]),[s,o]}const K1={theme:"system",lastBrowsedPath:"/",showHiddenFiles:!1,statsRefreshInterval:0},Sx=y.createContext(null);function H1(){return typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function q1({children:e}){const[t,s]=bn("rag-vault-preferences",K1),i=t.theme==="system"?H1():t.theme;y.useEffect(()=>{const f=document.documentElement;i==="dark"?f.classList.add("dark"):f.classList.remove("dark")},[i]),y.useEffect(()=>{if(t.theme!=="system")return;const f=window.matchMedia("(prefers-color-scheme: dark)"),g=()=>{const x=document.documentElement;f.matches?x.classList.add("dark"):x.classList.remove("dark")};return f.addEventListener("change",g),()=>f.removeEventListener("change",g)},[t.theme]);const o=y.useCallback(f=>{s(g=>({...g,theme:f}))},[s]),u=y.useCallback(f=>{s(g=>({...g,lastBrowsedPath:f}))},[s]),d=y.useCallback(f=>{s(g=>({...g,showHiddenFiles:f}))},[s]),p=y.useCallback(f=>{s(g=>({...g,statsRefreshInterval:f}))},[s]);return l.jsx(Sx.Provider,{value:{preferences:t,setTheme:o,setLastBrowsedPath:u,setShowHiddenFiles:d,setStatsRefreshInterval:p,effectiveTheme:i},children:e})}function Tl(){const e=y.useContext(Sx);if(!e)throw new Error("usePreferences must be used within a PreferencesProvider");return e}const qd=y.createContext({});function Qd(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Rl=y.createContext(null),Gd=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Q1 extends y.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function G1({children:e,isPresent:t}){const s=y.useId(),i=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=y.useContext(Gd);return y.useInsertionEffect(()=>{const{width:d,height:p,top:f,left:g}=o.current;if(t||!i.current||!d||!p)return;i.current.dataset.motionPopId=s;const x=document.createElement("style");return u&&(x.nonce=u),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            top: ${f}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[t]),l.jsx(Q1,{isPresent:t,childRef:i,sizeRef:o,children:y.cloneElement(e,{ref:i})})}const Y1=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:o,presenceAffectsLayout:u,mode:d})=>{const p=Qd(X1),f=y.useId(),g=y.useCallback(v=>{p.set(v,!0);for(const b of p.values())if(!b)return;i&&i()},[p,i]),x=y.useMemo(()=>({id:f,initial:t,isPresent:s,custom:o,onExitComplete:g,register:v=>(p.set(v,!1),()=>p.delete(v))}),u?[Math.random(),g]:[s,g]);return y.useMemo(()=>{p.forEach((v,b)=>p.set(b,!1))},[s]),y.useEffect(()=>{!s&&!p.size&&i&&i()},[s]),d==="popLayout"&&(e=l.jsx(G1,{isPresent:s,children:e})),l.jsx(Rl.Provider,{value:x,children:e})};function X1(){return new Map}function Cx(e=!0){const t=y.useContext(Rl);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:o}=t,u=y.useId();y.useEffect(()=>{e&&o(u)},[e]);const d=y.useCallback(()=>e&&i&&i(u),[u,i,e]);return!s&&i?[!1,d]:[!0]}const tl=e=>e.key||"";function $m(e){const t=[];return y.Children.forEach(e,s=>{y.isValidElement(s)&&t.push(s)}),t}const Yd=typeof window<"u",Nx=Yd?y.useLayoutEffect:y.useEffect,Nt=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:u="sync",propagate:d=!1})=>{const[p,f]=Cx(d),g=y.useMemo(()=>$m(e),[e]),x=d&&!p?[]:g.map(tl),v=y.useRef(!0),b=y.useRef(g),j=Qd(()=>new Map),[E,N]=y.useState(g),[S,C]=y.useState(g);Nx(()=>{v.current=!1,b.current=g;for(let P=0;P<S.length;P++){const T=tl(S[P]);x.includes(T)?j.delete(T):j.get(T)!==!0&&j.set(T,!1)}},[S,x.length,x.join("-")]);const R=[];if(g!==E){let P=[...g];for(let T=0;T<S.length;T++){const I=S[T],U=tl(I);x.includes(U)||(P.splice(T,0,I),R.push(I))}u==="wait"&&R.length&&(P=R),C($m(P)),N(g);return}const{forceRender:k}=y.useContext(qd);return l.jsx(l.Fragment,{children:S.map(P=>{const T=tl(P),I=d&&!p?!1:g===S||x.includes(T),U=()=>{if(j.has(T))j.set(T,!0);else return;let B=!0;j.forEach(X=>{X||(B=!1)}),B&&(k==null||k(),C(b.current),d&&(f==null||f()),i&&i())};return l.jsx(Y1,{isPresent:I,initial:!v.current||s?void 0:!1,custom:I?void 0:t,presenceAffectsLayout:o,mode:u,onExitComplete:I?void 0:U,children:P},T)})})},Vt=e=>e;let Ex=Vt;function Xd(e){let t;return()=>(t===void 0&&(t=e()),t)}const bi=(e,t,s)=>{const i=t-e;return i===0?1:(s-e)/i},er=e=>e*1e3,tr=e=>e/1e3,J1={useManualTiming:!1};function Z1(e){let t=new Set,s=new Set,i=!1,o=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(g){u.has(g)&&(f.schedule(g),e()),g(d)}const f={schedule:(g,x=!1,v=!1)=>{const j=v&&i?t:s;return x&&u.add(g),j.has(g)||j.add(g),g},cancel:g=>{s.delete(g),u.delete(g)},process:g=>{if(d=g,i){o=!0;return}i=!0,[t,s]=[s,t],t.forEach(p),t.clear(),i=!1,o&&(o=!1,f.process(g))}};return f}const nl=["read","resolveKeyframes","update","preRender","render","postRender"],e2=40;function Px(e,t){let s=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,d=nl.reduce((C,R)=>(C[R]=Z1(u),C),{}),{read:p,resolveKeyframes:f,update:g,preRender:x,render:v,postRender:b}=d,j=()=>{const C=performance.now();s=!1,o.delta=i?1e3/60:Math.max(Math.min(C-o.timestamp,e2),1),o.timestamp=C,o.isProcessing=!0,p.process(o),f.process(o),g.process(o),x.process(o),v.process(o),b.process(o),o.isProcessing=!1,s&&t&&(i=!1,e(j))},E=()=>{s=!0,i=!0,o.isProcessing||e(j)};return{schedule:nl.reduce((C,R)=>{const k=d[R];return C[R]=(P,T=!1,I=!1)=>(s||E(),k.schedule(P,T,I)),C},{}),cancel:C=>{for(let R=0;R<nl.length;R++)d[nl[R]].cancel(C)},state:o,steps:d}}const{schedule:Be,cancel:Ur,state:ht,steps:Tu}=Px(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vt,!0),Tx=y.createContext({strict:!1}),Um={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ki={};for(const e in Um)ki[e]={isEnabled:t=>Um[e].some(s=>!!t[s])};function t2(e){for(const t in e)ki[t]={...ki[t],...e[t]}}const n2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||n2.has(e)}let Rx=e=>!xl(e);function r2(e){e&&(Rx=t=>t.startsWith("on")?!xl(t):e(t))}try{r2(require("@emotion/is-prop-valid").default)}catch{}function s2(e,t,s){const i={};for(const o in e)o==="values"&&typeof e.values=="object"||(Rx(o)||s===!0&&xl(o)||!t&&!xl(o)||e.draggable&&o.startsWith("onDrag"))&&(i[o]=e[o]);return i}function i2(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...i)=>e(...i);return new Proxy(s,{get:(i,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const Dl=y.createContext({});function Ca(e){return typeof e=="string"||Array.isArray(e)}function Ll(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Jd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zd=["initial",...Jd];function Al(e){return Ll(e.animate)||Zd.some(t=>Ca(e[t]))}function Dx(e){return!!(Al(e)||e.variants)}function a2(e,t){if(Al(e)){const{initial:s,animate:i}=e;return{initial:s===!1||Ca(s)?s:void 0,animate:Ca(i)?i:void 0}}return e.inherit!==!1?t:{}}function o2(e){const{initial:t,animate:s}=a2(e,y.useContext(Dl));return y.useMemo(()=>({initial:t,animate:s}),[Wm(t),Wm(s)])}function Wm(e){return Array.isArray(e)?e.join(" "):e}const l2=Symbol.for("motionComponentSymbol");function ri(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function c2(e,t,s){return y.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),s&&(typeof s=="function"?s(i):ri(s)&&(s.current=i))},[t])}const ep=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u2="framerAppearId",Lx="data-"+ep(u2),{schedule:tp}=Px(queueMicrotask,!1),Ax=y.createContext({});function d2(e,t,s,i,o){var u,d;const{visualElement:p}=y.useContext(Dl),f=y.useContext(Tx),g=y.useContext(Rl),x=y.useContext(Gd).reducedMotion,v=y.useRef(null);i=i||f.renderer,!v.current&&i&&(v.current=i(e,{visualState:t,parent:p,props:s,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:x}));const b=v.current,j=y.useContext(Ax);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&p2(v.current,s,o,j);const E=y.useRef(!1);y.useInsertionEffect(()=>{b&&E.current&&b.update(s,g)});const N=s[Lx],S=y.useRef(!!N&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,N))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,N)));return Nx(()=>{b&&(E.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),tp.render(b.render),S.current&&b.animationState&&b.animationState.animateChanges())}),y.useEffect(()=>{b&&(!S.current&&b.animationState&&b.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,N)}),S.current=!1))}),b}function p2(e,t,s,i){const{layoutId:o,layout:u,drag:d,dragConstraints:p,layoutScroll:f,layoutRoot:g}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Ix(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!d||p&&ri(p),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:g})}function Ix(e){if(e)return e.options.allowProjection!==!1?e.projection:Ix(e.parent)}function f2({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:i,Component:o}){var u,d;e&&t2(e);function p(g,x){let v;const b={...y.useContext(Gd),...g,layoutId:h2(g)},{isStatic:j}=b,E=o2(g),N=i(g,j);if(!j&&Yd){m2();const S=g2(b);v=S.MeasureLayout,E.visualElement=d2(o,N,b,t,S.ProjectionNode)}return l.jsxs(Dl.Provider,{value:E,children:[v&&E.visualElement?l.jsx(v,{visualElement:E.visualElement,...b}):null,s(o,g,c2(N,E.visualElement,x),N,j,E.visualElement)]})}p.displayName=`motion.${typeof o=="string"?o:`create(${(d=(u=o.displayName)!==null&&u!==void 0?u:o.name)!==null&&d!==void 0?d:""})`}`;const f=y.forwardRef(p);return f[l2]=o,f}function h2({layoutId:e}){const t=y.useContext(qd).id;return t&&e!==void 0?t+"-"+e:e}function m2(e,t){y.useContext(Tx).strict}function g2(e){const{drag:t,layout:s}=ki;if(!t&&!s)return{};const i={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const x2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function np(e){return typeof e!="string"||e.includes("-")?!1:!!(x2.indexOf(e)>-1||/[A-Z]/u.test(e))}function Km(e){const t=[{},{}];return e==null||e.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function rp(e,t,s,i){if(typeof t=="function"){const[o,u]=Km(i);t=t(s!==void 0?s:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=Km(i);t=t(s!==void 0?s:e.custom,o,u)}return t}const dd=e=>Array.isArray(e),y2=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),v2=e=>dd(e)?e[e.length-1]||0:e,kt=e=>!!(e&&e.getVelocity);function dl(e){const t=kt(e)?e.get():e;return y2(t)?t.toValue():t}function b2({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},i,o,u){const d={latestValues:k2(i,o,u,e),renderState:t()};return s&&(d.onMount=p=>s({props:i,current:p,...d}),d.onUpdate=p=>s(p)),d}const Mx=e=>(t,s)=>{const i=y.useContext(Dl),o=y.useContext(Rl),u=()=>b2(e,t,i,o);return s?u():Qd(u)};function k2(e,t,s,i){const o={},u=i(e,{});for(const b in u)o[b]=dl(u[b]);let{initial:d,animate:p}=e;const f=Al(e),g=Dx(e);t&&g&&!f&&e.inherit!==!1&&(d===void 0&&(d=t.initial),p===void 0&&(p=t.animate));let x=s?s.initial===!1:!1;x=x||d===!1;const v=x?p:d;if(v&&typeof v!="boolean"&&!Ll(v)){const b=Array.isArray(v)?v:[v];for(let j=0;j<b.length;j++){const E=rp(e,b[j]);if(E){const{transitionEnd:N,transition:S,...C}=E;for(const R in C){let k=C[R];if(Array.isArray(k)){const P=x?k.length-1:0;k=k[P]}k!==null&&(o[R]=k)}for(const R in N)o[R]=N[R]}}}return o}const Pi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rs=new Set(Pi),Ox=e=>t=>typeof t=="string"&&t.startsWith(e),Fx=Ox("--"),w2=Ox("var(--"),sp=e=>w2(e)?j2.test(e.split("/*")[0].trim()):!1,j2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_x=(e,t)=>t&&typeof e=="number"?t.transform(e):e,sr=(e,t,s)=>s>t?t:s<e?e:s,Ti={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Na={...Ti,transform:e=>sr(0,1,e)},rl={...Ti,default:1},za=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Lr=za("deg"),In=za("%"),ge=za("px"),S2=za("vh"),C2=za("vw"),Hm={...In,parse:e=>In.parse(e)/100,transform:e=>In.transform(e*100)},N2={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},E2={rotate:Lr,rotateX:Lr,rotateY:Lr,rotateZ:Lr,scale:rl,scaleX:rl,scaleY:rl,scaleZ:rl,skew:Lr,skewX:Lr,skewY:Lr,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Na,originX:Hm,originY:Hm,originZ:ge},qm={...Ti,transform:Math.round},ip={...N2,...E2,zIndex:qm,size:ge,fillOpacity:Na,strokeOpacity:Na,numOctaves:qm},P2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},T2=Pi.length;function R2(e,t,s){let i="",o=!0;for(let u=0;u<T2;u++){const d=Pi[u],p=e[d];if(p===void 0)continue;let f=!0;if(typeof p=="number"?f=p===(d.startsWith("scale")?1:0):f=parseFloat(p)===0,!f||s){const g=_x(p,ip[d]);if(!f){o=!1;const x=P2[d]||d;i+=`${x}(${g}) `}s&&(t[d]=g)}}return i=i.trim(),s?i=s(t,o?"":i):o&&(i="none"),i}function ap(e,t,s){const{style:i,vars:o,transformOrigin:u}=e;let d=!1,p=!1;for(const f in t){const g=t[f];if(Rs.has(f)){d=!0;continue}else if(Fx(f)){o[f]=g;continue}else{const x=_x(g,ip[f]);f.startsWith("origin")?(p=!0,u[f]=x):i[f]=x}}if(t.transform||(d||s?i.transform=R2(t,e.transform,s):i.transform&&(i.transform="none")),p){const{originX:f="50%",originY:g="50%",originZ:x=0}=u;i.transformOrigin=`${f} ${g} ${x}`}}const D2={offset:"stroke-dashoffset",array:"stroke-dasharray"},L2={offset:"strokeDashoffset",array:"strokeDasharray"};function A2(e,t,s=1,i=0,o=!0){e.pathLength=1;const u=o?D2:L2;e[u.offset]=ge.transform(-i);const d=ge.transform(t),p=ge.transform(s);e[u.array]=`${d} ${p}`}function Qm(e,t,s){return typeof e=="string"?e:ge.transform(t+s*e)}function I2(e,t,s){const i=Qm(t,e.x,e.width),o=Qm(s,e.y,e.height);return`${i} ${o}`}function op(e,{attrX:t,attrY:s,attrScale:i,originX:o,originY:u,pathLength:d,pathSpacing:p=1,pathOffset:f=0,...g},x,v){if(ap(e,g,v),x){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:j,dimensions:E}=e;b.transform&&(E&&(j.transform=b.transform),delete b.transform),E&&(o!==void 0||u!==void 0||j.transform)&&(j.transformOrigin=I2(E,o!==void 0?o:.5,u!==void 0?u:.5)),t!==void 0&&(b.x=t),s!==void 0&&(b.y=s),i!==void 0&&(b.scale=i),d!==void 0&&A2(b,d,p,f,!1)}const lp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zx=()=>({...lp(),attrs:{}}),cp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Vx(e,{style:t,vars:s},i,o){Object.assign(e.style,t,o&&o.getProjectionStyles(i));for(const u in s)e.style.setProperty(u,s[u])}const Bx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $x(e,t,s,i){Vx(e,t,void 0,i);for(const o in t.attrs)e.setAttribute(Bx.has(o)?o:ep(o),t.attrs[o])}const yl={};function M2(e){Object.assign(yl,e)}function Ux(e,{layout:t,layoutId:s}){return Rs.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!yl[e]||e==="opacity")}function up(e,t,s){var i;const{style:o}=e,u={};for(const d in o)(kt(o[d])||t.style&&kt(t.style[d])||Ux(d,e)||((i=s==null?void 0:s.getValue(d))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(u[d]=o[d]);return u}function Wx(e,t,s){const i=up(e,t,s);for(const o in e)if(kt(e[o])||kt(t[o])){const u=Pi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[u]=e[o]}return i}function O2(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Gm=["x","y","width","height","cx","cy","r"],F2={useVisualState:Mx({scrapeMotionValuesFromProps:Wx,createRenderState:zx,onUpdate:({props:e,prevProps:t,current:s,renderState:i,latestValues:o})=>{if(!s)return;let u=!!e.drag;if(!u){for(const p in o)if(Rs.has(p)){u=!0;break}}if(!u)return;let d=!t;if(t)for(let p=0;p<Gm.length;p++){const f=Gm[p];e[f]!==t[f]&&(d=!0)}d&&Be.read(()=>{O2(s,i),Be.render(()=>{op(i,o,cp(s.tagName),e.transformTemplate),$x(s,i)})})}})},_2={useVisualState:Mx({scrapeMotionValuesFromProps:up,createRenderState:lp})};function Kx(e,t,s){for(const i in t)!kt(t[i])&&!Ux(i,s)&&(e[i]=t[i])}function z2({transformTemplate:e},t){return y.useMemo(()=>{const s=lp();return ap(s,t,e),Object.assign({},s.vars,s.style)},[t])}function V2(e,t){const s=e.style||{},i={};return Kx(i,s,e),Object.assign(i,z2(e,t)),i}function B2(e,t){const s={},i=V2(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}function $2(e,t,s,i){const o=y.useMemo(()=>{const u=zx();return op(u,t,cp(i),e.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};Kx(u,e.style,e),o.style={...u,...o.style}}return o}function U2(e=!1){return(s,i,o,{latestValues:u},d)=>{const f=(np(s)?$2:B2)(i,u,d,s),g=s2(i,typeof s=="string",e),x=s!==y.Fragment?{...g,...f,ref:o}:{},{children:v}=i,b=y.useMemo(()=>kt(v)?v.get():v,[v]);return y.createElement(s,{...x,children:b})}}function W2(e,t){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const d={...np(i)?F2:_2,preloadedFeatures:e,useRender:U2(o),createVisualElement:t,Component:i};return f2(d)}}function Hx(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let i=0;i<s;i++)if(t[i]!==e[i])return!1;return!0}function Il(e,t,s){const i=e.getProps();return rp(i,t,s!==void 0?s:i.custom,e)}const K2=Xd(()=>window.ScrollTimeline!==void 0);class H2{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=s}attachTimeline(t,s){const i=this.animations.map(o=>{if(K2()&&o.attachTimeline)return o.attachTimeline(t);if(typeof s=="function")return s(o)});return()=>{i.forEach((o,u)=>{o&&o(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class q2 extends H2{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function dp(e,t){return e?e[t]||e.default||e:void 0}const pd=2e4;function qx(e){let t=0;const s=50;let i=e.next(t);for(;!i.done&&t<pd;)t+=s,i=e.next(t);return t>=pd?1/0:t}function pp(e){return typeof e=="function"}function Ym(e,t){e.timeline=t,e.onfinish=null}const fp=e=>Array.isArray(e)&&typeof e[0]=="number",Q2={linearEasing:void 0};function G2(e,t){const s=Xd(e);return()=>{var i;return(i=Q2[t])!==null&&i!==void 0?i:s()}}const vl=G2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qx=(e,t,s=10)=>{let i="";const o=Math.max(Math.round(t/s),2);for(let u=0;u<o;u++)i+=e(bi(0,o-1,u))+", ";return`linear(${i.substring(0,i.length-2)})`};function Gx(e){return!!(typeof e=="function"&&vl()||!e||typeof e=="string"&&(e in fd||vl())||fp(e)||Array.isArray(e)&&e.every(Gx))}const ga=([e,t,s,i])=>`cubic-bezier(${e}, ${t}, ${s}, ${i})`,fd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ga([0,.65,.55,1]),circOut:ga([.55,0,1,.45]),backIn:ga([.31,.01,.66,-.59]),backOut:ga([.33,1.53,.69,.99])};function Yx(e,t){if(e)return typeof e=="function"&&vl()?Qx(e,t):fp(e)?ga(e):Array.isArray(e)?e.map(s=>Yx(s,t)||fd.easeOut):fd[e]}const gn={x:!1,y:!1};function Xx(){return gn.x||gn.y}function Y2(e,t,s){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const u=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(e);return u?Array.from(u):[]}return Array.from(e)}function Jx(e,t){const s=Y2(e),i=new AbortController,o={passive:!0,...t,signal:i.signal};return[s,o,()=>i.abort()]}function Xm(e){return t=>{t.pointerType==="touch"||Xx()||e(t)}}function X2(e,t,s={}){const[i,o,u]=Jx(e,s),d=Xm(p=>{const{target:f}=p,g=t(p);if(typeof g!="function"||!f)return;const x=Xm(v=>{g(v),f.removeEventListener("pointerleave",x)});f.addEventListener("pointerleave",x,o)});return i.forEach(p=>{p.addEventListener("pointerenter",d,o)}),u}const Zx=(e,t)=>t?e===t?!0:Zx(e,t.parentElement):!1,hp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,J2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Z2(e){return J2.has(e.tagName)||e.tabIndex!==-1}const xa=new WeakSet;function Jm(e){return t=>{t.key==="Enter"&&e(t)}}function Ru(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ej=(e,t)=>{const s=e.currentTarget;if(!s)return;const i=Jm(()=>{if(xa.has(s))return;Ru(s,"down");const o=Jm(()=>{Ru(s,"up")}),u=()=>Ru(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function Zm(e){return hp(e)&&!Xx()}function tj(e,t,s={}){const[i,o,u]=Jx(e,s),d=p=>{const f=p.currentTarget;if(!Zm(p)||xa.has(f))return;xa.add(f);const g=t(p),x=(j,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),!(!Zm(j)||!xa.has(f))&&(xa.delete(f),typeof g=="function"&&g(j,{success:E}))},v=j=>{x(j,s.useGlobalTarget||Zx(f,j.target))},b=j=>{x(j,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",b,o)};return i.forEach(p=>{!Z2(p)&&p.getAttribute("tabindex")===null&&(p.tabIndex=0),(s.useGlobalTarget?window:p).addEventListener("pointerdown",d,o),p.addEventListener("focus",g=>ej(g,o),o)}),u}function nj(e){return e==="x"||e==="y"?gn[e]?null:(gn[e]=!0,()=>{gn[e]=!1}):gn.x||gn.y?null:(gn.x=gn.y=!0,()=>{gn.x=gn.y=!1})}const ey=new Set(["width","height","top","left","right","bottom",...Pi]);let pl;function rj(){pl=void 0}const Mn={now:()=>(pl===void 0&&Mn.set(ht.isProcessing||J1.useManualTiming?ht.timestamp:performance.now()),pl),set:e=>{pl=e,queueMicrotask(rj)}};function mp(e,t){e.indexOf(t)===-1&&e.push(t)}function gp(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class xp{constructor(){this.subscriptions=[]}add(t){return mp(this.subscriptions,t),()=>gp(this.subscriptions,t)}notify(t,s,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,i);else for(let u=0;u<o;u++){const d=this.subscriptions[u];d&&d(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ty(e,t){return t?e*(1e3/t):0}const e0=30,sj=e=>!isNaN(parseFloat(e));class ij{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const u=Mn.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new xp);const i=this.events[t].add(s);return t==="change"?()=>{i(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>e0)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,e0);return ty(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ea(e,t){return new ij(e,t)}function aj(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ea(s))}function oj(e,t){const s=Il(e,t);let{transitionEnd:i={},transition:o={},...u}=s||{};u={...u,...i};for(const d in u){const p=v2(u[d]);aj(e,d,p)}}function lj(e){return!!(kt(e)&&e.add)}function hd(e,t){const s=e.getValue("willChange");if(lj(s))return s.add(t)}function ny(e){return e.props[Lx]}const ry=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,cj=1e-7,uj=12;function dj(e,t,s,i,o){let u,d,p=0;do d=t+(s-t)/2,u=ry(d,i,o)-e,u>0?s=d:t=d;while(Math.abs(u)>cj&&++p<uj);return d}function Va(e,t,s,i){if(e===t&&s===i)return Vt;const o=u=>dj(u,0,1,e,s);return u=>u===0||u===1?u:ry(o(u),t,i)}const sy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iy=e=>t=>1-e(1-t),ay=Va(.33,1.53,.69,.99),yp=iy(ay),oy=sy(yp),ly=e=>(e*=2)<1?.5*yp(e):.5*(2-Math.pow(2,-10*(e-1))),vp=e=>1-Math.sin(Math.acos(e)),cy=iy(vp),uy=sy(vp),dy=e=>/^0[^.\s]+$/u.test(e);function pj(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dy(e):!0}const va=e=>Math.round(e*1e5)/1e5,bp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fj(e){return e==null}const hj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kp=(e,t)=>s=>!!(typeof s=="string"&&hj.test(s)&&s.startsWith(e)||t&&!fj(s)&&Object.prototype.hasOwnProperty.call(s,t)),py=(e,t,s)=>i=>{if(typeof i!="string")return i;const[o,u,d,p]=i.match(bp);return{[e]:parseFloat(o),[t]:parseFloat(u),[s]:parseFloat(d),alpha:p!==void 0?parseFloat(p):1}},mj=e=>sr(0,255,e),Du={...Ti,transform:e=>Math.round(mj(e))},xs={test:kp("rgb","red"),parse:py("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:i=1})=>"rgba("+Du.transform(e)+", "+Du.transform(t)+", "+Du.transform(s)+", "+va(Na.transform(i))+")"};function gj(e){let t="",s="",i="",o="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),i=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),i=e.substring(3,4),o=e.substring(4,5),t+=t,s+=s,i+=i,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const md={test:kp("#"),parse:gj,transform:xs.transform},si={test:kp("hsl","hue"),parse:py("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(e)+", "+In.transform(va(t))+", "+In.transform(va(s))+", "+va(Na.transform(i))+")"},bt={test:e=>xs.test(e)||md.test(e)||si.test(e),parse:e=>xs.test(e)?xs.parse(e):si.test(e)?si.parse(e):md.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xs.transform(e):si.transform(e)},xj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yj(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bp))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(xj))===null||s===void 0?void 0:s.length)||0)>0}const fy="number",hy="color",vj="var",bj="var(",t0="${}",kj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pa(e){const t=e.toString(),s=[],i={color:[],number:[],var:[]},o=[];let u=0;const p=t.replace(kj,f=>(bt.test(f)?(i.color.push(u),o.push(hy),s.push(bt.parse(f))):f.startsWith(bj)?(i.var.push(u),o.push(vj),s.push(f)):(i.number.push(u),o.push(fy),s.push(parseFloat(f))),++u,t0)).split(t0);return{values:s,split:p,indexes:i,types:o}}function my(e){return Pa(e).values}function gy(e){const{split:t,types:s}=Pa(e),i=t.length;return o=>{let u="";for(let d=0;d<i;d++)if(u+=t[d],o[d]!==void 0){const p=s[d];p===fy?u+=va(o[d]):p===hy?u+=bt.transform(o[d]):u+=o[d]}return u}}const wj=e=>typeof e=="number"?0:e;function jj(e){const t=my(e);return gy(e)(t.map(wj))}const Wr={test:yj,parse:my,createTransformer:gy,getAnimatableNone:jj},Sj=new Set(["brightness","contrast","saturate","opacity"]);function Cj(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=s.match(bp)||[];if(!i)return e;const o=s.replace(i,"");let u=Sj.has(t)?1:0;return i!==s&&(u*=100),t+"("+u+o+")"}const Nj=/\b([a-z-]*)\(.*?\)/gu,gd={...Wr,getAnimatableNone:e=>{const t=e.match(Nj);return t?t.map(Cj).join(" "):e}},Ej={...ip,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:gd,WebkitFilter:gd},wp=e=>Ej[e];function xy(e,t){let s=wp(e);return s!==gd&&(s=Wr),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Pj=new Set(["auto","none","0"]);function Tj(e,t,s){let i=0,o;for(;i<e.length&&!o;){const u=e[i];typeof u=="string"&&!Pj.has(u)&&Pa(u).values.length&&(o=e[i]),i++}if(o&&s)for(const u of t)e[u]=xy(s,o)}const n0=e=>e===Ti||e===ge,r0=(e,t)=>parseFloat(e.split(", ")[t]),s0=(e,t)=>(s,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return r0(o[1],t);{const u=i.match(/^matrix\((.+)\)$/u);return u?r0(u[1],e):0}},Rj=new Set(["x","y","z"]),Dj=Pi.filter(e=>!Rj.has(e));function Lj(e){const t=[];return Dj.forEach(s=>{const i=e.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const wi={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:s0(4,13),y:s0(5,14)};wi.translateX=wi.x;wi.translateY=wi.y;const Es=new Set;let xd=!1,yd=!1;function yy(){if(yd){const e=Array.from(Es).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),s=new Map;t.forEach(i=>{const o=Lj(i);o.length&&(s.set(i,o),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const o=s.get(i);o&&o.forEach(([u,d])=>{var p;(p=i.getValue(u))===null||p===void 0||p.set(d)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}yd=!1,xd=!1,Es.forEach(e=>e.complete()),Es.clear()}function vy(){Es.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yd=!0)})}function Aj(){vy(),yy()}class jp{constructor(t,s,i,o,u,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=o,this.element=u,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Es.add(this),xd||(xd=!0,Be.read(vy),Be.resolveKeyframes(yy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:o}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const d=o==null?void 0:o.get(),p=t[t.length-1];if(d!==void 0)t[0]=d;else if(i&&s){const f=i.readValue(s,p);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=p),o&&d===void 0&&o.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Es.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Es.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const by=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Ij=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Mj(e){const t=Ij.exec(e);if(!t)return[,];const[,s,i,o]=t;return[`--${s??i}`,o]}function ky(e,t,s=1){const[i,o]=Mj(e);if(!i)return;const u=window.getComputedStyle(t).getPropertyValue(i);if(u){const d=u.trim();return by(d)?parseFloat(d):d}return sp(o)?ky(o,t,s+1):o}const wy=e=>t=>t.test(e),Oj={test:e=>e==="auto",parse:e=>e},jy=[Ti,ge,In,Lr,C2,S2,Oj],i0=e=>jy.find(wy(e));class Sy extends jp{constructor(t,s,i,o,u){super(t,s,i,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let g=t[f];if(typeof g=="string"&&(g=g.trim(),sp(g))){const x=ky(g,s.current);x!==void 0&&(t[f]=x),f===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!ey.has(i)||t.length!==2)return;const[o,u]=t,d=i0(o),p=i0(u);if(d!==p)if(n0(d)&&n0(p))for(let f=0;f<t.length;f++){const g=t[f];typeof g=="string"&&(t[f]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let o=0;o<t.length;o++)pj(t[o])&&i.push(o);i.length&&Tj(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wi[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(i,o).jump(o,!1)}measureEndState(){var t;const{element:s,name:i,unresolvedKeyframes:o}=this;if(!s||!s.current)return;const u=s.getValue(i);u&&u.jump(this.measuredOrigin,!1);const d=o.length-1,p=o[d];o[d]=wi[i](s.measureViewportBox(),window.getComputedStyle(s.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([f,g])=>{s.getValue(f).set(g)}),this.resolveNoneKeyframes()}}const a0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Wr.test(e)||e==="0")&&!e.startsWith("url("));function Fj(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function _j(e,t,s,i){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],d=a0(o,t),p=a0(u,t);return!d||!p?!1:Fj(e)||(s==="spring"||pp(s))&&i}const zj=e=>e!==null;function Ml(e,{repeat:t,repeatType:s="loop"},i){const o=e.filter(zj),u=t&&s!=="loop"&&t%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const Vj=40;class Cy{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:d="loop",...p}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mn.now(),this.options={autoplay:t,delay:s,type:i,repeat:o,repeatDelay:u,repeatType:d,...p},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Vj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Aj(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Mn.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:u,delay:d,onComplete:p,onUpdate:f,isGenerator:g}=this.options;if(!g&&!_j(t,i,o,u))if(d)this.options.duration=0;else{f&&f(Ml(t,this.options,s)),p&&p(),this.resolveFinishedPromise();return}const x=this.initPlayback(t,s);x!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...x},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const He=(e,t,s)=>e+(t-e)*s;function Lu(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Bj({hue:e,saturation:t,lightness:s,alpha:i}){e/=360,t/=100,s/=100;let o=0,u=0,d=0;if(!t)o=u=d=s;else{const p=s<.5?s*(1+t):s+t-s*t,f=2*s-p;o=Lu(f,p,e+1/3),u=Lu(f,p,e),d=Lu(f,p,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}function bl(e,t){return s=>s>0?t:e}const Au=(e,t,s)=>{const i=e*e,o=s*(t*t-i)+i;return o<0?0:Math.sqrt(o)},$j=[md,xs,si],Uj=e=>$j.find(t=>t.test(e));function o0(e){const t=Uj(e);if(!t)return!1;let s=t.parse(e);return t===si&&(s=Bj(s)),s}const l0=(e,t)=>{const s=o0(e),i=o0(t);if(!s||!i)return bl(e,t);const o={...s};return u=>(o.red=Au(s.red,i.red,u),o.green=Au(s.green,i.green,u),o.blue=Au(s.blue,i.blue,u),o.alpha=He(s.alpha,i.alpha,u),xs.transform(o))},Wj=(e,t)=>s=>t(e(s)),Ba=(...e)=>e.reduce(Wj),vd=new Set(["none","hidden"]);function Kj(e,t){return vd.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function Hj(e,t){return s=>He(e,t,s)}function Sp(e){return typeof e=="number"?Hj:typeof e=="string"?sp(e)?bl:bt.test(e)?l0:Gj:Array.isArray(e)?Ny:typeof e=="object"?bt.test(e)?l0:qj:bl}function Ny(e,t){const s=[...e],i=s.length,o=e.map((u,d)=>Sp(u)(u,t[d]));return u=>{for(let d=0;d<i;d++)s[d]=o[d](u);return s}}function qj(e,t){const s={...e,...t},i={};for(const o in s)e[o]!==void 0&&t[o]!==void 0&&(i[o]=Sp(e[o])(e[o],t[o]));return o=>{for(const u in i)s[u]=i[u](o);return s}}function Qj(e,t){var s;const i=[],o={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const d=t.types[u],p=e.indexes[d][o[d]],f=(s=e.values[p])!==null&&s!==void 0?s:0;i[u]=f,o[d]++}return i}const Gj=(e,t)=>{const s=Wr.createTransformer(t),i=Pa(e),o=Pa(t);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?vd.has(e)&&!o.values.length||vd.has(t)&&!i.values.length?Kj(e,t):Ba(Ny(Qj(i,o),o.values),s):bl(e,t)};function Ey(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?He(e,t,s):Sp(e)(e,t)}const Yj=5;function Py(e,t,s){const i=Math.max(t-Yj,0);return ty(s-e(i),t-i)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Iu=.001;function Xj({duration:e=Xe.duration,bounce:t=Xe.bounce,velocity:s=Xe.velocity,mass:i=Xe.mass}){let o,u,d=1-t;d=sr(Xe.minDamping,Xe.maxDamping,d),e=sr(Xe.minDuration,Xe.maxDuration,tr(e)),d<1?(o=g=>{const x=g*d,v=x*e,b=x-s,j=bd(g,d),E=Math.exp(-v);return Iu-b/j*E},u=g=>{const v=g*d*e,b=v*s+s,j=Math.pow(d,2)*Math.pow(g,2)*e,E=Math.exp(-v),N=bd(Math.pow(g,2),d);return(-o(g)+Iu>0?-1:1)*((b-j)*E)/N}):(o=g=>{const x=Math.exp(-g*e),v=(g-s)*e+1;return-Iu+x*v},u=g=>{const x=Math.exp(-g*e),v=(s-g)*(e*e);return x*v});const p=5/e,f=Zj(o,u,p);if(e=er(e),isNaN(f))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:e};{const g=Math.pow(f,2)*i;return{stiffness:g,damping:d*2*Math.sqrt(i*g),duration:e}}}const Jj=12;function Zj(e,t,s){let i=s;for(let o=1;o<Jj;o++)i=i-e(i)/t(i);return i}function bd(e,t){return e*Math.sqrt(1-t*t)}const eS=["duration","bounce"],tS=["stiffness","damping","mass"];function c0(e,t){return t.some(s=>e[s]!==void 0)}function nS(e){let t={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...e};if(!c0(e,tS)&&c0(e,eS))if(e.visualDuration){const s=e.visualDuration,i=2*Math.PI/(s*1.2),o=i*i,u=2*sr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Xe.mass,stiffness:o,damping:u}}else{const s=Xj(e);t={...t,...s,mass:Xe.mass},t.isResolvedFromDuration=!0}return t}function Ty(e=Xe.visualDuration,t=Xe.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:o}=s;const u=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],p={done:!1,value:u},{stiffness:f,damping:g,mass:x,duration:v,velocity:b,isResolvedFromDuration:j}=nS({...s,velocity:-tr(s.velocity||0)}),E=b||0,N=g/(2*Math.sqrt(f*x)),S=d-u,C=tr(Math.sqrt(f/x)),R=Math.abs(S)<5;i||(i=R?Xe.restSpeed.granular:Xe.restSpeed.default),o||(o=R?Xe.restDelta.granular:Xe.restDelta.default);let k;if(N<1){const T=bd(C,N);k=I=>{const U=Math.exp(-N*C*I);return d-U*((E+N*C*S)/T*Math.sin(T*I)+S*Math.cos(T*I))}}else if(N===1)k=T=>d-Math.exp(-C*T)*(S+(E+C*S)*T);else{const T=C*Math.sqrt(N*N-1);k=I=>{const U=Math.exp(-N*C*I),B=Math.min(T*I,300);return d-U*((E+N*C*S)*Math.sinh(B)+T*S*Math.cosh(B))/T}}const P={calculatedDuration:j&&v||null,next:T=>{const I=k(T);if(j)p.done=T>=v;else{let U=0;N<1&&(U=T===0?er(E):Py(k,T,I));const B=Math.abs(U)<=i,X=Math.abs(d-I)<=o;p.done=B&&X}return p.value=p.done?d:I,p},toString:()=>{const T=Math.min(qx(P),pd),I=Qx(U=>P.next(T*U).value,T,30);return T+"ms "+I}};return P}function u0({keyframes:e,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:d,min:p,max:f,restDelta:g=.5,restSpeed:x}){const v=e[0],b={done:!1,value:v},j=B=>p!==void 0&&B<p||f!==void 0&&B>f,E=B=>p===void 0?f:f===void 0||Math.abs(p-B)<Math.abs(f-B)?p:f;let N=s*t;const S=v+N,C=d===void 0?S:d(S);C!==S&&(N=C-v);const R=B=>-N*Math.exp(-B/i),k=B=>C+R(B),P=B=>{const X=R(B),ee=k(B);b.done=Math.abs(X)<=g,b.value=b.done?C:ee};let T,I;const U=B=>{j(b.value)&&(T=B,I=Ty({keyframes:[b.value,E(b.value)],velocity:Py(k,B,b.value),damping:o,stiffness:u,restDelta:g,restSpeed:x}))};return U(0),{calculatedDuration:null,next:B=>{let X=!1;return!I&&T===void 0&&(X=!0,P(B),U(B)),T!==void 0&&B>=T?I.next(B-T):(!X&&P(B),b)}}}const rS=Va(.42,0,1,1),sS=Va(0,0,.58,1),Ry=Va(.42,0,.58,1),iS=e=>Array.isArray(e)&&typeof e[0]!="number",aS={linear:Vt,easeIn:rS,easeInOut:Ry,easeOut:sS,circIn:vp,circInOut:uy,circOut:cy,backIn:yp,backInOut:oy,backOut:ay,anticipate:ly},d0=e=>{if(fp(e)){Ex(e.length===4);const[t,s,i,o]=e;return Va(t,s,i,o)}else if(typeof e=="string")return aS[e];return e};function oS(e,t,s){const i=[],o=s||Ey,u=e.length-1;for(let d=0;d<u;d++){let p=o(e[d],e[d+1]);if(t){const f=Array.isArray(t)?t[d]||Vt:t;p=Ba(f,p)}i.push(p)}return i}function lS(e,t,{clamp:s=!0,ease:i,mixer:o}={}){const u=e.length;if(Ex(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const p=oS(t,i,o),f=p.length,g=x=>{if(d&&x<e[0])return t[0];let v=0;if(f>1)for(;v<e.length-2&&!(x<e[v+1]);v++);const b=bi(e[v],e[v+1],x);return p[v](b)};return s?x=>g(sr(e[0],e[u-1],x)):g}function cS(e,t){const s=e[e.length-1];for(let i=1;i<=t;i++){const o=bi(0,t,i);e.push(He(s,1,o))}}function uS(e){const t=[0];return cS(t,e.length-1),t}function dS(e,t){return e.map(s=>s*t)}function pS(e,t){return e.map(()=>t||Ry).splice(0,e.length-1)}function kl({duration:e=300,keyframes:t,times:s,ease:i="easeInOut"}){const o=iS(i)?i.map(d0):d0(i),u={done:!1,value:t[0]},d=dS(s&&s.length===t.length?s:uS(t),e),p=lS(d,t,{ease:Array.isArray(o)?o:pS(t,o)});return{calculatedDuration:e,next:f=>(u.value=p(f),u.done=f>=e,u)}}const fS=e=>{const t=({timestamp:s})=>e(s);return{start:()=>Be.update(t,!0),stop:()=>Ur(t),now:()=>ht.isProcessing?ht.timestamp:Mn.now()}},hS={decay:u0,inertia:u0,tween:kl,keyframes:kl,spring:Ty},mS=e=>e/100;class Cp extends Cy{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:s,motionValue:i,element:o,keyframes:u}=this.options,d=(o==null?void 0:o.KeyframeResolver)||jp,p=(f,g)=>this.onKeyframesResolved(f,g);this.resolver=new d(u,p,s,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:u,velocity:d=0}=this.options,p=pp(s)?s:hS[s]||kl;let f,g;p!==kl&&typeof t[0]!="number"&&(f=Ba(mS,Ey(t[0],t[1])),t=[0,100]);const x=p({...this.options,keyframes:t});u==="mirror"&&(g=p({...this.options,keyframes:[...t].reverse(),velocity:-d})),x.calculatedDuration===null&&(x.calculatedDuration=qx(x));const{calculatedDuration:v}=x,b=v+o,j=b*(i+1)-o;return{generator:x,mirroredGenerator:g,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:b,totalDuration:j}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:i}=this;if(!i){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:o,generator:u,mirroredGenerator:d,mapPercentToKeyframes:p,keyframes:f,calculatedDuration:g,totalDuration:x,resolvedDuration:v}=i;if(this.startTime===null)return u.next(0);const{delay:b,repeat:j,repeatType:E,repeatDelay:N,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-x/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-b*(this.speed>=0?1:-1),R=this.speed>=0?C<0:C>x;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=x);let k=this.currentTime,P=u;if(j){const B=Math.min(this.currentTime,x)/v;let X=Math.floor(B),ee=B%1;!ee&&B>=1&&(ee=1),ee===1&&X--,X=Math.min(X,j+1),!!(X%2)&&(E==="reverse"?(ee=1-ee,N&&(ee-=N/v)):E==="mirror"&&(P=d)),k=sr(0,1,ee)*v}const T=R?{done:!1,value:f[0]}:P.next(k);p&&(T.value=p(T.value));let{done:I}=T;!R&&g!==null&&(I=this.speed>=0?this.currentTime>=x:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return U&&o!==void 0&&(T.value=Ml(f,this.options,o)),S&&S(T.value),U&&this.finish(),T}get duration(){const{resolved:t}=this;return t?tr(t.calculatedDuration):0}get time(){return tr(this.currentTime)}set time(t){t=er(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=tr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=fS,onPlay:s,startTime:i}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),s&&s();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const gS=new Set(["opacity","clipPath","filter","transform"]);function xS(e,t,s,{delay:i=0,duration:o=300,repeat:u=0,repeatType:d="loop",ease:p="easeInOut",times:f}={}){const g={[t]:s};f&&(g.offset=f);const x=Yx(p,o);return Array.isArray(x)&&(g.easing=x),e.animate(g,{delay:i,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"})}const yS=Xd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wl=10,vS=2e4;function bS(e){return pp(e.type)||e.type==="spring"||!Gx(e.ease)}function kS(e,t){const s=new Cp({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const o=[];let u=0;for(;!i.done&&u<vS;)i=s.sample(u),o.push(i.value),u+=wl;return{times:void 0,keyframes:o,duration:u-wl,ease:"linear"}}const Dy={anticipate:ly,backInOut:oy,circInOut:uy};function wS(e){return e in Dy}class p0 extends Cy{constructor(t){super(t);const{name:s,motionValue:i,element:o,keyframes:u}=this.options;this.resolver=new Sy(u,(d,p)=>this.onKeyframesResolved(d,p),s,i,o),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:i=300,times:o,ease:u,type:d,motionValue:p,name:f,startTime:g}=this.options;if(!p.owner||!p.owner.current)return!1;if(typeof u=="string"&&vl()&&wS(u)&&(u=Dy[u]),bS(this.options)){const{onComplete:v,onUpdate:b,motionValue:j,element:E,...N}=this.options,S=kS(t,N);t=S.keyframes,t.length===1&&(t[1]=t[0]),i=S.duration,o=S.times,u=S.ease,d="keyframes"}const x=xS(p.owner.current,f,t,{...this.options,duration:i,times:o,ease:u});return x.startTime=g??this.calcStartTime(),this.pendingTimeline?(Ym(x,this.pendingTimeline),this.pendingTimeline=void 0):x.onfinish=()=>{const{onComplete:v}=this.options;p.set(Ml(t,this.options,s)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:x,duration:i,times:o,type:d,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return tr(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return tr(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.currentTime=er(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return Vt;const{animation:i}=s;Ym(i,t)}return Vt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:i,duration:o,type:u,ease:d,times:p}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:x,onComplete:v,element:b,...j}=this.options,E=new Cp({...j,keyframes:i,duration:o,type:u,ease:d,times:p,isGenerator:!0}),N=er(this.time);g.setWithVelocity(E.sample(N-wl).value,E.sample(N).value,wl)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:i,repeatDelay:o,repeatType:u,damping:d,type:p}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=s.owner.getProps();return yS()&&i&&gS.has(i)&&!f&&!g&&!o&&u!=="mirror"&&d!==0&&p!=="inertia"}}const jS={type:"spring",stiffness:500,damping:25,restSpeed:10},SS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),CS={type:"keyframes",duration:.8},NS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ES=(e,{keyframes:t})=>t.length>2?CS:Rs.has(e)?e.startsWith("scale")?SS(t[1]):jS:NS;function PS({when:e,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:o,repeat:u,repeatType:d,repeatDelay:p,from:f,elapsed:g,...x}){return!!Object.keys(x).length}const Np=(e,t,s,i={},o,u)=>d=>{const p=dp(i,e)||{},f=p.delay||i.delay||0;let{elapsed:g=0}=i;g=g-er(f);let x={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-g,onUpdate:b=>{t.set(b),p.onUpdate&&p.onUpdate(b)},onComplete:()=>{d(),p.onComplete&&p.onComplete()},name:e,motionValue:t,element:u?void 0:o};PS(p)||(x={...x,...ES(e,x)}),x.duration&&(x.duration=er(x.duration)),x.repeatDelay&&(x.repeatDelay=er(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let v=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(v=!0)),v&&!u&&t.get()!==void 0){const b=Ml(x.keyframes,p);if(b!==void 0)return Be.update(()=>{x.onUpdate(b),x.onComplete()}),new q2([])}return!u&&p0.supports(x)?new p0(x):new Cp(x)};function TS({protectedKeys:e,needsAnimating:t},s){const i=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function Ly(e,t,{delay:s=0,transitionOverride:i,type:o}={}){var u;let{transition:d=e.getDefaultTransition(),transitionEnd:p,...f}=t;i&&(d=i);const g=[],x=o&&e.animationState&&e.animationState.getState()[o];for(const v in f){const b=e.getValue(v,(u=e.latestValues[v])!==null&&u!==void 0?u:null),j=f[v];if(j===void 0||x&&TS(x,v))continue;const E={delay:s,...dp(d||{},v)};let N=!1;if(window.MotionHandoffAnimation){const C=ny(e);if(C){const R=window.MotionHandoffAnimation(C,v,Be);R!==null&&(E.startTime=R,N=!0)}}hd(e,v),b.start(Np(v,b,j,e.shouldReduceMotion&&ey.has(v)?{type:!1}:E,e,N));const S=b.animation;S&&g.push(S)}return p&&Promise.all(g).then(()=>{Be.update(()=>{p&&oj(e,p)})}),g}function kd(e,t,s={}){var i;const o=Il(e,t,s.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:u=e.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(u=s.transitionOverride);const d=o?()=>Promise.all(Ly(e,o,s)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:v,staggerDirection:b}=u;return RS(e,t,x+g,v,b,s)}:()=>Promise.resolve(),{when:f}=u;if(f){const[g,x]=f==="beforeChildren"?[d,p]:[p,d];return g().then(()=>x())}else return Promise.all([d(),p(s.delay)])}function RS(e,t,s=0,i=0,o=1,u){const d=[],p=(e.variantChildren.size-1)*i,f=o===1?(g=0)=>g*i:(g=0)=>p-g*i;return Array.from(e.variantChildren).sort(DS).forEach((g,x)=>{g.notify("AnimationStart",t),d.push(kd(g,t,{...u,delay:s+f(x)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(d)}function DS(e,t){return e.sortNodePosition(t)}function LS(e,t,s={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const o=t.map(u=>kd(e,u,s));i=Promise.all(o)}else if(typeof t=="string")i=kd(e,t,s);else{const o=typeof t=="function"?Il(e,t,s.custom):t;i=Promise.all(Ly(e,o,s))}return i.then(()=>{e.notify("AnimationComplete",t)})}const AS=Zd.length;function Ay(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Ay(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<AS;s++){const i=Zd[s],o=e.props[i];(Ca(o)||o===!1)&&(t[i]=o)}return t}const IS=[...Jd].reverse(),MS=Jd.length;function OS(e){return t=>Promise.all(t.map(({animation:s,options:i})=>LS(e,s,i)))}function FS(e){let t=OS(e),s=f0(),i=!0;const o=f=>(g,x)=>{var v;const b=Il(e,x,f==="exit"?(v=e.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(b){const{transition:j,transitionEnd:E,...N}=b;g={...g,...N,...E}}return g};function u(f){t=f(e)}function d(f){const{props:g}=e,x=Ay(e.parent)||{},v=[],b=new Set;let j={},E=1/0;for(let S=0;S<MS;S++){const C=IS[S],R=s[C],k=g[C]!==void 0?g[C]:x[C],P=Ca(k),T=C===f?R.isActive:null;T===!1&&(E=S);let I=k===x[C]&&k!==g[C]&&P;if(I&&i&&e.manuallyAnimateOnMount&&(I=!1),R.protectedKeys={...j},!R.isActive&&T===null||!k&&!R.prevProp||Ll(k)||typeof k=="boolean")continue;const U=_S(R.prevProp,k);let B=U||C===f&&R.isActive&&!I&&P||S>E&&P,X=!1;const ee=Array.isArray(k)?k:[k];let ae=ee.reduce(o(C),{});T===!1&&(ae={});const{prevResolvedValues:re={}}=R,H={...re,...ae},F=z=>{B=!0,b.has(z)&&(X=!0,b.delete(z)),R.needsAnimating[z]=!0;const K=e.getValue(z);K&&(K.liveStyle=!1)};for(const z in H){const K=ae[z],J=re[z];if(j.hasOwnProperty(z))continue;let ne=!1;dd(K)&&dd(J)?ne=!Hx(K,J):ne=K!==J,ne?K!=null?F(z):b.add(z):K!==void 0&&b.has(z)?F(z):R.protectedKeys[z]=!0}R.prevProp=k,R.prevResolvedValues=ae,R.isActive&&(j={...j,...ae}),i&&e.blockInitialAnimation&&(B=!1),B&&(!(I&&U)||X)&&v.push(...ee.map(z=>({animation:z,options:{type:C}})))}if(b.size){const S={};b.forEach(C=>{const R=e.getBaseTarget(C),k=e.getValue(C);k&&(k.liveStyle=!0),S[C]=R??null}),v.push({animation:S})}let N=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(N=!1),i=!1,N?t(v):Promise.resolve()}function p(f,g){var x;if(s[f].isActive===g)return Promise.resolve();(x=e.variantChildren)===null||x===void 0||x.forEach(b=>{var j;return(j=b.animationState)===null||j===void 0?void 0:j.setActive(f,g)}),s[f].isActive=g;const v=d(f);for(const b in s)s[b].protectedKeys={};return v}return{animateChanges:d,setActive:p,setAnimateFunction:u,getState:()=>s,reset:()=>{s=f0(),i=!0}}}function _S(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Hx(t,e):!1}function ds(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function f0(){return{animate:ds(!0),whileInView:ds(),whileHover:ds(),whileTap:ds(),whileDrag:ds(),whileFocus:ds(),exit:ds()}}class qr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zS extends qr{constructor(t){super(t),t.animationState||(t.animationState=FS(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ll(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let VS=0;class BS extends qr{constructor(){super(...arguments),this.id=VS++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const $S={animation:{Feature:zS},exit:{Feature:BS}};function Ta(e,t,s,i={passive:!0}){return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s)}function $a(e){return{point:{x:e.pageX,y:e.pageY}}}const US=e=>t=>hp(t)&&e(t,$a(t));function ba(e,t,s,i){return Ta(e,t,US(s),i)}const h0=(e,t)=>Math.abs(e-t);function WS(e,t){const s=h0(e.x,t.x),i=h0(e.y,t.y);return Math.sqrt(s**2+i**2)}class Iy{constructor(t,s,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ou(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,j=WS(v.offset,{x:0,y:0})>=3;if(!b&&!j)return;const{point:E}=v,{timestamp:N}=ht;this.history.push({...E,timestamp:N});const{onStart:S,onMove:C}=this.handlers;b||(S&&S(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Mu(b,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:j,onSessionEnd:E,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Ou(v.type==="pointercancel"?this.lastMoveEventInfo:Mu(b,this.transformPagePoint),this.history);this.startEvent&&j&&j(v,S),E&&E(v,S)},!hp(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=i,this.contextWindow=o||window;const d=$a(t),p=Mu(d,this.transformPagePoint),{point:f}=p,{timestamp:g}=ht;this.history=[{...f,timestamp:g}];const{onSessionStart:x}=s;x&&x(t,Ou(p,this.history)),this.removeListeners=Ba(ba(this.contextWindow,"pointermove",this.handlePointerMove),ba(this.contextWindow,"pointerup",this.handlePointerUp),ba(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ur(this.updatePoint)}}function Mu(e,t){return t?{point:t(e.point)}:e}function m0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ou({point:e},t){return{point:e,delta:m0(e,My(t)),offset:m0(e,KS(t)),velocity:HS(t,.1)}}function KS(e){return e[0]}function My(e){return e[e.length-1]}function HS(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,i=null;const o=My(e);for(;s>=0&&(i=e[s],!(o.timestamp-i.timestamp>er(t)));)s--;if(!i)return{x:0,y:0};const u=tr(o.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(o.x-i.x)/u,y:(o.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const Oy=1e-4,qS=1-Oy,QS=1+Oy,Fy=.01,GS=0-Fy,YS=0+Fy;function Bt(e){return e.max-e.min}function XS(e,t,s){return Math.abs(e-t)<=s}function g0(e,t,s,i=.5){e.origin=i,e.originPoint=He(t.min,t.max,e.origin),e.scale=Bt(s)/Bt(t),e.translate=He(s.min,s.max,e.origin)-e.originPoint,(e.scale>=qS&&e.scale<=QS||isNaN(e.scale))&&(e.scale=1),(e.translate>=GS&&e.translate<=YS||isNaN(e.translate))&&(e.translate=0)}function ka(e,t,s,i){g0(e.x,t.x,s.x,i?i.originX:void 0),g0(e.y,t.y,s.y,i?i.originY:void 0)}function x0(e,t,s){e.min=s.min+t.min,e.max=e.min+Bt(t)}function JS(e,t,s){x0(e.x,t.x,s.x),x0(e.y,t.y,s.y)}function y0(e,t,s){e.min=t.min-s.min,e.max=e.min+Bt(t)}function wa(e,t,s){y0(e.x,t.x,s.x),y0(e.y,t.y,s.y)}function ZS(e,{min:t,max:s},i){return t!==void 0&&e<t?e=i?He(t,e,i.min):Math.max(e,t):s!==void 0&&e>s&&(e=i?He(s,e,i.max):Math.min(e,s)),e}function v0(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function eC(e,{top:t,left:s,bottom:i,right:o}){return{x:v0(e.x,s,o),y:v0(e.y,t,i)}}function b0(e,t){let s=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,i]=[i,s]),{min:s,max:i}}function tC(e,t){return{x:b0(e.x,t.x),y:b0(e.y,t.y)}}function nC(e,t){let s=.5;const i=Bt(e),o=Bt(t);return o>i?s=bi(t.min,t.max-i,e.min):i>o&&(s=bi(e.min,e.max-o,t.min)),sr(0,1,s)}function rC(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const wd=.35;function sC(e=wd){return e===!1?e=0:e===!0&&(e=wd),{x:k0(e,"left","right"),y:k0(e,"top","bottom")}}function k0(e,t,s){return{min:w0(e,t),max:w0(e,s)}}function w0(e,t){return typeof e=="number"?e:e[t]||0}const j0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ii=()=>({x:j0(),y:j0()}),S0=()=>({min:0,max:0}),tt=()=>({x:S0(),y:S0()});function Xt(e){return[e("x"),e("y")]}function _y({top:e,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:e,max:i}}}function iC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function aC(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function Fu(e){return e===void 0||e===1}function jd({scale:e,scaleX:t,scaleY:s}){return!Fu(e)||!Fu(t)||!Fu(s)}function fs(e){return jd(e)||zy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zy(e){return C0(e.x)||C0(e.y)}function C0(e){return e&&e!=="0%"}function jl(e,t,s){const i=e-s,o=t*i;return s+o}function N0(e,t,s,i,o){return o!==void 0&&(e=jl(e,o,i)),jl(e,s,i)+t}function Sd(e,t=0,s=1,i,o){e.min=N0(e.min,t,s,i,o),e.max=N0(e.max,t,s,i,o)}function Vy(e,{x:t,y:s}){Sd(e.x,t.translate,t.scale,t.originPoint),Sd(e.y,s.translate,s.scale,s.originPoint)}const E0=.999999999999,P0=1.0000000000001;function oC(e,t,s,i=!1){const o=s.length;if(!o)return;t.x=t.y=1;let u,d;for(let p=0;p<o;p++){u=s[p],d=u.projectionDelta;const{visualElement:f}=u.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&oi(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,Vy(e,d)),i&&fs(u.latestValues)&&oi(e,u.latestValues))}t.x<P0&&t.x>E0&&(t.x=1),t.y<P0&&t.y>E0&&(t.y=1)}function ai(e,t){e.min=e.min+t,e.max=e.max+t}function T0(e,t,s,i,o=.5){const u=He(e.min,e.max,o);Sd(e,t,s,u,i)}function oi(e,t){T0(e.x,t.x,t.scaleX,t.scale,t.originX),T0(e.y,t.y,t.scaleY,t.scale,t.originY)}function By(e,t){return _y(aC(e.getBoundingClientRect(),t))}function lC(e,t,s){const i=By(e,s),{scroll:o}=t;return o&&(ai(i.x,o.offset.x),ai(i.y,o.offset.y)),i}const $y=({current:e})=>e?e.ownerDocument.defaultView:null,cC=new WeakMap;class uC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tt(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=x=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor($a(x).point)},u=(x,v)=>{const{drag:b,dragPropagation:j,onDragStart:E}=this.getProps();if(b&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nj(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xt(S=>{let C=this.getAxisMotionValue(S).get()||0;if(In.test(C)){const{projection:R}=this.visualElement;if(R&&R.layout){const k=R.layout.layoutBox[S];k&&(C=Bt(k)*(parseFloat(C)/100))}}this.originPoint[S]=C}),E&&Be.postRender(()=>E(x,v)),hd(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(x,v)=>{const{dragPropagation:b,dragDirectionLock:j,onDirectionLock:E,onDrag:N}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:S}=v;if(j&&this.currentDirection===null){this.currentDirection=dC(S),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,S),this.updateAxis("y",v.point,S),this.visualElement.render(),N&&N(x,v)},p=(x,v)=>this.stop(x,v),f=()=>Xt(x=>{var v;return this.getAnimationState(x)==="paused"&&((v=this.getAxisMotionValue(x).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Iy(t,{onSessionStart:o,onStart:u,onMove:d,onSessionEnd:p,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:$y(this.visualElement)})}stop(t,s){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Be.postRender(()=>u(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,i){const{drag:o}=this.getProps();if(!i||!sl(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(d=ZS(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;s&&ri(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&o?this.constraints=eC(o.layoutBox,s):this.constraints=!1,this.elastic=sC(i),u!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Xt(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=rC(o.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!ri(t))return!1;const i=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=lC(i,o.root,this.visualElement.getTransformPagePoint());let d=tC(o.layout.layoutBox,u);if(s){const p=s(iC(d));this.hasMutatedConstraints=!!p,p&&(d=_y(p))}return d}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:o,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:p}=this.getProps(),f=this.constraints||{},g=Xt(x=>{if(!sl(x,s,this.currentDirection))return;let v=f&&f[x]||{};d&&(v={min:0,max:0});const b=o?200:1e6,j=o?40:1e7,E={type:"inertia",velocity:i?t[x]:0,bounceStiffness:b,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(x,E)});return Promise.all(g).then(p)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return hd(this.visualElement,t),i.start(Np(t,i,0,s,this.visualElement,!1))}stopAnimation(){Xt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),o=i[s];return o||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Xt(s=>{const{drag:i}=this.getProps();if(!sl(s,i,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(s);if(o&&o.layout){const{min:d,max:p}=o.layout.layoutBox[s];u.set(t[s]-He(d,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!ri(s)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Xt(d=>{const p=this.getAxisMotionValue(d);if(p&&this.constraints!==!1){const f=p.get();o[d]=nC({min:f,max:f},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Xt(d=>{if(!sl(d,t,null))return;const p=this.getAxisMotionValue(d),{min:f,max:g}=this.constraints[d];p.set(He(f,g,o[d]))})}addListeners(){if(!this.visualElement.current)return;cC.set(this.visualElement,this);const t=this.visualElement.current,s=ba(t,"pointerdown",f=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();ri(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Be.read(i);const d=Ta(window,"resize",()=>this.scalePositionWithinConstraints()),p=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(Xt(x=>{const v=this.getAxisMotionValue(x);v&&(this.originPoint[x]+=f[x].translate,v.set(v.get()+f[x].translate))}),this.visualElement.render())}));return()=>{d(),s(),u(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:d=wd,dragMomentum:p=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:d,dragMomentum:p}}}function sl(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function dC(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class pC extends qr{constructor(t){super(t),this.removeGroupControls=Vt,this.removeListeners=Vt,this.controls=new uC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const R0=e=>(t,s)=>{e&&Be.postRender(()=>e(t,s))};class fC extends qr{constructor(){super(...arguments),this.removePointerDownListener=Vt}onPointerDown(t){this.session=new Iy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$y(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:R0(t),onStart:R0(s),onMove:i,onEnd:(u,d)=>{delete this.session,o&&Be.postRender(()=>o(u,d))}}}mount(){this.removePointerDownListener=ba(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function D0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ha={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const s=D0(e,t.target.x),i=D0(e,t.target.y);return`${s}% ${i}%`}},hC={correct:(e,{treeScale:t,projectionDelta:s})=>{const i=e,o=Wr.parse(e);if(o.length>5)return i;const u=Wr.createTransformer(e),d=typeof o[0]!="number"?1:0,p=s.x.scale*t.x,f=s.y.scale*t.y;o[0+d]/=p,o[1+d]/=f;const g=He(p,f,.5);return typeof o[2+d]=="number"&&(o[2+d]/=g),typeof o[3+d]=="number"&&(o[3+d]/=g),u(o)}};class mC extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:o}=this.props,{projection:u}=t;M2(gC),u&&(s.group&&s.group.add(u),i&&i.register&&o&&i.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),fl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:o,isPresent:u}=this.props,d=i.projection;return d&&(d.isPresent=u,o||t.layoutDependency!==s||s===void 0?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||Be.postRender(()=>{const p=d.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Uy(e){const[t,s]=Cx(),i=y.useContext(qd);return l.jsx(mC,{...e,layoutGroup:i,switchLayoutGroup:y.useContext(Ax),isPresent:t,safeToRemove:s})}const gC={borderRadius:{...ha,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ha,borderTopRightRadius:ha,borderBottomLeftRadius:ha,borderBottomRightRadius:ha,boxShadow:hC};function xC(e,t,s){const i=kt(e)?e:Ea(e);return i.start(Np("",i,t,s)),i.animation}function yC(e){return e instanceof SVGElement&&e.tagName!=="svg"}const vC=(e,t)=>e.depth-t.depth;class bC{constructor(){this.children=[],this.isDirty=!1}add(t){mp(this.children,t),this.isDirty=!0}remove(t){gp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vC),this.isDirty=!1,this.children.forEach(t)}}function kC(e,t){const s=Mn.now(),i=({timestamp:o})=>{const u=o-s;u>=t&&(Ur(i),e(u-t))};return Be.read(i,!0),()=>Ur(i)}const Wy=["TopLeft","TopRight","BottomLeft","BottomRight"],wC=Wy.length,L0=e=>typeof e=="string"?parseFloat(e):e,A0=e=>typeof e=="number"||ge.test(e);function jC(e,t,s,i,o,u){o?(e.opacity=He(0,s.opacity!==void 0?s.opacity:1,SC(i)),e.opacityExit=He(t.opacity!==void 0?t.opacity:1,0,CC(i))):u&&(e.opacity=He(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,i));for(let d=0;d<wC;d++){const p=`border${Wy[d]}Radius`;let f=I0(t,p),g=I0(s,p);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||A0(f)===A0(g)?(e[p]=Math.max(He(L0(f),L0(g),i),0),(In.test(g)||In.test(f))&&(e[p]+="%")):e[p]=g}(t.rotate||s.rotate)&&(e.rotate=He(t.rotate||0,s.rotate||0,i))}function I0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const SC=Ky(0,.5,cy),CC=Ky(.5,.95,Vt);function Ky(e,t,s){return i=>i<e?0:i>t?1:s(bi(e,t,i))}function M0(e,t){e.min=t.min,e.max=t.max}function Yt(e,t){M0(e.x,t.x),M0(e.y,t.y)}function O0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function F0(e,t,s,i,o){return e-=t,e=jl(e,1/s,i),o!==void 0&&(e=jl(e,1/o,i)),e}function NC(e,t=0,s=1,i=.5,o,u=e,d=e){if(In.test(t)&&(t=parseFloat(t),t=He(d.min,d.max,t/100)-d.min),typeof t!="number")return;let p=He(u.min,u.max,i);e===u&&(p-=t),e.min=F0(e.min,t,s,p,o),e.max=F0(e.max,t,s,p,o)}function _0(e,t,[s,i,o],u,d){NC(e,t[s],t[i],t[o],t.scale,u,d)}const EC=["x","scaleX","originX"],PC=["y","scaleY","originY"];function z0(e,t,s,i){_0(e.x,t,EC,s?s.x:void 0,i?i.x:void 0),_0(e.y,t,PC,s?s.y:void 0,i?i.y:void 0)}function V0(e){return e.translate===0&&e.scale===1}function Hy(e){return V0(e.x)&&V0(e.y)}function B0(e,t){return e.min===t.min&&e.max===t.max}function TC(e,t){return B0(e.x,t.x)&&B0(e.y,t.y)}function $0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qy(e,t){return $0(e.x,t.x)&&$0(e.y,t.y)}function U0(e){return Bt(e.x)/Bt(e.y)}function W0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class RC{constructor(){this.members=[]}add(t){mp(this.members,t),t.scheduleRender()}remove(t){if(gp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let i;for(let o=s;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DC(e,t,s){let i="";const o=e.x.translate/t.x,u=e.y.translate/t.y,d=(s==null?void 0:s.z)||0;if((o||u||d)&&(i=`translate3d(${o}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:x,rotateX:v,rotateY:b,skewX:j,skewY:E}=s;g&&(i=`perspective(${g}px) ${i}`),x&&(i+=`rotate(${x}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),j&&(i+=`skewX(${j}deg) `),E&&(i+=`skewY(${E}deg) `)}const p=e.x.scale*t.x,f=e.y.scale*t.y;return(p!==1||f!==1)&&(i+=`scale(${p}, ${f})`),i||"none"}const hs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ya=typeof window<"u"&&window.MotionDebug!==void 0,_u=["","X","Y","Z"],LC={visibility:"hidden"},K0=1e3;let AC=0;function zu(e,t,s,i){const{latestValues:o}=t;o[e]&&(s[e]=o[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Qy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=ny(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Be,!(o||u))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Qy(i)}function Gy({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(d={},p=t==null?void 0:t()){this.id=AC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ya&&(hs.totalNodes=hs.resolvedTargetDeltas=hs.recalculatedProjection=0),this.nodes.forEach(OC),this.nodes.forEach(BC),this.nodes.forEach($C),this.nodes.forEach(FC),ya&&window.MotionDebug.record(hs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new bC)}addEventListener(d,p){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new xp),this.eventHandlers.get(d).add(p)}notifyListeners(d,...p){const f=this.eventHandlers.get(d);f&&f.notify(...p)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,p=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yC(d),this.instance=d;const{layoutId:f,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),p&&(g||f)&&(this.isLayoutDirty=!0),e){let v;const b=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=kC(b,250),fl.hasAnimatedSinceResize&&(fl.hasAnimatedSinceResize=!1,this.nodes.forEach(q0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&x&&(f||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeTargetChanged:j,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||x.getDefaultTransition()||qC,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=x.getProps(),R=!this.targetLayout||!qy(this.targetLayout,E)||j,k=!b&&j;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||b&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,k);const P={...dp(N,"layout"),onPlay:S,onComplete:C};(x.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else b||q0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UC),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Qy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const v=this.path[x];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:p,layout:f}=this.options;if(p===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(H0);return}this.isUpdating||this.nodes.forEach(zC),this.isUpdating=!1,this.nodes.forEach(VC),this.nodes.forEach(IC),this.nodes.forEach(MC),this.clearAllSnapshots();const p=Mn.now();ht.delta=sr(0,1e3/60,p-ht.timestamp),ht.timestamp=p,ht.isProcessing=!0,Tu.update.process(ht),Tu.preRender.process(ht),Tu.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_C),this.sharedNodes.forEach(WC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(p=!1),p){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:f,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!Hy(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;d&&(p||fs(this.latestValues)||x)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const p=this.measurePageBox();let f=this.removeElementScroll(p);return d&&(f=this.removeTransform(f)),QC(f),{animationId:this.root.animationId,measuredBox:p,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:p}=this.options;if(!p)return tt();const f=p.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(GC))){const{scroll:x}=this.root;x&&(ai(f.x,x.offset.x),ai(f.y,x.offset.y))}return f}removeElementScroll(d){var p;const f=tt();if(Yt(f,d),!((p=this.scroll)===null||p===void 0)&&p.wasRoot)return f;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:v,options:b}=x;x!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Yt(f,d),ai(f.x,v.offset.x),ai(f.y,v.offset.y))}return f}applyTransform(d,p=!1){const f=tt();Yt(f,d);for(let g=0;g<this.path.length;g++){const x=this.path[g];!p&&x.options.layoutScroll&&x.scroll&&x!==x.root&&oi(f,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),fs(x.latestValues)&&oi(f,x.latestValues)}return fs(this.latestValues)&&oi(f,this.latestValues),f}removeTransform(d){const p=tt();Yt(p,d);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!fs(g.latestValues))continue;jd(g.latestValues)&&g.updateSnapshot();const x=tt(),v=g.measurePageBox();Yt(x,v),z0(p,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return fs(this.latestValues)&&z0(p,this.latestValues),p}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var p;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==f;if(!(d||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const j=this.getClosestProjectingParent();j&&j.layout&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),wa(this.relativeTargetOrigin,this.layout.layoutBox,j.layout.layoutBox),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=tt(),this.targetWithTransforms=tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yt(this.target,this.layout.layoutBox),Vy(this.target,this.targetDelta)):Yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const j=this.getClosestProjectingParent();j&&!!j.resumingFrom==!!this.resumingFrom&&!j.options.layoutScroll&&j.target&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),wa(this.relativeTargetOrigin,this.target,j.target),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ya&&hs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jd(this.parent.latestValues)||zy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const p=this.getLead(),f=!!this.resumingFrom||this!==p;let g=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(g=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(g=!1),g)return;const{layout:x,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||v))return;Yt(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,j=this.treeScale.y;oC(this.layoutCorrected,this.treeScale,this.path,f),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=tt());const{target:E}=p;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(O0(this.prevProjectionDelta.x,this.projectionDelta.x),O0(this.prevProjectionDelta.y,this.projectionDelta.y)),ka(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==j||!W0(this.projectionDelta.x,this.prevProjectionDelta.x)||!W0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),ya&&hs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var p;if((p=this.options.visualElement)===null||p===void 0||p.scheduleRender(),d){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ii(),this.projectionDelta=ii(),this.projectionDeltaWithTransform=ii()}setAnimationOrigin(d,p=!1){const f=this.snapshot,g=f?f.latestValues:{},x={...this.latestValues},v=ii();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const b=tt(),j=f?f.source:void 0,E=this.layout?this.layout.source:void 0,N=j!==E,S=this.getStack(),C=!S||S.members.length<=1,R=!!(N&&!C&&this.options.crossfade===!0&&!this.path.some(HC));this.animationProgress=0;let k;this.mixTargetDelta=P=>{const T=P/1e3;Q0(v.x,d.x,T),Q0(v.y,d.y,T),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wa(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KC(this.relativeTarget,this.relativeTargetOrigin,b,T),k&&TC(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=tt()),Yt(k,this.relativeTarget)),N&&(this.animationValues=x,jC(x,g,this.latestValues,T,R,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{fl.hasAnimatedSinceResize=!0,this.currentAnimation=xC(0,K0,{...d,onUpdate:p=>{this.mixTargetDelta(p),d.onUpdate&&d.onUpdate(p)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(K0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:p,target:f,layout:g,latestValues:x}=d;if(!(!p||!f||!g)){if(this!==d&&this.layout&&g&&Yy(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||tt();const v=Bt(this.layout.layoutBox.x);f.x.min=d.target.x.min,f.x.max=f.x.min+v;const b=Bt(this.layout.layoutBox.y);f.y.min=d.target.y.min,f.y.max=f.y.min+b}Yt(p,f),oi(p,x),ka(this.projectionDeltaWithTransform,this.layoutCorrected,p,x)}}registerSharedNode(d,p){this.sharedNodes.has(d)||this.sharedNodes.set(d,new RC),this.sharedNodes.get(d).add(p);const g=p.options.initialPromotionConfig;p.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(p):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:p}=this.options;return p?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:p}=this.options;return p?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:p,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),d&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let p=!1;const{latestValues:f}=d;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(p=!0),!p)return;const g={};f.z&&zu("z",d,g,this.animationValues);for(let x=0;x<_u.length;x++)zu(`rotate${_u[x]}`,d,g,this.animationValues),zu(`skew${_u[x]}`,d,g,this.animationValues);d.render();for(const x in g)d.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);d.scheduleRender()}getProjectionStyles(d){var p,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return LC;const g={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=dl(d==null?void 0:d.pointerEvents)||"",g.transform=x?x(this.latestValues,""):"none",g;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=dl(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(N.transform=x?x({},""):"none",this.hasProjected=!1),N}const b=v.animationValues||v.latestValues;this.applyTransformsToTarget(),g.transform=DC(this.projectionDeltaWithTransform,this.treeScale,b),x&&(g.transform=x(b,g.transform));const{x:j,y:E}=this.projectionDelta;g.transformOrigin=`${j.origin*100}% ${E.origin*100}% 0`,v.animationValues?g.opacity=v===this?(f=(p=b.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:g.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const N in yl){if(b[N]===void 0)continue;const{correct:S,applyTo:C}=yl[N],R=g.transform==="none"?b[N]:S(b[N],v);if(C){const k=C.length;for(let P=0;P<k;P++)g[C[P]]=R}else g[N]=R}return this.options.layoutId&&(g.pointerEvents=v===this?dl(d==null?void 0:d.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var p;return(p=d.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(H0),this.root.sharedNodes.clear()}}}function IC(e){e.updateLayout()}function MC(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=e.layout,{animationType:u}=e.options,d=s.source!==e.layout.source;u==="size"?Xt(v=>{const b=d?s.measuredBox[v]:s.layoutBox[v],j=Bt(b);b.min=i[v].min,b.max=b.min+j}):Yy(u,s.layoutBox,i)&&Xt(v=>{const b=d?s.measuredBox[v]:s.layoutBox[v],j=Bt(i[v]);b.max=b.min+j,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+j)});const p=ii();ka(p,i,s.layoutBox);const f=ii();d?ka(f,e.applyTransform(o,!0),s.measuredBox):ka(f,i,s.layoutBox);const g=!Hy(p);let x=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:j}=v;if(b&&j){const E=tt();wa(E,s.layoutBox,b.layoutBox);const N=tt();wa(N,i,j.layoutBox),qy(E,N)||(x=!0),v.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=E,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:s,delta:f,layoutDelta:p,hasLayoutChanged:g,hasRelativeTargetChanged:x})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function OC(e){ya&&hs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function FC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _C(e){e.clearSnapshot()}function H0(e){e.clearMeasurements()}function zC(e){e.isLayoutDirty=!1}function VC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function q0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BC(e){e.resolveTargetDelta()}function $C(e){e.calcProjection()}function UC(e){e.resetSkewAndRotation()}function WC(e){e.removeLeadSnapshot()}function Q0(e,t,s){e.translate=He(t.translate,0,s),e.scale=He(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function G0(e,t,s,i){e.min=He(t.min,s.min,i),e.max=He(t.max,s.max,i)}function KC(e,t,s,i){G0(e.x,t.x,s.x,i),G0(e.y,t.y,s.y,i)}function HC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qC={duration:.45,ease:[.4,0,.1,1]},Y0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),X0=Y0("applewebkit/")&&!Y0("chrome/")?Math.round:Vt;function J0(e){e.min=X0(e.min),e.max=X0(e.max)}function QC(e){J0(e.x),J0(e.y)}function Yy(e,t,s){return e==="position"||e==="preserve-aspect"&&!XS(U0(t),U0(s),.2)}function GC(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const YC=Gy({attachResizeListener:(e,t)=>Ta(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vu={current:void 0},Xy=Gy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vu.current){const e=new YC({});e.mount(window),e.setOptions({layoutScroll:!0}),Vu.current=e}return Vu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),XC={pan:{Feature:fC},drag:{Feature:pC,ProjectionNode:Xy,MeasureLayout:Uy}};function Z0(e,t,s){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,u=i[o];u&&Be.postRender(()=>u(t,$a(t)))}class JC extends qr{mount(){const{current:t}=this.node;t&&(this.unmount=X2(t,s=>(Z0(this.node,s,"Start"),i=>Z0(this.node,i,"End"))))}unmount(){}}class ZC extends qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ba(Ta(this.node.current,"focus",()=>this.onFocus()),Ta(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function eg(e,t,s){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),u=i[o];u&&Be.postRender(()=>u(t,$a(t)))}class e4 extends qr{mount(){const{current:t}=this.node;t&&(this.unmount=tj(t,s=>(eg(this.node,s,"Start"),(i,{success:o})=>eg(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cd=new WeakMap,Bu=new WeakMap,t4=e=>{const t=Cd.get(e.target);t&&t(e)},n4=e=>{e.forEach(t4)};function r4({root:e,...t}){const s=e||document;Bu.has(s)||Bu.set(s,{});const i=Bu.get(s),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(n4,{root:e,...t})),i[o]}function s4(e,t,s){const i=r4(t);return Cd.set(e,s),i.observe(e),()=>{Cd.delete(e),i.unobserve(e)}}const i4={some:0,all:1};class a4 extends qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:o="some",once:u}=t,d={root:s?s.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:i4[o]},p=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:v}=this.node.getProps(),b=g?x:v;b&&b(f)};return s4(this.node.current,d,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(o4(t,s))&&this.startObserver()}unmount(){}}function o4({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const l4={inView:{Feature:a4},tap:{Feature:e4},focus:{Feature:ZC},hover:{Feature:JC}},c4={layout:{ProjectionNode:Xy,MeasureLayout:Uy}},Nd={current:null},Jy={current:!1};function u4(){if(Jy.current=!0,!!Yd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Nd.current=e.matches;e.addListener(t),t()}else Nd.current=!1}const d4=[...jy,bt,Wr],p4=e=>d4.find(wy(e)),tg=new WeakMap;function f4(e,t,s){for(const i in t){const o=t[i],u=s[i];if(kt(o))e.addValue(i,o);else if(kt(u))e.addValue(i,Ea(o,{owner:e}));else if(u!==o)if(e.hasValue(i)){const d=e.getValue(i);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=e.getStaticValue(i);e.addValue(i,Ea(d!==void 0?d:o,{owner:e}))}}for(const i in s)t[i]===void 0&&e.removeValue(i);return t}const ng=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class h4{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:u,visualState:d},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const j=Mn.now();this.renderScheduledAt<j&&(this.renderScheduledAt=j,Be.render(this.render,!1,!0))};const{latestValues:f,renderState:g,onUpdate:x}=d;this.onUpdate=x,this.latestValues=f,this.baseTarget={...f},this.initialValues=s.initial?{...f}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=Al(s),this.isVariantNode=Dx(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(s,{},this);for(const j in b){const E=b[j];f[j]!==void 0&&kt(E)&&E.set(f[j],!1)}}mount(t){this.current=t,tg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),Jy.current||u4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tg.delete(this.current),this.projection&&this.projection.unmount(),Ur(this.notifyUpdate),Ur(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Rs.has(t),o=s.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&Be.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),u=s.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),u(),d&&d(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ki){const s=ki[t];if(!s)continue;const{isEnabled:i,Feature:o}=s;if(!this.features[t]&&o&&i(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<ng.length;i++){const o=ng[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,d=t[u];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=f4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=Ea(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){var i;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(by(o)||dy(o))?o=parseFloat(o):!p4(o)&&Wr.test(s)&&(o=xy(t,s)),this.setBaseTarget(t,kt(o)?o.get():o)),kt(o)?o.get():o}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const d=rp(this.props,i,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);d&&(o=d[t])}if(i&&o!==void 0)return o;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!kt(u)?u:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new xp),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Zy extends h4{constructor(){super(...arguments),this.KeyframeResolver=Sy}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function m4(e){return window.getComputedStyle(e)}class g4 extends Zy{constructor(){super(...arguments),this.type="html",this.renderInstance=Vx}readValueFromInstance(t,s){if(Rs.has(s)){const i=wp(s);return i&&i.default||0}else{const i=m4(t),o=(Fx(s)?i.getPropertyValue(s):i[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return By(t,s)}build(t,s,i){ap(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return up(t,s,i)}}class x4 extends Zy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Rs.has(s)){const i=wp(s);return i&&i.default||0}return s=Bx.has(s)?s:ep(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return Wx(t,s,i)}build(t,s,i){op(t,s,this.isSVGTag,i.transformTemplate)}renderInstance(t,s,i,o){$x(t,s,i,o)}mount(t){this.isSVGTag=cp(t.tagName),super.mount(t)}}const y4=(e,t)=>np(e)?new x4(t):new g4(t,{allowProjection:e!==y.Fragment}),v4=W2({...$S,...l4,...XC,...c4},y4),Pe=i2(v4);function b4({icon:e,title:t,description:s,action:i}){return l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e&&l.jsx("div",{className:"mb-4 text-gray-400",children:e}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t}),s&&l.jsx("p",{className:"mt-1 text-sm text-gray-500 max-w-sm",children:s}),i&&l.jsx("button",{type:"button",onClick:i.onClick,className:"mt-4 px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:i.label})]})}function k4({isOpen:e,onClose:t,title:s,children:i}){const o=y.useRef(null),u=y.useRef(null);return y.useEffect(()=>{var d;if(e){u.current=document.activeElement,(d=o.current)==null||d.focus();const p=f=>{f.key==="Escape"&&t()};return document.addEventListener("keydown",p),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",p),document.body.style.overflow="",u.current instanceof HTMLElement&&u.current.focus()}}},[e,t]),e?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:t,"aria-hidden":"true"}),l.jsxs("div",{ref:o,tabIndex:-1,className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[85vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[l.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:s}),l.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:i})]})]}):null}const w4={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-8 w-8"};function nt({size:e="md",className:t=""}){return l.jsxs("svg",{className:`animate-spin ${w4[e]} text-current ${t}`,fill:"none",viewBox:"0 0 24 24",role:"status","aria-label":"Loading",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}const j4={success:{container:"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800",icon:"text-green-500 dark:text-green-400",title:"text-green-800 dark:text-green-200",message:"text-green-700 dark:text-green-300"},error:{container:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800",icon:"text-red-500 dark:text-red-400",title:"text-red-800 dark:text-red-200",message:"text-red-700 dark:text-red-300"},info:{container:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800",icon:"text-blue-500 dark:text-blue-400",title:"text-blue-800 dark:text-blue-200",message:"text-blue-700 dark:text-blue-300"}};function S4({toast:e,onDismiss:t}){const s=j4[e.type],i=y.useRef(t);return i.current=t,y.useEffect(()=>{const o=setTimeout(()=>{i.current(e.id)},5e3);return()=>clearTimeout(o)},[e.id]),l.jsxs(Pe.div,{layout:!0,initial:{opacity:0,x:100,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.9},transition:{duration:.2,ease:[.25,.1,.25,1]},className:`flex items-start gap-3 p-4 border rounded-lg shadow-lg ${s.container}`,role:"alert","aria-live":"polite",children:[l.jsxs("div",{className:`flex-shrink-0 ${s.icon}`,children:[e.type==="success"&&l.jsx(C4,{}),e.type==="error"&&l.jsx(N4,{}),e.type==="info"&&l.jsx(E4,{})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm font-medium ${s.title}`,children:e.title}),e.message&&l.jsx("p",{className:`mt-1 text-sm ${s.message}`,children:e.message})]}),l.jsx("button",{type:"button",onClick:()=>t(e.id),className:"flex-shrink-0 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Dismiss",children:l.jsx(P4,{})})]})}function C4(){return l.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function N4(){return l.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function E4(){return l.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function P4(){return l.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function T4({toasts:e,onDismiss:t}){return l.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:l.jsx(Nt,{mode:"popLayout",children:e.map(s=>l.jsx(S4,{toast:s,onDismiss:t},s.id))})})}const ev=y.createContext(null);function R4({children:e}){const[t,s]=y.useState([]),i=y.useCallback(u=>{const d=`${Date.now()}-${Math.random().toString(36).slice(2,9)}`;s(p=>[...p,{...u,id:d}])},[]),o=y.useCallback(u=>{s(d=>d.filter(p=>p.id!==u))},[]);return l.jsxs(ev.Provider,{value:{addToast:i,removeToast:o},children:[e,l.jsx(T4,{toasts:t,onDismiss:o})]})}function On(){const e=y.useContext(ev);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const D4="/api/v1/config",L4=3e4;async function nn(e,t,s=L4){const i=new AbortController,o=setTimeout(()=>i.abort(),s);try{const u=await fetch(`${D4}${e}`,{headers:{"Content-Type":"application/json",...t==null?void 0:t.headers},...t,signal:i.signal}),d=await u.json();if(!u.ok)throw new Error(d.error||"Request failed");return d}catch(u){throw u instanceof Error&&u.name==="AbortError"?new Error("Request timed out"):u}finally{clearTimeout(o)}}async function A4(){return nn("/current")}async function I4(){return(await nn("/databases")).databases}async function M4(e){return(await nn("/databases/switch",{method:"POST",body:JSON.stringify({dbPath:e})})).config}async function O4(e,t,s){return(await nn("/databases/create",{method:"POST",body:JSON.stringify({dbPath:e,name:t,modelName:s})})).config}async function F4(e){return(await nn("/databases/scan",{method:"POST",body:JSON.stringify({scanPath:e})})).databases}async function _4(){return nn("/allowed-roots")}async function z4(e){return nn("/allowed-roots",{method:"POST",body:JSON.stringify({path:e})})}async function V4(e){return nn("/allowed-roots",{method:"DELETE",body:JSON.stringify({path:e})})}async function B4(e,t=!1){const s=new URLSearchParams({path:e});return t&&s.set("showHidden","true"),nn(`/browse?${s.toString()}`)}async function $4(){return(await nn("/models")).models}async function U4(){return nn("/export")}async function W4(e){return nn("/import",{method:"POST",body:JSON.stringify({config:e})})}function tv(e=0){const{data:t,isLoading:s,error:i,refetch:o,isFetching:u}=Kr({queryKey:["config","current"],queryFn:A4,refetchInterval:e>0?e:!1});return{config:t,isLoading:s,error:i,refetch:o,isFetching:u}}function K4(){const{data:e,isLoading:t,error:s,refetch:i}=Kr({queryKey:["config","databases"],queryFn:I4});return{databases:e||[],isLoading:t,error:s,refetch:i}}function H4(){const e=ir(),{addToast:t}=On(),s=en({mutationFn:i=>M4(i),onSuccess:(i,o)=>{e.invalidateQueries({queryKey:["config"]}),e.invalidateQueries({queryKey:["files"]}),e.invalidateQueries({queryKey:["status"]}),t({type:"success",title:"Database switched",message:`Now using ${o.split("/").pop()||o}`})},onError:i=>{t({type:"error",title:"Failed to switch database",message:i.message})}});return{switchDatabase:s.mutate,switchDatabaseAsync:s.mutateAsync,isLoading:s.isPending,error:s.error,isSuccess:s.isSuccess}}function q4(){const e=ir(),{addToast:t}=On(),s=en({mutationFn:({dbPath:i,name:o,modelName:u})=>O4(i,o,u),onSuccess:(i,o)=>{e.invalidateQueries({queryKey:["config"]}),e.invalidateQueries({queryKey:["files"]}),e.invalidateQueries({queryKey:["status"]}),t({type:"success",title:"Database created",message:`Created and switched to ${o.dbPath.split("/").pop()||o.dbPath}`})},onError:i=>{t({type:"error",title:"Failed to create database",message:i.message})}});return{createDatabase:s.mutate,createDatabaseAsync:s.mutateAsync,isLoading:s.isPending,error:s.error,isSuccess:s.isSuccess}}function Q4(){const{addToast:e}=On(),t=en({mutationFn:s=>F4(s),onError:s=>{e({type:"error",title:"Scan failed",message:s.message})}});return{scan:t.mutate,scanAsync:t.mutateAsync,isLoading:t.isPending,error:t.error,data:t.data,reset:t.reset}}function G4(){const{data:e,isLoading:t,error:s,refetch:i}=Kr({queryKey:["config","allowed-roots"],queryFn:_4});return{data:e,isLoading:t,error:s,refetch:i}}function Y4(){const e=ir(),{addToast:t}=On(),s=en({mutationFn:i=>z4(i),onSuccess:()=>{e.invalidateQueries({queryKey:["config","allowed-roots"]}),t({type:"success",title:"Root added",message:"Allowed root added successfully"})},onError:i=>{t({type:"error",title:"Failed to add root",message:i.message})}});return{addRoot:s.mutate,addRootAsync:s.mutateAsync,isLoading:s.isPending,error:s.error}}function X4(){const e=ir(),{addToast:t}=On(),s=en({mutationFn:i=>V4(i),onSuccess:()=>{e.invalidateQueries({queryKey:["config","allowed-roots"]}),t({type:"success",title:"Root removed",message:"Allowed root removed successfully"})},onError:i=>{t({type:"error",title:"Failed to remove root",message:i.message})}});return{removeRoot:s.mutate,removeRootAsync:s.mutateAsync,isLoading:s.isPending,error:s.error}}function J4(){const{addToast:e}=On(),t=en({mutationFn:({path:s,showHidden:i=!1})=>B4(s,i),onError:s=>{e({type:"error",title:"Failed to browse directory",message:s.message})}});return{browse:(s,i=!1)=>t.mutate({path:s,showHidden:i}),browseAsync:(s,i=!1)=>t.mutateAsync({path:s,showHidden:i}),isLoading:t.isPending,error:t.error,data:t.data,reset:t.reset}}function Z4(){const{data:e,isLoading:t,error:s}=Kr({queryKey:["config","models"],queryFn:$4});return{models:e||[],isLoading:t,error:s}}function eN(){const{addToast:e}=On(),t=en({mutationFn:U4,onSuccess:()=>{e({type:"success",title:"Configuration exported",message:"Download should begin automatically"})},onError:s=>{e({type:"error",title:"Failed to export configuration",message:s.message})}});return{exportConfig:t.mutate,exportConfigAsync:t.mutateAsync,isLoading:t.isPending,error:t.error,data:t.data}}function tN(){const e=ir(),{addToast:t}=On(),s=en({mutationFn:i=>W4(i),onSuccess:()=>{e.invalidateQueries({queryKey:["config","allowed-roots"]}),t({type:"success",title:"Configuration imported",message:"Settings have been restored"})},onError:i=>{t({type:"error",title:"Failed to import configuration",message:i.message})}});return{importConfig:s.mutate,importConfigAsync:s.mutateAsync,isLoading:s.isPending,error:s.error}}const nv="/api/v1",nN=3e4,rN=3e5;async function Ds(e,t,s=nN){const i=new AbortController,o=setTimeout(()=>i.abort(),s);try{const u=await fetch(`${nv}${e}`,{headers:{"Content-Type":"application/json",...t==null?void 0:t.headers},...t,signal:i.signal}),d=await u.json();if(!u.ok)throw new Error(d.error||"Request failed");return d}catch(u){throw u instanceof Error&&u.name==="AbortError"?new Error("Request timed out"):u}finally{clearTimeout(o)}}async function sN(e,t){return(await Ds("/search",{method:"POST",body:JSON.stringify({query:e,limit:t})})).results}async function iN(e){const t=new AbortController,s=setTimeout(()=>t.abort(),rN);try{const i=new FormData;i.append("file",e);const o=await fetch(`${nv}/files/upload`,{method:"POST",body:i,signal:t.signal}),u=await o.json();if(!o.ok)throw new Error(u.error||"Upload failed");return u}catch(i){throw i instanceof Error&&i.name==="AbortError"?new Error("Upload timed out"):i}finally{clearTimeout(s)}}async function aN(e,t,s){return Ds("/data",{method:"POST",body:JSON.stringify({content:e,metadata:{source:t,format:s}})})}async function oN(){return(await Ds("/files")).files}async function lN(e){await Ds("/files",{method:"DELETE",body:JSON.stringify(e)})}async function cN(){return Ds("/status")}async function uN(e){const t=encodeURIComponent(e);return(await Ds(`/documents/chunks?filePath=${t}`)).chunks}async function dN(e,t){const s=await Ds("/chunks/batch-related",{method:"POST",body:JSON.stringify({chunks:e,limit:t})}),i={};for(const[o,u]of Object.entries(s.results)){const[d]=o.split(":");i[o]=u.map(p=>({...p,connectionReason:pN(p.score,p.filePath===d)}))}return i}function pN(e,t){return t?"Same document":e<.3?"Very similar":e<.5?"Related topic":"Loosely related"}function fN(){const e=ir(),{addToast:t}=On(),{data:s=[],isLoading:i,error:o}=Kr({queryKey:["files"],queryFn:oN}),u=en({mutationFn:lN,onSuccess:()=>{e.invalidateQueries({queryKey:["files"]}),t({type:"success",title:"File deleted",message:"The file has been removed from the knowledge base."})},onError:d=>{t({type:"error",title:"Failed to delete file",message:d.message})}});return{files:s,isLoading:i,error:o,deleteFile:u.mutate,isDeleting:u.isPending}}function hN(){const[e,t]=y.useState([]),[s,i]=y.useState(!1),o=en({mutationFn:({query:p,limit:f})=>sN(p,f),onSuccess:p=>{t(p),i(!0)}});return{results:e,search:(p,f)=>{o.mutate({query:p,limit:f})},clear:()=>{t([]),i(!1)},isLoading:o.isPending,error:o.error,hasSearched:s}}function mN(){const{data:e,isLoading:t,error:s,refetch:i}=Kr({queryKey:["status"],queryFn:cN,refetchInterval:3e4});return{status:e,isLoading:t,error:s,refetch:i}}function gN(){const e=ir(),t=en({mutationFn:iN,onSuccess:()=>{e.invalidateQueries({queryKey:["files"]})}}),s=en({mutationFn:({content:i,source:o,format:u})=>aN(i,o,u),onSuccess:()=>{e.invalidateQueries({queryKey:["files"]})}});return{uploadFile:t.mutate,ingestData:s.mutate,isUploading:t.isPending,isIngesting:s.isPending,uploadError:t.error,ingestError:s.error,uploadResult:t.data,ingestResult:s.data,reset:()=>{t.reset(),s.reset()}}}function rv(e){const{data:t=[],isLoading:s,error:i,refetch:o}=Kr({queryKey:["documentChunks",e],queryFn:()=>e?uN(e):Promise.resolve([]),enabled:!!e,staleTime:3e5});return{chunks:t,isLoading:s,error:i,refetch:o}}function xN(e="100px"){const[t,s]=y.useState(new Set),[i,o]=y.useState(null),u=y.useRef(null),d=y.useRef(new Map);y.useEffect(()=>{u.current=new IntersectionObserver(f=>{s(g=>{const x=new Set(g);for(const v of f){const b=Number(v.target.getAttribute("data-chunk-index"));Number.isNaN(b)||(v.isIntersecting?x.add(b):x.delete(b))}return x})},{rootMargin:e,threshold:[0,.25,.5,.75,1]});for(const[,f]of d.current)u.current.observe(f);return()=>{var f;(f=u.current)==null||f.disconnect()}},[e]),y.useEffect(()=>{if(t.size===0)o(null);else{const f=Array.from(t).sort((g,x)=>g-x);o(f[0]??null)}},[t]);const p=y.useCallback((f,g)=>{const x=u.current,v=d.current.get(f);v&&x&&x.unobserve(v),g?(d.current.set(f,g),g.setAttribute("data-chunk-index",String(f)),x==null||x.observe(g)):d.current.delete(f)},[]);return{visibleChunkIndices:t,registerChunk:p,activeChunkIndex:i}}function yN(e,t,s=300,i=5){const[o,u]=y.useState([]);y.useEffect(()=>{if(!e||t.size===0){u([]);return}const g=Array.from(t).map(v=>({filePath:e,chunkIndex:v})),x=setTimeout(()=>{u(g)},s);return()=>clearTimeout(x)},[e,t,s]);const{data:d={},isLoading:p,error:f}=Kr({queryKey:["batchRelatedChunks",o,i],queryFn:()=>o.length>0?dN(o,i):{},enabled:o.length>0,staleTime:300*1e3});return{relatedChunks:d,isLoading:p,error:f}}function il(){return crypto.randomUUID()}async function rg(e){const s=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(i)).map(u=>u.toString(16).padStart(2,"0")).join("")}function ps(e,t){return e.filePath===t.filePath&&e.chunkIndex===t.chunkIndex}const vN={version:1,vaultId:"",pins:[],trails:[],bookmarks:[]},sv=y.createContext(null);function bN({children:e,vaultId:t="default"}){const s=`rag-vault-links-v1-${t}`,[i,o]=bn(s,{...vN,vaultId:t}),u=y.useCallback((re,H,F,W,Y)=>{const z={id:il(),createdAt:new Date().toISOString(),sourceKey:re,sourceText:F.slice(0,200),sourceFingerprint:"",targetKey:H,targetText:W.slice(0,200),targetFingerprint:"",label:Y==null?void 0:Y.label,autoGenerated:(Y==null?void 0:Y.autoGenerated)??!1,originalScore:Y==null?void 0:Y.originalScore};return Promise.all([rg(F),rg(W)]).then(([K,J])=>{o(ne=>({...ne,pins:ne.pins.map(O=>O.id===z.id?{...O,sourceFingerprint:K,targetFingerprint:J}:O)}))}),o(K=>({...K,pins:[...K.pins,z]})),z},[o]),d=y.useCallback(re=>{o(H=>({...H,pins:H.pins.filter(F=>F.id!==re)}))},[o]),p=y.useCallback((re,H)=>{o(F=>({...F,pins:F.pins.map(W=>W.id===re?{...W,label:H}:W)}))},[o]),f=y.useCallback(re=>i.pins.filter(H=>ps(H.sourceKey,re)),[i.pins]),g=y.useCallback(re=>i.pins.filter(H=>ps(H.targetKey,re)),[i.pins]),x=y.useCallback((re,H)=>i.pins.some(F=>ps(F.sourceKey,re)&&ps(F.targetKey,H)),[i.pins]),[v,b]=bn(`rag-vault-current-trail-${t}`,null),j=y.useCallback(()=>{const re={id:il(),name:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),steps:[]};b(re)},[b]),E=y.useCallback((re,H)=>{b(F=>{if(!F)return{id:il(),name:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),steps:[{chunkKey:re,visitedAt:new Date().toISOString(),connectionReason:H}]};const W=F.steps[F.steps.length-1];return W&&ps(W.chunkKey,re)?F:{...F,updatedAt:new Date().toISOString(),steps:[...F.steps,{chunkKey:re,visitedAt:new Date().toISOString(),connectionReason:H}]}})},[b]),N=y.useCallback(re=>{if(!v)throw new Error("No current trail to save");const H={...v,name:re,updatedAt:new Date().toISOString()};return o(F=>({...F,trails:[...F.trails,H]})),b(null),H},[v,o,b]),S=y.useCallback(re=>{const H=i.trails.find(F=>F.id===re);return H&&b({...H}),H||null},[i.trails,b]),C=y.useCallback(re=>{o(H=>({...H,trails:H.trails.filter(F=>F.id!==re)}))},[o]),R=y.useCallback(()=>{b(null)},[b]),k=y.useCallback((re,H)=>{const F={id:il(),chunkKey:re,note:H,createdAt:new Date().toISOString()};return o(W=>({...W,bookmarks:[...W.bookmarks||[],F]})),F},[o]),P=y.useCallback(re=>{o(H=>({...H,bookmarks:(H.bookmarks||[]).filter(F=>F.id!==re)}))},[o]),T=y.useCallback((re,H)=>{o(F=>({...F,bookmarks:(F.bookmarks||[]).map(W=>W.id===re?{...W,note:H}:W)}))},[o]),I=y.useCallback(re=>(i.bookmarks||[]).filter(H=>H.chunkKey.filePath===re).sort((H,F)=>H.chunkKey.chunkIndex-F.chunkKey.chunkIndex),[i.bookmarks]),U=y.useCallback(re=>(i.bookmarks||[]).some(H=>ps(H.chunkKey,re)),[i.bookmarks]),B=y.useCallback(re=>{const H=(i.bookmarks||[]).find(F=>ps(F.chunkKey,re));return H?(P(H.id),!1):(k(re),!0)},[i.bookmarks,k,P]),X=y.useCallback(()=>JSON.stringify(i,null,2),[i]),ee=y.useCallback(re=>{const H=[];let F=0;try{const W=JSON.parse(re);if(W.version!==1)return H.push(`Unsupported version: ${W.version}`),{imported:F,errors:H};if(Array.isArray(W.pins))for(const Y of W.pins)Y.id&&Y.sourceKey&&Y.targetKey&&!i.pins.some(z=>z.id===Y.id)&&(o(z=>({...z,pins:[...z.pins,Y]})),F++);if(Array.isArray(W.trails))for(const Y of W.trails)Y.id&&Y.name&&Array.isArray(Y.steps)&&!i.trails.some(z=>z.id===Y.id)&&(o(z=>({...z,trails:[...z.trails,Y]})),F++);if(Array.isArray(W.bookmarks))for(const Y of W.bookmarks)Y.id&&Y.chunkKey&&!(i.bookmarks||[]).some(z=>z.id===Y.id)&&(o(z=>({...z,bookmarks:[...z.bookmarks||[],Y]})),F++)}catch(W){H.push(`Invalid JSON: ${W.message}`)}return{imported:F,errors:H}},[i,o]),ae=y.useMemo(()=>({pins:i.pins,createPin:u,deletePin:d,updatePinLabel:p,getPinsFromChunk:f,getBacklinks:g,isPinned:x,trails:i.trails,currentTrail:v,startNewTrail:j,addToTrail:E,saveTrail:N,loadTrail:S,deleteTrail:C,clearCurrentTrail:R,bookmarks:i.bookmarks||[],createBookmark:k,deleteBookmark:P,updateBookmarkNote:T,getBookmarksForDocument:I,isBookmarked:U,toggleBookmark:B,exportLinks:X,importLinks:ee}),[i.pins,i.trails,i.bookmarks,u,d,p,f,g,x,v,j,E,N,S,C,R,k,P,T,I,U,B,X,ee]);return l.jsx(sv.Provider,{value:ae,children:e})}function Ol(){const e=y.useContext(sv);if(!e)throw new Error("useLinks must be used within a LinksProvider");return e}function kN(){const e=Ol(),t=y.useMemo(()=>{const i=new Set;for(const o of e.pins)i.add(`${o.targetKey.filePath}:${o.targetKey.chunkIndex}`);return i},[e.pins]),s=y.useCallback((i,o,u,d,p)=>{const f=e.pins.find(g=>g.sourceKey.filePath===i.filePath&&g.sourceKey.chunkIndex===i.chunkIndex&&g.targetKey.filePath===o.filePath&&g.targetKey.chunkIndex===o.chunkIndex);f?e.deletePin(f.id):e.createPin(i,o,u,d,{autoGenerated:!1,originalScore:p})},[e]);return{pins:e.pins,pinnedChunkKeys:t,createPin:e.createPin,deletePin:e.deletePin,updatePinLabel:e.updatePinLabel,isPinned:e.isPinned,togglePin:s,getPinsFromChunk:e.getPinsFromChunk}}function wN(){var s;const e=Ol(),t=y.useCallback((i,o)=>{e.addToTrail(i,o)},[e]);return{currentTrail:e.currentTrail,savedTrails:e.trails,isRecording:e.currentTrail!==null,stepCount:((s=e.currentTrail)==null?void 0:s.steps.length)??0,startNewTrail:e.startNewTrail,addStep:t,saveTrail:e.saveTrail,loadTrail:e.loadTrail,deleteTrail:e.deleteTrail,clearCurrentTrail:e.clearCurrentTrail}}function jN({totalChunks:e,activeChunkIndex:t,onNavigateToChunk:s,onToggleSplit:i,onPinTopSuggestion:o,onOpenSearch:u,onOpenHelp:d,onCloseOverlay:p,isOverlayOpen:f,enabled:g=!0,isSearchOpen:x=!1,onNextSearchMatch:v,onPreviousSearchMatch:b,onToggleBookmark:j,onOpenTagPicker:E,onToggleAnnotationPanel:N,onToggleReadingMode:S,onOpenComparison:C,onResetGraphLayout:R,onOpenGraphExport:k,onTogglePathfinding:P,onToggleClustering:T,isGraphOpen:I=!1,onToggleInferredLinks:U,onToggleCrossDocPanel:B,onToggleStatsPanel:X,onToggleDiscoveryMode:ee,isDiscoveryMode:ae=!1,onDiscoverySelectSuggestion:re,onDiscoveryGoBack:H}){const F=y.useRef(null),W=y.useCallback(()=>{const z=document.activeElement;if(z){const J=z.tagName.toLowerCase();if(J==="input"||J==="textarea"||z.getAttribute("contenteditable")==="true")return!0}const K=window.getSelection();return!!(K&&K.toString().length>0)},[]),Y=y.useCallback(z=>{if(g&&!W()){if(z.key==="Escape"){f&&(z.preventDefault(),p());return}if(x){switch(z.key){case"n":z.preventDefault(),v==null||v();return;case"N":z.preventDefault(),b==null||b();return}return}if(!f)switch(z.key){case"j":{z.preventDefault();const K=t===null?0:Math.min(t+1,e-1);s(K);break}case"k":{z.preventDefault();const K=t===null?0:Math.max(t-1,0);s(K);break}case" ":{z.preventDefault(),i();break}case"p":{z.preventDefault(),o();break}case"/":{z.preventDefault(),u();break}case"?":{z.preventDefault(),d();break}case"b":{z.preventDefault(),j==null||j();break}case"t":{z.preventDefault(),E==null||E();break}case"a":{z.preventDefault(),N==null||N();break}case"m":{z.preventDefault(),S==null||S();break}case"c":{z.preventDefault(),C==null||C();break}case"r":{I&&(z.preventDefault(),R==null||R());break}case"e":{I&&(z.preventDefault(),k==null||k());break}case"f":{I&&(z.preventDefault(),P==null||P());break}case"g":{I&&(z.preventDefault(),T==null||T());break}case"i":{z.preventDefault(),U==null||U();break}case"x":{z.preventDefault(),B==null||B();break}case"s":{z.preventDefault(),X==null||X();break}case"d":{z.preventDefault(),ee==null||ee();break}case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{if(ae){z.preventDefault();const K=parseInt(z.key)-1;re==null||re(K)}break}case"Backspace":{ae&&(z.preventDefault(),H==null||H());break}}}},[g,W,f,x,I,ae,t,e,s,i,o,u,d,p,v,b,j,E,N,S,C,R,k,P,T,U,B,X,ee,re,H]);return y.useEffect(()=>{if(g)return document.addEventListener("keydown",Y),()=>{document.removeEventListener("keydown",Y)}},[g,Y]),{containerRef:F}}async function SN(e){const s=new TextEncoder().encode(e.slice(0,500)),i=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(i)).slice(0,8).map(u=>u.toString(16).padStart(2,"0")).join("")}function CN({filePath:e,chunks:t,activeChunkIndex:s,vaultId:i="default",debounceMs:o=1e3}){const u=`rag-vault-reading-progress-${i}`,[d,p]=bn(u,{}),f=y.useRef(null),g=y.useRef(null),x=y.useRef(!1);y.useEffect(()=>{if(t.length>0){const C=t[0];C&&SN(C.text).then(R=>{g.current=R})}},[t]);const v=y.useCallback(C=>`${e}:${C}`,[e]),b=Object.entries(d).find(([C])=>C.startsWith(`${e}:`)),j=!!b,E=b?b[1].lastChunkIndex:null,N=y.useCallback((C,R)=>{g.current&&(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{const k=g.current;if(!k)return;const P=v(k);p(T=>({...T,[P]:{lastChunkIndex:C,scrollOffsetWithinChunk:R,lastVisited:new Date().toISOString(),fileFingerprint:k}}))},o))},[v,p,o]);y.useEffect(()=>{if(s!==null&&x.current){const C=document.getElementById(`chunk-${s}`),R=C?C.getBoundingClientRect().top:0;N(s,R)}},[s,N]);const S=y.useCallback(()=>{if(!g.current||t.length===0)return null;const C=g.current,R=v(C),k=d[R];return k?k.fileFingerprint!==C?(x.current=!0,{chunkIndex:0,scrollOffset:0}):(x.current=!0,{chunkIndex:Math.min(k.lastChunkIndex,t.length-1),scrollOffset:k.scrollOffsetWithinChunk}):Object.entries(d).find(([T])=>T.startsWith(`${e}:`))?(x.current=!0,{chunkIndex:0,scrollOffset:0}):(x.current=!0,null)},[e,t,d,v]);return y.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]),{restorePosition:S,savePosition:N,hasSavedPosition:j,savedChunkIndex:E}}const NN=/^(#{1,6})\s+(.+)$/m,EN=/^([A-Z][A-Z0-9\s]{4,79})$/m,PN=/^(\d+(?:\.\d+)*)\s+(.+)$/m;function TN(e){const t=e.match(NN);if(t){const[,o,u]=t;if(o&&u)return{text:u.trim(),level:o.length,type:"markdown"}}const s=e.match(PN);if(s){const[,o,u]=s;if(o&&u){const d=o.split(".").length;return{text:`${o} ${u.trim()}`,level:d,type:"numbered"}}}const i=e.trim();if(i.length>=5&&i.length<=80){const o=i.match(EN);if(o&&o[1]){const u=o[1].match(/[A-Z]/g);if(u&&u.length>=3)return{text:o[1].trim(),level:1,type:"allcaps"}}}return null}function RN(e,t){const s=[],i=e.split(`
`);for(const o of i){const u=TN(o);u&&s.push({...u,chunkIndex:t,text:u.text.length>80?`${u.text.slice(0,77)}...`:u.text})}return s}function DN(e){const t=Math.max(1,Math.floor(e.length/10));return e.filter((s,i)=>i%t===0).map((s,i)=>({id:`fallback-${s.chunkIndex}`,text:`Section ${i+1}`,level:1,chunkIndex:s.chunkIndex,type:"fallback"}))}function LN({chunks:e,minHeadings:t=2}){return y.useMemo(()=>{if(e.length===0)return{entries:[],hasHeadings:!1,isFallback:!1};const i=[];for(const d of e){const p=RN(d.text,d.chunkIndex);i.push(...p)}const o=[];for(const d of i){const p=o[o.length-1];(!p||p.text!==d.text||p.chunkIndex!==d.chunkIndex)&&o.push(d)}return o.length<t?{entries:DN(e),hasHeadings:!1,isFallback:!0}:{entries:o.map((d,p)=>({...d,id:`toc-${p}-${d.chunkIndex}`})),hasHeadings:!0,isFallback:!1}},[e,t])}function sg(){return crypto.randomUUID()}function AN(e,t){return e.filePath===t.filePath&&e.chunkIndex===t.chunkIndex}const IN={version:1,vaultId:"",highlights:[],annotations:[]},iv=y.createContext(null);function MN({children:e,vaultId:t="default"}){const s=`rag-vault-annotations-v1-${t}`,[i,o]=bn(s,{...IN,vaultId:t}),u=y.useCallback((S,C,R,k,P,T)=>{const I={id:sg(),chunkKey:S,range:C,text:R,contextBefore:k.slice(-30),contextAfter:P.slice(0,30),color:T,createdAt:new Date().toISOString()};return o(U=>({...U,highlights:[...U.highlights,I]})),I},[o]),d=y.useCallback(S=>{o(C=>({...C,highlights:C.highlights.filter(R=>R.id!==S),annotations:C.annotations.filter(R=>R.highlightId!==S)}))},[o]),p=y.useCallback((S,C)=>{o(R=>({...R,highlights:R.highlights.map(k=>k.id===S?{...k,color:C}:k)}))},[o]),f=y.useCallback(S=>i.highlights.filter(C=>AN(C.chunkKey,S)).sort((C,R)=>C.range.startOffset-R.range.startOffset),[i.highlights]),g=y.useCallback((S,C)=>{const R={id:sg(),highlightId:S,note:C,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return o(k=>({...k,annotations:[...k.annotations,R]})),R},[o]),x=y.useCallback((S,C)=>{o(R=>({...R,annotations:R.annotations.map(k=>k.id===S?{...k,note:C,updatedAt:new Date().toISOString()}:k)}))},[o]),v=y.useCallback(S=>{o(C=>({...C,annotations:C.annotations.filter(R=>R.id!==S)}))},[o]),b=y.useCallback(S=>i.annotations.find(C=>C.highlightId===S),[i.annotations]),j=y.useCallback(()=>JSON.stringify(i,null,2),[i]),E=y.useCallback(S=>{const C=[];let R=0;try{const k=JSON.parse(S);if(k.version!==1)return C.push(`Unsupported version: ${k.version}`),{imported:R,errors:C};if(Array.isArray(k.highlights))for(const P of k.highlights)P.id&&P.chunkKey&&P.range&&!i.highlights.some(T=>T.id===P.id)&&(o(T=>({...T,highlights:[...T.highlights,P]})),R++);if(Array.isArray(k.annotations))for(const P of k.annotations)P.id&&P.highlightId&&!i.annotations.some(T=>T.id===P.id)&&(o(T=>({...T,annotations:[...T.annotations,P]})),R++)}catch(k){C.push(`Invalid JSON: ${k.message}`)}return{imported:R,errors:C}},[i,o]),N=y.useMemo(()=>({highlights:i.highlights,createHighlight:u,deleteHighlight:d,updateHighlightColor:p,getHighlightsForChunk:f,annotations:i.annotations,createAnnotation:g,updateAnnotation:x,deleteAnnotation:v,getAnnotationForHighlight:b,exportAnnotations:j,importAnnotations:E}),[i.highlights,i.annotations,u,d,p,f,g,x,v,b,j,E]);return l.jsx(iv.Provider,{value:N,children:e})}function av(){const e=y.useContext(iv);if(!e)throw new Error("useAnnotations must be used within an AnnotationsProvider");return e}function ON(e){const t=av(),s=y.useMemo(()=>e?t.getHighlightsForChunk(e):[],[t,e]),i=y.useMemo(()=>{const x=new Map;for(const v of s){const b=t.getAnnotationForHighlight(v.id);b&&x.set(v.id,b)}return x},[s,t]),o=y.useCallback((x,v,b,j,E)=>{if(!e)throw new Error("No chunk key provided");return t.createHighlight(e,x,v,b,j,E)},[t,e]),u=y.useCallback(x=>{t.deleteHighlight(x)},[t]),d=y.useCallback((x,v)=>{t.updateHighlightColor(x,v)},[t]),p=y.useCallback((x,v)=>t.createAnnotation(x,v),[t]),f=y.useCallback((x,v)=>{t.updateAnnotation(x,v)},[t]),g=y.useCallback(x=>{t.deleteAnnotation(x)},[t]);return{highlights:s,annotations:i,createHighlight:o,deleteHighlight:u,updateHighlightColor:d,addNote:p,updateNote:f,deleteNote:g,hasHighlights:s.length>0}}function FN(e,t,s){var v,b;const i=e.getRangeAt(0),o=[],u=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);let d;for(;d=u.nextNode();)o.push(d);let p=0,f=!1;for(const j of o){if(j===i.startContainer){p+=i.startOffset,f=!0;break}p+=((v=j.textContent)==null?void 0:v.length)??0}if(!f)return null;let g=0,x=!1;for(const j of o){if(j===i.endContainer){g+=i.endOffset,x=!0;break}g+=((b=j.textContent)==null?void 0:b.length)??0}return!x||p<0||g>s.length||p>=g?null:{startOffset:p,endOffset:g}}function _N({containerRef:e,chunkText:t,enabled:s=!0}){const[i,o]=y.useState(null),u=y.useCallback(()=>{var d;o(null),(d=window.getSelection())==null||d.removeAllRanges()},[]);return y.useEffect(()=>{if(!s)return;const d=()=>{const g=window.getSelection();if(!g||g.isCollapsed||!g.rangeCount){o(null);return}const x=e.current;if(!x){o(null);return}const v=g.getRangeAt(0);if(!x.contains(v.commonAncestorContainer)){o(null);return}const b=g.toString().trim();if(!b){o(null);return}const j=FN(g,x,t);if(!j){o(null);return}const E=v.getBoundingClientRect(),N=t.slice(Math.max(0,j.startOffset-30),j.startOffset),S=t.slice(j.endOffset,j.endOffset+30);o({startOffset:j.startOffset,endOffset:j.endOffset,text:b,contextBefore:N,contextAfter:S,rect:E})};let p;const f=()=>{clearTimeout(p),p=setTimeout(d,100)};return document.addEventListener("selectionchange",f),()=>{document.removeEventListener("selectionchange",f),clearTimeout(p)}},[s,e,t]),{selection:i,clearSelection:u}}function zN({filePath:e,activeChunkIndex:t,relatedChunks:s,pins:i,maxNodes:o=150}){const u=y.useMemo(()=>{const p=new Map,f=[],g=t!==null?`${e}:${t}`:null;g&&p.set(g,{id:g,filePath:e,chunkIndex:t,text:"(current chunk)"});for(const j of s){const E=`${j.filePath}:${j.chunkIndex}`;p.has(E)||p.set(E,{id:E,filePath:j.filePath,chunkIndex:j.chunkIndex,text:j.text.slice(0,100)+(j.text.length>100?"...":"")}),g&&g!==E&&f.push({source:g,target:E,score:j.score,type:"semantic",label:j.connectionReason})}for(const j of i){const E=`${j.sourceKey.filePath}:${j.sourceKey.chunkIndex}`,N=`${j.targetKey.filePath}:${j.targetKey.chunkIndex}`;p.has(E)||p.set(E,{id:E,filePath:j.sourceKey.filePath,chunkIndex:j.sourceKey.chunkIndex,text:j.sourceText.slice(0,100)+(j.sourceText.length>100?"...":"")}),p.has(N)||p.set(N,{id:N,filePath:j.targetKey.filePath,chunkIndex:j.targetKey.chunkIndex,text:j.targetText.slice(0,100)+(j.targetText.length>100?"...":"")});const S=f.findIndex(C=>C.source===E&&C.target===N);if(S>=0){const C=f[S];C&&(f[S]={...C,type:"pinned",label:j.label||C.label})}else f.push({source:E,target:N,score:j.originalScore??.5,type:"pinned",label:j.label})}let x=Array.from(p.values());if(x.length>o){const j=new Set(i.flatMap(E=>[`${E.sourceKey.filePath}:${E.sourceKey.chunkIndex}`,`${E.targetKey.filePath}:${E.targetKey.chunkIndex}`]));x=x.filter(E=>E.id===g||j.has(E.id)).concat(x.filter(E=>E.id!==g&&!j.has(E.id)).slice(0,o-x.length))}const v=new Set(x.map(j=>j.id)),b=f.filter(j=>v.has(j.source)&&v.has(j.target));return{nodes:x,edges:b}},[e,t,s,i,o]),d=t!==null?`${e}:${t}`:null;return{graphData:u,currentNodeId:d}}function VN(e){return e.map(t=>({chunkIndex:t.chunkIndex,text:t.text,lowerText:t.text.toLowerCase()}))}function ig(e,t,s){if(!t||t.length===0)return[];const i=[],o=s?t:t.toLowerCase();for(const u of e){const d=s?u.text:u.lowerText;let p=0;for(;p<d.length;){const f=d.indexOf(o,p);if(f===-1)break;const g=Math.max(0,f-25),x=Math.min(u.text.length,f+t.length+25),v=u.text.slice(g,x);i.push({chunkIndex:u.chunkIndex,startOffset:f,endOffset:f+t.length,context:(g>0?"...":"")+v+(x<u.text.length?"...":"")}),p=f+1}}return i}const ag={query:"",matches:[],currentIndex:-1,caseSensitive:!1,isOpen:!1};function BN({chunks:e,onNavigateToChunk:t}){const[s,i]=y.useState(ag),o=y.useMemo(()=>VN(e),[e]),u=y.useCallback(()=>{i(N=>({...N,isOpen:!0}))},[]),d=y.useCallback(()=>{i(N=>({...N,isOpen:!1}))},[]),p=y.useCallback(()=>{i(ag)},[]),f=y.useCallback(N=>{const S=ig(o,N,s.caseSensitive);i(C=>({...C,query:N,matches:S,currentIndex:S.length>0?0:-1})),S.length>0&&t&&t(S[0].chunkIndex)},[o,s.caseSensitive,t]),g=y.useCallback(()=>{i(N=>{const S=!N.caseSensitive,C=ig(o,N.query,S);return{...N,caseSensitive:S,matches:C,currentIndex:C.length>0?0:-1}})},[o]),x=y.useCallback(()=>{i(N=>{if(N.matches.length===0)return N;const S=(N.currentIndex+1)%N.matches.length,C=N.matches[S];return C&&t&&t(C.chunkIndex),{...N,currentIndex:S}})},[t]),v=y.useCallback(()=>{i(N=>{if(N.matches.length===0)return N;const S=N.currentIndex<=0?N.matches.length-1:N.currentIndex-1,C=N.matches[S];return C&&t&&t(C.chunkIndex),{...N,currentIndex:S}})},[t]),b=y.useCallback(N=>{i(S=>{if(N<0||N>=S.matches.length)return S;const C=S.matches[N];return C&&t&&t(C.chunkIndex),{...S,currentIndex:N}})},[t]),j=y.useCallback(N=>s.matches.filter(S=>S.chunkIndex===N),[s.matches]),E=y.useMemo(()=>s.currentIndex>=0&&s.currentIndex<s.matches.length?s.matches[s.currentIndex]??null:null,[s.matches,s.currentIndex]);return{searchState:s,isSearchOpen:s.isOpen,openSearch:u,closeSearch:d,setQuery:f,toggleCaseSensitive:g,nextMatch:x,previousMatch:v,goToMatch:b,clearSearch:p,getMatchesForChunk:j,currentMatch:E,totalMatches:s.matches.length}}function og(){return crypto.randomUUID()}const $N={version:1,vaultId:"",updatedAt:new Date().toISOString(),tags:[],taggedItems:[]},UN={red:{bg:"bg-red-100 dark:bg-red-900/40",text:"text-red-700 dark:text-red-300",border:"border-red-200 dark:border-red-800"},orange:{bg:"bg-orange-100 dark:bg-orange-900/40",text:"text-orange-700 dark:text-orange-300",border:"border-orange-200 dark:border-orange-800"},yellow:{bg:"bg-yellow-100 dark:bg-yellow-900/40",text:"text-yellow-700 dark:text-yellow-300",border:"border-yellow-200 dark:border-yellow-800"},green:{bg:"bg-green-100 dark:bg-green-900/40",text:"text-green-700 dark:text-green-300",border:"border-green-200 dark:border-green-800"},blue:{bg:"bg-blue-100 dark:bg-blue-900/40",text:"text-blue-700 dark:text-blue-300",border:"border-blue-200 dark:border-blue-800"},purple:{bg:"bg-purple-100 dark:bg-purple-900/40",text:"text-purple-700 dark:text-purple-300",border:"border-purple-200 dark:border-purple-800"},pink:{bg:"bg-pink-100 dark:bg-pink-900/40",text:"text-pink-700 dark:text-pink-300",border:"border-pink-200 dark:border-pink-800"},gray:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-700 dark:text-gray-300",border:"border-gray-200 dark:border-gray-600"}},ov=y.createContext(null);function WN({children:e,vaultId:t="default"}){const s=`rag-vault-tags-v1-${t}`,[i,o]=bn(s,{...$N,vaultId:t}),u=y.useCallback((k,P)=>{const T={id:og(),name:k.trim(),color:P,usageCount:0,lastUsedAt:new Date().toISOString(),createdAt:new Date().toISOString()};return o(I=>({...I,updatedAt:new Date().toISOString(),tags:[...I.tags,T]})),T},[o]),d=y.useCallback((k,P)=>{o(T=>({...T,updatedAt:new Date().toISOString(),tags:T.tags.map(I=>I.id===k?{...I,...P}:I)}))},[o]),p=y.useCallback(k=>{o(P=>({...P,updatedAt:new Date().toISOString(),tags:P.tags.filter(T=>T.id!==k),taggedItems:P.taggedItems.filter(T=>T.tagId!==k)}))},[o]),f=y.useCallback(k=>i.tags.find(P=>P.id===k),[i.tags]),g=y.useCallback((k,P,T)=>{const I={id:og(),tagId:k,targetType:P,targetKey:T,createdAt:new Date().toISOString()};return o(U=>({...U,updatedAt:new Date().toISOString(),taggedItems:[...U.taggedItems,I],tags:U.tags.map(B=>B.id===k?{...B,usageCount:B.usageCount+1,lastUsedAt:new Date().toISOString()}:B)})),I},[o]),x=y.useCallback(k=>{o(P=>({...P,updatedAt:new Date().toISOString(),taggedItems:P.taggedItems.filter(T=>T.id!==k)}))},[o]),v=y.useCallback((k,P,T)=>{o(I=>({...I,updatedAt:new Date().toISOString(),taggedItems:I.taggedItems.filter(U=>!(U.tagId===k&&U.targetType===P&&U.targetKey===T))}))},[o]),b=y.useCallback((k,P)=>{const T=i.taggedItems.filter(I=>I.targetType===k&&I.targetKey===P).map(I=>I.tagId);return i.tags.filter(I=>T.includes(I.id))},[i.tags,i.taggedItems]),j=y.useCallback(k=>i.taggedItems.filter(P=>P.tagId===k),[i.taggedItems]),E=y.useCallback((k,P,T)=>i.taggedItems.some(I=>I.tagId===k&&I.targetType===P&&I.targetKey===T),[i.taggedItems]),N=y.useCallback((k=10)=>[...i.tags].sort((P,T)=>T.usageCount!==P.usageCount?T.usageCount-P.usageCount:new Date(T.lastUsedAt).getTime()-new Date(P.lastUsedAt).getTime()).slice(0,k),[i.tags]),S=y.useCallback(()=>JSON.stringify(i,null,2),[i]),C=y.useCallback(k=>{const P=[];let T=0;try{const I=JSON.parse(k);if(I.version!==1)return P.push(`Unsupported version: ${I.version}`),{imported:T,errors:P};if(Array.isArray(I.tags))for(const U of I.tags)U.id&&U.name&&!i.tags.some(B=>B.id===U.id)&&(o(B=>({...B,updatedAt:new Date().toISOString(),tags:[...B.tags,U]})),T++);if(Array.isArray(I.taggedItems))for(const U of I.taggedItems)U.id&&U.tagId&&U.targetKey&&!i.taggedItems.some(B=>B.id===U.id)&&(o(B=>({...B,updatedAt:new Date().toISOString(),taggedItems:[...B.taggedItems,U]})),T++)}catch(I){P.push(`Invalid JSON: ${I.message}`)}return{imported:T,errors:P}},[i,o]),R=y.useMemo(()=>({tags:i.tags,createTag:u,updateTag:d,deleteTag:p,getTag:f,taggedItems:i.taggedItems,addTag:g,removeTag:x,removeTagFromTarget:v,getTagsForTarget:b,getTargetsForTag:j,isTagged:E,getTagSuggestions:N,exportTags:S,importTags:C}),[i.tags,i.taggedItems,u,d,p,f,g,x,v,b,j,E,N,S,C]);return l.jsx(ov.Provider,{value:R,children:e})}function lv(){const e=y.useContext(ov);if(!e)throw new Error("useTags must be used within a TagsProvider");return e}function KN(){return crypto.randomUUID()}const HN={version:1,vaultId:"",updatedAt:new Date().toISOString(),collections:[]},qN=["red","orange","yellow","green","blue","purple","pink","gray"],lg={red:{bg:"bg-red-100 dark:bg-red-900/40",text:"text-red-700 dark:text-red-300",border:"border-red-200 dark:border-red-800"},orange:{bg:"bg-orange-100 dark:bg-orange-900/40",text:"text-orange-700 dark:text-orange-300",border:"border-orange-200 dark:border-orange-800"},yellow:{bg:"bg-yellow-100 dark:bg-yellow-900/40",text:"text-yellow-700 dark:text-yellow-300",border:"border-yellow-200 dark:border-yellow-800"},green:{bg:"bg-green-100 dark:bg-green-900/40",text:"text-green-700 dark:text-green-300",border:"border-green-200 dark:border-green-800"},blue:{bg:"bg-blue-100 dark:bg-blue-900/40",text:"text-blue-700 dark:text-blue-300",border:"border-blue-200 dark:border-blue-800"},purple:{bg:"bg-purple-100 dark:bg-purple-900/40",text:"text-purple-700 dark:text-purple-300",border:"border-purple-200 dark:border-purple-800"},pink:{bg:"bg-pink-100 dark:bg-pink-900/40",text:"text-pink-700 dark:text-pink-300",border:"border-pink-200 dark:border-pink-800"},gray:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-700 dark:text-gray-300",border:"border-gray-200 dark:border-gray-600"}},cv=y.createContext(null);function QN({children:e,vaultId:t="default"}){const s=`rag-vault-collections-v1-${t}`,[i,o]=bn(s,{...HN,vaultId:t}),u=y.useCallback((C,R,k)=>{const P={id:KN(),name:C.trim(),description:k==null?void 0:k.trim(),color:R,documents:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return o(T=>({...T,updatedAt:new Date().toISOString(),collections:[...T.collections,P]})),P},[o]),d=y.useCallback((C,R)=>{o(k=>({...k,updatedAt:new Date().toISOString(),collections:k.collections.map(P=>P.id===C?{...P,...R,updatedAt:new Date().toISOString()}:P)}))},[o]),p=y.useCallback(C=>{o(R=>({...R,updatedAt:new Date().toISOString(),collections:R.collections.filter(k=>k.id!==C)}))},[o]),f=y.useCallback(C=>i.collections.find(R=>R.id===C),[i.collections]),g=y.useCallback((C,R)=>{o(k=>({...k,updatedAt:new Date().toISOString(),collections:k.collections.map(P=>P.id!==C||P.documents.includes(R)?P:{...P,documents:[...P.documents,R],updatedAt:new Date().toISOString()})}))},[o]),x=y.useCallback((C,R)=>{o(k=>({...k,updatedAt:new Date().toISOString(),collections:k.collections.map(P=>P.id!==C?P:{...P,documents:P.documents.filter(T=>T!==R),updatedAt:new Date().toISOString()})}))},[o]),v=y.useCallback(C=>i.collections.filter(R=>R.documents.includes(C)),[i.collections]),b=y.useCallback(C=>{const R=i.collections.find(k=>k.id===C);return(R==null?void 0:R.documents)??[]},[i.collections]),j=y.useCallback((C,R)=>{const k=i.collections.find(P=>P.id===C);return(k==null?void 0:k.documents.includes(R))??!1},[i.collections]),E=y.useCallback(()=>JSON.stringify(i,null,2),[i]),N=y.useCallback(C=>{const R=[];let k=0;try{const P=JSON.parse(C);if(P.version!==1)return R.push(`Unsupported version: ${P.version}`),{imported:k,errors:R};if(Array.isArray(P.collections))for(const T of P.collections)T.id&&T.name&&!i.collections.some(I=>I.id===T.id)&&(o(I=>({...I,updatedAt:new Date().toISOString(),collections:[...I.collections,T]})),k++)}catch(P){R.push(`Invalid JSON: ${P.message}`)}return{imported:k,errors:R}},[i,o]),S=y.useMemo(()=>({collections:i.collections,createCollection:u,updateCollection:d,deleteCollection:p,getCollection:f,addDocumentToCollection:g,removeDocumentFromCollection:x,getCollectionsForDocument:v,getDocumentsInCollection:b,isDocumentInCollection:j,exportCollections:E,importCollections:N}),[i.collections,u,d,p,f,g,x,v,b,j,E,N]);return l.jsx(cv.Provider,{value:S,children:e})}function Ep(){const e=y.useContext(cv);if(!e)throw new Error("useCollections must be used within a CollectionsProvider");return e}function GN(){const{collections:e,createCollection:t,updateCollection:s,deleteCollection:i,getCollection:o,getDocumentsInCollection:u}=Ep();return{collections:e,createCollection:t,updateCollection:s,deleteCollection:i,getCollection:o,getDocumentsInCollection:u}}const Ed={pan:{x:0,y:0},zoom:1},cg={version:1,vaultId:"",nodePositions:{},viewState:Ed},YN=y.createContext(null);function XN({children:e,vaultId:t="default"}){const s=`rag-vault-graph-state-v1-${t}`,[i,o]=bn(s,{...cg,vaultId:t}),u=y.useCallback(S=>i.nodePositions[S],[i.nodePositions]),d=y.useCallback((S,C)=>{o(R=>({...R,nodePositions:{...R.nodePositions,[S]:{x:C.x,y:C.y,fixedAt:new Date().toISOString()}}}))},[o]),p=y.useCallback(()=>{o(S=>({...S,nodePositions:{}}))},[o]),f=y.useCallback(S=>{o(C=>({...C,viewState:{...C.viewState,pan:S}}))},[o]),g=y.useCallback(S=>{o(C=>({...C,viewState:{...C.viewState,zoom:S}}))},[o]),x=y.useCallback(S=>{o(C=>({...C,viewState:S}))},[o]),v=y.useCallback(()=>{o(S=>({...S,viewState:Ed}))},[o]),b=y.useCallback(()=>{o(S=>({...cg,vaultId:S.vaultId}))},[o]),j=y.useCallback(()=>JSON.stringify(i,null,2),[i]),E=y.useCallback(S=>{try{const C=JSON.parse(S);return C.version!==1?{success:!1,error:`Unsupported version: ${C.version}`}:(o(R=>({...R,nodePositions:C.nodePositions||{},viewState:C.viewState||Ed})),{success:!0})}catch(C){return{success:!1,error:`Invalid JSON: ${C.message}`}}},[o]),N=y.useMemo(()=>({nodePositions:i.nodePositions,getNodePosition:u,setNodePosition:d,clearNodePositions:p,viewState:i.viewState,setPan:f,setZoom:g,setViewState:x,resetViewState:v,resetAll:b,exportGraphState:j,importGraphState:E}),[i.nodePositions,i.viewState,u,d,p,f,g,x,v,b,j,E]);return l.jsx(YN.Provider,{value:N,children:e})}const JN={version:1,vaultId:"",documents:{}},ZN=y.createContext(null);function eE({children:e,vaultId:t="default"}){const s=`rag-vault-reading-stats-v1-${t}`,[i,o]=bn(s,{...JN,vaultId:t}),u=y.useCallback(R=>i.documents[R],[i.documents]),d=y.useCallback((R,k)=>{const P=i.documents[R];if(P)return P.chunkStats[k]},[i.documents]),p=y.useCallback((R,k)=>{const P=i.documents[R];return P?P.totalChunks!==k?{...P,totalChunks:k}:P:{filePath:R,totalChunks:k,chunksRead:0,totalTimeMs:0,sessions:[],chunkStats:{}}},[i.documents]),f=y.useCallback((R,k,P)=>{o(T=>{const I=p(R,P),U=I.chunkStats[k]||{totalTimeMs:0,readCount:0,lastReadAt:""},B=U.readCount===0,X={...U,readCount:U.readCount+1,lastReadAt:new Date().toISOString()},ee={...I,chunksRead:B?I.chunksRead+1:I.chunksRead,chunkStats:{...I.chunkStats,[k]:X}};return{...T,documents:{...T.documents,[R]:ee}}})},[o,p]),g=y.useCallback((R,k,P)=>{P<=0||o(T=>{const I=T.documents[R];if(!I)return T;const U=I.chunkStats[k];if(!U)return T;const B={...U,totalTimeMs:U.totalTimeMs+P},X={...I,totalTimeMs:I.totalTimeMs+P,chunkStats:{...I.chunkStats,[k]:B}};return{...T,documents:{...T.documents,[R]:X}}})},[o]),x=y.useCallback(R=>{o(k=>{const P=k.documents[R];if(!P)return k;const T=P.sessions[P.sessions.length-1];if(T&&!T.endedAt)return k;const I={startedAt:new Date().toISOString(),endedAt:"",durationMs:0},U=[...P.sessions,I].slice(-10);return{...k,documents:{...k.documents,[R]:{...P,sessions:U}}}})},[o]),v=y.useCallback(R=>{o(k=>{const P=k.documents[R];if(!P)return k;const T=[...P.sessions],I=T[T.length-1];if(!I||I.endedAt)return k;const U=new Date().toISOString(),B=new Date(U).getTime()-new Date(I.startedAt).getTime();return T[T.length-1]={...I,endedAt:U,durationMs:B},{...k,documents:{...k.documents,[R]:{...P,sessions:T}}}})},[o]),b=y.useCallback(R=>{const k=i.documents[R];return!k||k.totalChunks===0?0:Math.round(k.chunksRead/k.totalChunks*100)},[i.documents]),j=y.useCallback(R=>{const k=i.documents[R];return(k==null?void 0:k.totalTimeMs)??0},[i.documents]),E=y.useCallback(R=>{const k=i.documents[R];return!k||k.chunksRead===0?0:Math.round(k.totalTimeMs/k.chunksRead)},[i.documents]),N=y.useCallback(()=>JSON.stringify(i,null,2),[i]),S=y.useCallback(R=>{o(R?k=>{const{[R]:P,...T}=k.documents;return{...k,documents:T}}:k=>({...k,documents:{}}))},[o]),C=y.useMemo(()=>({getDocumentStats:u,getChunkStats:d,recordChunkView:f,recordTimeSpent:g,startSession:x,endSession:v,getCompletionPercent:b,getTotalReadingTime:j,getAverageTimePerChunk:E,exportStats:N,clearStats:S}),[u,d,f,g,x,v,b,j,E,N,S]);return l.jsx(ZN.Provider,{value:C,children:e})}const tE=[{value:"light",label:"Light",icon:rE},{value:"dark",label:"Dark",icon:sE},{value:"system",label:"System",icon:iE}];function nE(){const{preferences:e,setTheme:t}=Tl();return l.jsx("div",{className:"flex items-center gap-1 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg",children:tE.map(({value:s,label:i,icon:o})=>l.jsxs("button",{type:"button",onClick:()=>t(s),className:`
            flex items-center gap-2 px-3 py-1.5 text-sm font-medium rounded-md transition-all
            ${e.theme===s?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}
          `,title:`${i} theme`,children:[l.jsx(o,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:i})]},s))})}function rE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}function sE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}function iE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}function aE(){const{config:e}=tv();return l.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"MCP Local RAG"}),l.jsxs("div",{className:"flex items-center gap-4",children:[e&&l.jsxs(Hd,{to:"/settings",className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",title:e.dbPath,children:[l.jsx(oE,{className:"w-4 h-4 text-green-500 dark:text-green-400"}),l.jsx("span",{className:"font-medium",children:e.name}),l.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"|"}),l.jsxs("span",{children:[e.documentCount," docs"]})]}),l.jsx(nE,{})]})]})})}function oE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}const lE=[{to:"/",label:"Search",icon:uE},{to:"/upload",label:"Upload",icon:dE},{to:"/files",label:"Files",icon:pE},{to:"/status",label:"Status",icon:fE},{to:"/settings",label:"Settings",icon:hE}];function cE(){return l.jsx("aside",{className:"w-56 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4 transition-colors",children:l.jsx("nav",{className:"space-y-1",children:lE.map(e=>l.jsxs(kx,{to:e.to,className:({isActive:t})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[l.jsx(e.icon,{className:"w-5 h-5"}),e.label]},e.to))})})}function uE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}function dE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}function pE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}function fE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}function hE({className:e}){return l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function mE({children:e}){return l.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors",children:[l.jsx(aE,{}),l.jsxs("div",{className:"flex flex-1",children:[l.jsx(cE,{}),l.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e})]})]})}const ug={fontSize:"base",lineHeight:"normal",fontFamily:"sans",showChunkNumbers:!0},gE={sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem"},xE={tight:"1.4",normal:"1.6",relaxed:"1.8"},yE={sans:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',serif:'ui-serif, Georgia, Cambria, "Times New Roman", Times, serif',mono:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace'},uv=y.createContext(null);function vE({children:e,vaultId:t="default"}){const s=`rag-vault-reader-settings-${t}`,[i,o]=bn(s,ug),u=y.useCallback(b=>{o(j=>({...j,fontSize:b}))},[o]),d=y.useCallback(b=>{o(j=>({...j,lineHeight:b}))},[o]),p=y.useCallback(b=>{o(j=>({...j,fontFamily:b}))},[o]),f=y.useCallback(b=>{o(j=>({...j,showChunkNumbers:b}))},[o]),g=y.useCallback(()=>{o(ug)},[o]),x=y.useMemo(()=>({"--reader-font-size":gE[i.fontSize],"--reader-line-height":xE[i.lineHeight],"--reader-font-family":yE[i.fontFamily]}),[i.fontSize,i.lineHeight,i.fontFamily]),v=y.useMemo(()=>({settings:i,setFontSize:u,setLineHeight:d,setFontFamily:p,setShowChunkNumbers:f,resetSettings:g,cssVariables:x}),[i,u,d,p,f,g,x]);return l.jsx(uv.Provider,{value:v,children:e})}function dv(){const e=y.useContext(uv);if(!e)throw new Error("useReaderSettings must be used within a ReaderSettingsProvider");return e}function bE(){const e=Ei(),{collections:t,createCollection:s,updateCollection:i,deleteCollection:o,getDocumentsInCollection:u}=GN(),[d,p]=y.useState(!1),[f,g]=y.useState(null),[x,v]=y.useState(""),[b,j]=y.useState(""),[E,N]=y.useState("blue"),S=()=>{p(!0),g(null),v(""),j(""),N("blue")},C=T=>{p(!1),g(T.id),v(T.name),j(T.description||""),N(T.color)},R=()=>{x.trim()&&(d?s(x.trim(),E,b.trim()||void 0):f&&i(f,{name:x.trim(),color:E,description:b.trim()||void 0}),p(!1),g(null),v(""),j(""))},k=()=>{p(!1),g(null),v(""),j("")},P=T=>{e(`/files?collection=${T}`)};return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Collections"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Organize your documents into collections."})]}),!d&&!f&&l.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(dg,{className:"w-4 h-4"}),"New Collection"]})]}),l.jsx(Nt,{children:(d||f)&&l.jsxs(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:d?"Create Collection":"Edit Collection"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),l.jsx("input",{type:"text",value:x,onChange:T=>v(T.target.value),placeholder:"Collection name",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Color"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:qN.map(T=>l.jsx("button",{type:"button",onClick:()=>N(T),className:`w-8 h-8 rounded-full ${lg[T].bg} ${E===T?"ring-2 ring-offset-2 ring-blue-500 dark:ring-offset-gray-800":""}`},T))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (optional)"}),l.jsx("input",{type:"text",value:b,onChange:T=>j(T.target.value),placeholder:"What's this collection for?",className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),l.jsx("button",{type:"button",onClick:R,disabled:!x.trim(),className:"px-4 py-2 text-sm text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Create":"Save"})]})]})}),t.length===0?l.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx(wE,{className:"w-12 h-12 mx-auto text-gray-400 dark:text-gray-500 mb-3"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-1",children:"No collections yet"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create a collection to organize your documents."}),l.jsxs("button",{type:"button",onClick:S,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(dg,{className:"w-4 h-4"}),"Create your first collection"]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.jsx(Nt,{children:t.map(T=>{const I=u(T.id),U=lg[T.color];return l.jsxs(Pe.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`bg-white dark:bg-gray-800 rounded-lg border ${U.border} p-4`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-4 h-4 rounded-full ${U.bg}`}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:T.name})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",onClick:()=>C(T),className:"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Edit",children:l.jsx(jE,{className:"w-4 h-4"})}),l.jsx(kE,{onDelete:()=>o(T.id)})]})]}),T.description&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:T.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[I.length," document",I.length!==1?"s":""]}),l.jsx("button",{type:"button",onClick:()=>P(T.id),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View documents "})]})]},T.id)})})})]})}function kE({onDelete:e}){const[t,s]=y.useState(!1);return t?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{type:"button",onClick:e,className:"px-2 py-1 text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/30 rounded hover:bg-red-100 dark:hover:bg-red-900/50 transition-colors",children:"Delete"}),l.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:"Cancel"})]}):l.jsx("button",{type:"button",onClick:()=>s(!0),className:"p-1.5 text-gray-400 hover:text-red-500 dark:hover:text-red-400 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Delete",children:l.jsx(SE,{className:"w-4 h-4"})})}function dg({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}function wE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}function jE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}function SE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function CE({file:e,onDelete:t,isDeleting:s}){const[i,o]=y.useState(!1),u=Ei(),d=e.source||e.filePath.split(/[/\\]/).pop()||e.filePath,p=e.filePath.includes("raw-data"),f=()=>{e.source?t({source:e.source}):t({filePath:e.filePath}),o(!1)},g=()=>{const x=new URLSearchParams({path:e.filePath});u(`/read?${x.toString()}`)};return l.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",title:e.source||e.filePath,children:d}),l.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("span",{children:[e.chunkCount," chunks"]}),p&&l.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Ingested content"})]}),e.source&&l.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 truncate mt-1",title:e.filePath,children:e.filePath})]}),l.jsx("div",{className:"flex items-center gap-2",children:i?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:f,disabled:s,className:"px-3 py-1.5 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:"Confirm"}),l.jsx("button",{type:"button",onClick:()=>o(!1),disabled:s,className:"px-3 py-1.5 text-sm text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:g,className:"px-3 py-1.5 text-sm text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",children:"Read"}),l.jsx("button",{type:"button",onClick:()=>o(!0),className:"px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:"Delete"})]})})]})}function NE({files:e,onDelete:t,isDeleting:s}){return e.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx("p",{children:"No files ingested yet."}),l.jsx("p",{className:"text-sm mt-1",children:"Upload a file or paste content to get started."})]}):l.jsx("div",{className:"space-y-2",children:e.map(i=>l.jsx(CE,{file:i,onDelete:t,isDeleting:s},i.filePath))})}function EE(){const[e,t]=jx(),{files:s,isLoading:i,error:o,deleteFile:u,isDeleting:d}=fN(),{collections:p}=Ep(),{tags:f,getTagsForTarget:g}=lv(),x=e.get("collection")||"",v=e.get("tag")||"",b=p.find(k=>k.id===x),j=f.find(k=>k.id===v),E=y.useMemo(()=>{let k=s;if(x&&b){const P=new Set(b.documents);k=k.filter(T=>P.has(T.filePath))}return v&&(k=k.filter(P=>g("document",P.filePath).some(I=>I.id===v))),k},[s,x,b,v,g]),N=k=>{const P=new URLSearchParams(e);k?P.set("collection",k):P.delete("collection"),t(P)},S=k=>{const P=new URLSearchParams(e);k?P.set("tag",k):P.delete("tag"),t(P)},C=()=>{t({})},R=x||v;return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Ingested Files"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your knowledge base content."})]}),s.length>0&&l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:E.length===s.length?`${s.length} file${s.length!==1?"s":""}`:`${E.length} of ${s.length} files`})]}),(p.length>0||f.length>0)&&l.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Filter by:"}),p.length>0&&l.jsxs("select",{value:x,onChange:k=>N(k.target.value),className:"text-sm px-3 py-1.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"All collections"}),p.map(k=>l.jsxs("option",{value:k.id,children:[k.name," (",k.documents.length,")"]},k.id))]}),f.length>0&&l.jsxs("select",{value:v,onChange:k=>S(k.target.value),className:"text-sm px-3 py-1.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"All tags"}),f.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))]}),R&&l.jsx("button",{type:"button",onClick:C,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Clear filters"})]}),R&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[b&&l.jsx(pg,{label:b.name,type:"collection",onRemove:()=>N("")}),j&&l.jsx(pg,{label:j.name,type:"tag",color:j.color,onRemove:()=>S("")})]}),i?l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(nt,{className:"text-gray-400"}),l.jsx("span",{className:"ml-3 text-gray-500 dark:text-gray-400",children:"Loading files..."})]}):o?l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-400",children:[l.jsx("p",{className:"font-medium",children:"Error loading files"}),l.jsx("p",{className:"text-sm",children:o.message})]}):E.length===0?l.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx(PE,{className:"w-10 h-10 mx-auto text-gray-400 dark:text-gray-500 mb-3"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:R?"No files match the selected filters.":"No files ingested yet."}),R&&l.jsx("button",{type:"button",onClick:C,className:"mt-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"Clear filters"})]}):l.jsx(NE,{files:E,onDelete:u,isDeleting:d})]})}function pg({label:e,type:t,color:s,onRemove:i}){var u;const o=t==="tag"&&s?(u=UN[s])==null?void 0:u.bg:"bg-gray-100 dark:bg-gray-700";return l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-sm rounded-full ${o}`,children:[t==="collection"?l.jsx(TE,{className:"w-3.5 h-3.5 text-gray-500 dark:text-gray-400"}):l.jsx(RE,{className:"w-3.5 h-3.5 text-gray-500 dark:text-gray-400"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e}),l.jsx("button",{type:"button",onClick:i,className:"p-0.5 rounded-full hover:bg-black/10 dark:hover:bg-white/10",children:l.jsx(DE,{className:"w-3 h-3 text-gray-500 dark:text-gray-400"})})]})}function PE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}function TE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}function RE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}function DE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}const fg=[{color:"yellow",bg:"bg-yellow-300",ring:"ring-yellow-400",label:"Yellow"},{color:"green",bg:"bg-green-300",ring:"ring-green-400",label:"Green"},{color:"blue",bg:"bg-blue-300",ring:"ring-blue-400",label:"Blue"},{color:"pink",bg:"bg-pink-300",ring:"ring-pink-400",label:"Pink"},{color:"purple",bg:"bg-purple-300",ring:"ring-purple-400",label:"Purple"}];function LE({highlight:e,annotation:t,onUpdateNote:s,onDeleteNote:i,onDeleteHighlight:o,onChangeColor:u}){const[d,p]=y.useState(!1),[f,g]=y.useState((t==null?void 0:t.note)||""),[x,v]=y.useState(!1),b=y.useCallback(()=>{f.trim()&&s(f.trim()),p(!1)},[f,s]),j=y.useCallback(N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),b()),N.key==="Escape"&&(p(!1),g((t==null?void 0:t.note)||""))},[b,t==null?void 0:t.note]),E=fg.find(N=>N.color===e.color);return l.jsxs(Pe.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:[l.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700",children:l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic line-clamp-2",children:['"',e.text.length>60?`${e.text.slice(0,60)}...`:e.text,'"']})}),l.jsx("div",{className:"p-3",children:d?l.jsxs("div",{children:[l.jsx("textarea",{value:f,onChange:N=>g(N.target.value),onKeyDown:j,onBlur:b,placeholder:"Add a note...",className:"w-full px-2 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 rounded border-0 resize-none focus:ring-2 focus:ring-blue-500",rows:3,autoFocus:!0}),l.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[l.jsx("button",{type:"button",onClick:()=>{p(!1),g((t==null?void 0:t.note)||"")},className:"px-2 py-1 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:"Cancel"}),l.jsx("button",{type:"button",onClick:b,className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):l.jsx("div",{children:t!=null&&t.note?l.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 cursor-pointer hover:text-gray-900 dark:hover:text-gray-100",onClick:()=>p(!0),children:t.note}):l.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 italic",children:"+ Add note..."})})}),l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-t border-gray-100 dark:border-gray-700/50",children:[l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",onClick:()=>v(!x),className:`w-5 h-5 rounded-full ${E==null?void 0:E.bg} ring-1 ring-gray-300 dark:ring-gray-600`,title:"Change color"}),x&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>v(!1)}),l.jsx("div",{className:"absolute bottom-full left-0 mb-2 z-20 flex gap-1 p-1.5 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:fg.map(({color:N,bg:S,ring:C})=>l.jsx("button",{type:"button",onClick:()=>{u(N),v(!1)},className:`w-5 h-5 rounded-full ${S} hover:ring-2 ${C} transition-all ${N===e.color?"ring-2":""}`,title:N},N))})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[t&&l.jsx("button",{type:"button",onClick:i,className:"text-xs text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400",title:"Delete note",children:"Remove note"}),l.jsx("button",{type:"button",onClick:o,className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400",title:"Delete highlight",children:l.jsx(AE,{className:"w-4 h-4"})})]})]})]})}function AE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function IE({items:e,onNavigate:t,onSaveTrail:s,canSaveTrail:i}){return e.length===0?null:l.jsxs("nav",{className:"flex items-center gap-1 px-4 py-2 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 overflow-x-auto","aria-label":"Breadcrumb",children:[l.jsxs("ol",{className:"flex items-center gap-1",children:[l.jsx("li",{children:l.jsx("button",{type:"button",onClick:()=>t({filePath:"",label:"Search",chunkIndex:void 0}),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:l.jsx(ME,{})})}),e.map((o,u)=>l.jsxs(Pe.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center",children:[l.jsx("span",{className:"mx-1 text-gray-400 dark:text-gray-500",children:"/"}),o.connectionReason&&l.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500 italic mr-1",children:['via "',o.connectionReason,'"']}),l.jsxs("button",{type:"button",onClick:()=>t(o),disabled:u===e.length-1,className:`
                text-sm truncate max-w-[150px] px-2 py-0.5 rounded
                ${u===e.length-1?"text-gray-900 dark:text-gray-100 font-medium bg-gray-100 dark:bg-gray-700":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700"}
                transition-colors
              `,title:`${o.label}${o.chunkIndex!==void 0?` #${o.chunkIndex}`:""}`,children:[o.label,o.chunkIndex!==void 0&&l.jsxs("span",{className:"ml-1 text-gray-400 dark:text-gray-500",children:["#",o.chunkIndex]})]})]},`${o.filePath}-${o.chunkIndex??"doc"}`))]}),s&&i&&e.length>1&&l.jsx(Pe.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},type:"button",onClick:s,className:"ml-auto px-2 py-1 text-xs font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors whitespace-nowrap",children:"Save Trail"})]})}function ME(){return l.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}const OE=[{color:"yellow",bg:"bg-yellow-300",ring:"ring-yellow-400"},{color:"green",bg:"bg-green-300",ring:"ring-green-400"},{color:"blue",bg:"bg-blue-300",ring:"ring-blue-400"},{color:"pink",bg:"bg-pink-300",ring:"ring-pink-400"},{color:"purple",bg:"bg-purple-300",ring:"ring-purple-400"}];function FE({rect:e,onSelectColor:t,onClose:s}){const d=e.left+e.width/2-80,p=e.top-44-8+window.scrollY,f=Math.max(8,Math.min(d,window.innerWidth-160-8)),g=p<8?e.bottom+8+window.scrollY:p;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-50",onClick:s}),l.jsx(Pe.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:4},transition:{duration:.1},className:"fixed z-50 flex items-center gap-1 px-2 py-1.5 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700",style:{left:f,top:g,width:160},children:OE.map(({color:x,bg:v,ring:b})=>l.jsx("button",{type:"button",onClick:()=>t(x),className:`w-7 h-7 rounded-full ${v} hover:ring-2 ${b} transition-all`,title:`Highlight ${x}`},x))})]})}const _E={yellow:"bg-yellow-200 dark:bg-yellow-800/60",green:"bg-green-200 dark:bg-green-800/60",blue:"bg-blue-200 dark:bg-blue-800/60",pink:"bg-pink-200 dark:bg-pink-800/60",purple:"bg-purple-200 dark:bg-purple-800/60"},zE={yellow:"hover:bg-yellow-300 dark:hover:bg-yellow-700/60",green:"hover:bg-green-300 dark:hover:bg-green-700/60",blue:"hover:bg-blue-300 dark:hover:bg-blue-700/60",pink:"hover:bg-pink-300 dark:hover:bg-pink-700/60",purple:"hover:bg-purple-300 dark:hover:bg-purple-700/60"};function VE(e,t,s){const i=new Set;i.add(0),i.add(e.length);const o=[...t,...s];for(const p of o)p.startOffset>=0&&p.startOffset<=e.length&&i.add(p.startOffset),p.endOffset>=0&&p.endOffset<=e.length&&i.add(p.endOffset);const u=Array.from(i).sort((p,f)=>p-f),d=[];for(let p=0;p<u.length-1;p++){const f=u[p],g=u[p+1];if(f>=g)continue;const x=o.filter(v=>v.startOffset<=f&&v.endOffset>=g);d.push({text:e.slice(f,g),types:x})}return d}function BE(e){return e.map(t=>({startOffset:t.range.startOffset,endOffset:t.range.endOffset,type:"annotation",highlightId:t.id,color:t.color}))}function $E(e,t,s){let i=0;const o=[];let u=0;for(const d of e)d.chunkIndex<t&&u++;for(const d of e){if(d.chunkIndex!==t)continue;const p=u+i;o.push({startOffset:d.startOffset,endOffset:d.endOffset,type:p===s?"search-current":"search-match"}),i++}return o}function UE({text:e,highlights:t,searchMatches:s=[],currentSearchIndex:i=-1,chunkIndex:o,onHighlightClick:u}){const d=y.useMemo(()=>BE(t),[t]),p=y.useMemo(()=>$E(s,o,i),[s,o,i]),f=y.useMemo(()=>VE(e,d,p),[e,d,p]),g=y.useMemo(()=>{const x=new Map;for(const v of t)x.set(v.id,v);return x},[t]);return l.jsx("span",{className:"whitespace-pre-wrap",children:f.map((x,v)=>{const b=x.types.find(S=>S.type==="annotation"),j=x.types.find(S=>S.type==="search-current"),E=x.types.find(S=>S.type==="search-match"),N=["rounded","transition-colors"];if(b!=null&&b.color&&(N.push(_E[b.color]),N.push(zE[b.color]),N.push("cursor-pointer","px-0.5")),j&&(N.push("ring-2","ring-orange-500","dark:ring-orange-400","ring-offset-1","ring-offset-white","dark:ring-offset-gray-900"),b||N.push("bg-orange-100","dark:bg-orange-900/30")),E&&!j&&N.push("underline","decoration-dotted","decoration-orange-500","dark:decoration-orange-400","underline-offset-2"),b!=null&&b.highlightId){const S=g.get(b.highlightId);return l.jsx("mark",{className:N.join(" "),onClick:C=>{C.stopPropagation(),S&&u&&u(S)},"data-highlight-id":b.highlightId,children:x.text},v)}return j||E?l.jsx("span",{className:N.join(" "),"data-search-match":"true",children:x.text},v):l.jsx("span",{children:x.text},v)})})}function WE({chunk:e,isActive:t,onRegister:s,onClick:i,showChunkNumbers:o=!0,highlights:u=[],onCreateHighlight:d,onHighlightClick:p,searchMatches:f=[],currentSearchIndex:g=-1,isBookmarked:x=!1}){const v=y.useRef(null),b=y.useRef(null),j=y.useRef(null),E=i?b:v,{selection:N,clearSelection:S}=_N({containerRef:j,chunkText:e.text,enabled:!!d}),C=y.useCallback(T=>{N&&d&&(d({startOffset:N.startOffset,endOffset:N.endOffset},N.text,N.contextBefore,N.contextAfter,T),S())},[N,d,S]);y.useEffect(()=>(s(e.chunkIndex,E.current),()=>{s(e.chunkIndex,null)}),[e.chunkIndex,s,E]);const R=l.jsx("div",{ref:j,children:u.length>0||f.length>0?l.jsx(UE,{text:e.text,highlights:u,searchMatches:f,currentSearchIndex:g,chunkIndex:e.chunkIndex,onHighlightClick:p}):l.jsx("span",{className:"whitespace-pre-wrap",children:e.text})}),k=l.jsxs(l.Fragment,{children:[o&&l.jsxs("div",{className:"absolute -left-2 top-4 flex items-center gap-1",children:[l.jsxs("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:["#",e.chunkIndex]}),x&&l.jsx(KE,{className:"w-3.5 h-3.5 text-blue-500 dark:text-blue-400"})]}),l.jsx("div",{className:"pl-6 max-w-none text-gray-700 dark:text-gray-300",style:{fontSize:"var(--reader-font-size, 1rem)",lineHeight:"var(--reader-line-height, 1.6)",fontFamily:"var(--reader-font-family, inherit)"},children:R}),t&&l.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-500 dark:bg-blue-400 rounded-l-lg"}),l.jsx(Nt,{children:N&&d&&l.jsx(FE,{rect:N.rect,onSelectColor:C,onClose:S})})]}),P=`
    group relative p-4 rounded-lg transition-all duration-200 text-left w-full
    ${t?"bg-blue-50 dark:bg-blue-900/20 ring-1 ring-blue-200 dark:ring-blue-700":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750"}
  `;return i?l.jsx("button",{ref:b,id:`chunk-${e.chunkIndex}`,type:"button",className:P,onClick:i,children:k}):l.jsx("div",{ref:v,id:`chunk-${e.chunkIndex}`,className:P,children:k})}function KE({className:e}){return l.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})})}function pv({chunks:e,activeChunkIndex:t,onRegisterChunk:s,onChunkClick:i,scrollToChunk:o,showChunkNumbers:u=!0,getHighlightsForChunk:d,onCreateHighlight:p,onHighlightClick:f,getSearchMatchesForChunk:g,currentSearchIndex:x=-1,isChunkBookmarked:v}){return y.useEffect(()=>{if(o!=null){const b=document.getElementById(`chunk-${o}`);b&&requestAnimationFrame(()=>{b.scrollIntoView({behavior:"smooth",block:"center"})})}},[o]),e.length===0?l.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500 dark:text-gray-400",children:l.jsx("p",{children:"No content to display"})}):l.jsx("div",{className:"space-y-3",children:e.map(b=>{const j=(d==null?void 0:d(b.chunkIndex))??[],E=(g==null?void 0:g(b.chunkIndex))??[],N=(v==null?void 0:v(b.chunkIndex))??!1;return l.jsx(WE,{chunk:b,isActive:t===b.chunkIndex,onRegister:s,onClick:i?()=>i(b):void 0,showChunkNumbers:u,highlights:j,onCreateHighlight:p?(S,C,R,k,P)=>p(b.chunkIndex,S,C,R,k,P):void 0,onHighlightClick:f,searchMatches:E,currentSearchIndex:x,isBookmarked:N},`${b.filePath}-${b.chunkIndex}`)})})}function HE({chunk:e,onNavigate:t,onOpenSplit:s,isPinned:i=!1,onTogglePin:o}){const u=GE(e.score),d=e.source||qE(e.filePath);return l.jsxs(Pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:`
        relative p-3 rounded-lg transition-all duration-200 cursor-pointer
        ${i?"border-2 border-blue-400 dark:border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border border-dashed border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500"}
      `,children:[l.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 truncate flex-1",title:e.filePath,children:d}),l.jsx("span",{className:`px-1.5 py-0.5 text-xs font-medium rounded ${u}`,title:`Distance: ${e.score.toFixed(4)}`,children:QE(e.score)})]}),l.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-3 mb-2",children:[e.text.slice(0,150),e.text.length>150&&"..."]}),e.connectionReason&&l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic mb-2",children:e.connectionReason}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),t()},className:"px-2 py-1 text-xs font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",children:"Read"}),s&&l.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),s()},className:"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:"Split View"}),o&&l.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:`px-2 py-1 text-xs font-medium rounded transition-colors ${i?"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/40":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:i?"Unpin link":"Pin link",children:i?"Pinned":"Pin"})]}),l.jsxs("span",{className:"absolute top-2 right-2 text-xs text-gray-400 dark:text-gray-500",children:["#",e.chunkIndex]})]})}function qE(e){const t=e.split(/[/\\]/);return t[t.length-1]||e}function QE(e){return e<.3?"High":e<.5?"Good":e<.7?"Fair":"Low"}function GE(e){return e<.3?"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-400":e<.5?"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-400":e<.7?"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-700 dark:text-yellow-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}function YE({relatedChunks:e,isLoading:t,activeChunkIndex:s,currentFilePath:i,onNavigateToChunk:o,onOpenSplit:u,pinnedChunkKeys:d,onTogglePin:p,highlights:f=[],annotations:g=new Map,onUpdateNote:x,onDeleteNote:v,onDeleteHighlight:b,onChangeHighlightColor:j,backlinks:E=[],outgoingLinks:N=[]}){const S=e.filter(T=>T.score<.7),C=f.length>0,R=E.length>0||N.length>0,k=[...E].sort((T,I)=>{const U=T.sourceKey.filePath===i,B=I.sourceKey.filePath===i;if(U!==B)return U?-1:1;const X=!!T.label,ee=!!I.label;return X!==ee?X?-1:1:new Date(I.createdAt).getTime()-new Date(T.createdAt).getTime()}),P=[...N].sort((T,I)=>{const U=T.targetKey.filePath===i,B=I.targetKey.filePath===i;if(U!==B)return U?-1:1;const X=!!T.label,ee=!!I.label;return X!==ee?X?-1:1:new Date(I.createdAt).getTime()-new Date(T.createdAt).getTime()});return l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Margin",s!==null&&l.jsxs("span",{className:"ml-2 text-gray-500 dark:text-gray-400",children:["(#",s,")"]})]}),t&&l.jsx(nt,{className:"w-4 h-4 text-gray-400"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[C&&l.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-800/50",children:l.jsxs("h4",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide flex items-center gap-2",children:[l.jsx(JE,{className:"w-3.5 h-3.5"}),"Notes",l.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["(",f.length,")"]})]})}),l.jsx("div",{className:"p-3 space-y-3",children:l.jsx(Nt,{mode:"popLayout",children:f.map(T=>l.jsx(LE,{highlight:T,annotation:g.get(T.id),onUpdateNote:I=>x==null?void 0:x(T.id,I),onDeleteNote:()=>{const I=g.get(T.id);I&&(v==null||v(I.id))},onDeleteHighlight:()=>b==null?void 0:b(T.id),onChangeColor:I=>j==null?void 0:j(T.id,I)},T.id))})})]}),R&&l.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-800/50",children:l.jsxs("h4",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide flex items-center gap-2",children:[l.jsx(eP,{className:"w-3.5 h-3.5"}),"Links",l.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["(",E.length+N.length,")"]})]})}),l.jsxs("div",{className:"p-3 space-y-3",children:[k.length>0&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 flex items-center gap-1",children:[l.jsx(tP,{className:"w-3 h-3"}),"To here (",k.length,")"]}),l.jsx("div",{className:"space-y-2",children:k.map(T=>l.jsx(hg,{link:T,direction:"incoming",onNavigate:()=>o(T.sourceKey.filePath,T.sourceKey.chunkIndex)},T.id))})]}),P.length>0&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 flex items-center gap-1",children:[l.jsx(nP,{className:"w-3 h-3"}),"From here (",P.length,")"]}),l.jsx("div",{className:"space-y-2",children:P.map(T=>l.jsx(hg,{link:T,direction:"outgoing",onNavigate:()=>o(T.targetKey.filePath,T.targetKey.chunkIndex)},T.id))})]})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-800/50",children:l.jsxs("h4",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide flex items-center gap-2",children:[l.jsx(ZE,{className:"w-3.5 h-3.5"}),"Related Content",S.length>0&&l.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["(",S.length,")"]})]})}),l.jsx("div",{className:"p-3 space-y-3",children:l.jsx(Nt,{mode:"popLayout",children:S.length===0&&!t?l.jsxs(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[l.jsx(XE,{}),l.jsx("p",{className:"mt-2 text-sm",children:s!==null?"No related content found":"Scroll to see related content"})]},"empty"):S.map(T=>{const I=`${T.filePath}:${T.chunkIndex}`,U=(d==null?void 0:d.has(I))??!1;return l.jsx(HE,{chunk:T,isPinned:U,onNavigate:()=>o(T.filePath,T.chunkIndex),onOpenSplit:u?()=>u(T.filePath,T.chunkIndex):void 0,onTogglePin:p?()=>p(T.filePath,T.chunkIndex):void 0},I)})})})]})]})]})}function XE(){return l.jsx("svg",{className:"mx-auto h-10 w-10 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}function JE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}function ZE({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}function eP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}function tP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}function nP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})}function hg({link:e,direction:t,onNavigate:s}){const i=mg(t==="incoming"?e.sourceKey.filePath:e.targetKey.filePath),o=t==="incoming"?e.sourceKey.chunkIndex:e.targetKey.chunkIndex,u=t==="incoming"?e.sourceText:e.targetText;return l.jsxs(Pe.button,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},type:"button",onClick:s,className:"w-full text-left p-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 truncate",children:i}),l.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:["#",o]}),e.label&&l.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 rounded",children:e.label})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-2",children:u.slice(0,100)||"No preview available"})]})}function mg(e){const t=e.split(/[/\\]/);return t[t.length-1]||e}const fv={nodeRadius:8,activeNodeRadius:12,currentNodeColor:"#3b82f6",defaultNodeColor:"#9ca3af",pinnedNodeColor:"#10b981",edgeWidth:1.5,pinnedEdgeColor:"#3b82f6",semanticEdgeColor:"#d1d5db",backlinkedgeColor:"#8b5cf6",repulsionStrength:150,attractionStrength:.3,centerGravity:.05,velocityDecay:.4,maxNodes:150,neighborsToShow:10};function rP({graphData:e,config:t,width:s,height:i,enabled:o=!0}){const u={...fv,...t},[d,p]=y.useState([]),[f,g]=y.useState(!1),x=y.useRef(null),v=y.useRef(0);y.useEffect(()=>{const N=s/2,S=i/2,C=e.nodes.map((R,k)=>{const P=d.find(U=>U.id===R.id);if(P&&P.x!==void 0&&P.y!==void 0)return{...R,x:P.x,y:P.y,vx:0,vy:0};const T=k/e.nodes.length*Math.PI*2,I=Math.min(s,i)*.3;return{...R,x:N+Math.cos(T)*I+(Math.random()-.5)*50,y:S+Math.sin(T)*I+(Math.random()-.5)*50,vx:0,vy:0}});p(C),g(!1),v.current=0},[e.nodes.length,s,i]);const b=y.useRef(new Map);y.useEffect(()=>{const N=new Map;for(const S of e.edges){const C=N.get(S.source)||[];C.push(S.target),N.set(S.source,C);const R=N.get(S.target)||[];R.push(S.source),N.set(S.target,R)}b.current=N},[e.edges]);const j=y.useCallback(()=>{if(!o||d.length===0)return!1;const N=s/2,S=i/2;let C=0;const R=d.map(k=>{let P=0,T=0;if(k.fx!==void 0&&k.fx!==null&&k.fy!==void 0&&k.fy!==null)return{...k,x:k.fx,y:k.fy};for(const W of d){if(W.id===k.id)continue;const Y=(k.x??0)-(W.x??0),z=(k.y??0)-(W.y??0),K=Math.sqrt(Y*Y+z*z)||1,J=u.repulsionStrength/(K*K);P+=Y/K*J,T+=z/K*J}const I=b.current.get(k.id)||[];for(const W of I){const Y=d.find(J=>J.id===W);if(!Y)continue;const z=(Y.x??0)-(k.x??0),K=(Y.y??0)-(k.y??0);P+=z*u.attractionStrength,T+=K*u.attractionStrength}P+=(N-(k.x??0))*u.centerGravity,T+=(S-(k.y??0))*u.centerGravity;const U=((k.vx??0)+P)*(1-u.velocityDecay),B=((k.vy??0)+T)*(1-u.velocityDecay),X=(k.x??0)+U,ee=(k.y??0)+B,ae=40,re=Math.max(ae,Math.min(s-ae,X)),H=Math.max(ae,Math.min(i-ae,ee)),F=Math.sqrt(U*U+B*B);return C=Math.max(C,F),{...k,x:re,y:H,vx:U,vy:B}});return p(R),v.current++,C>.5&&v.current<300},[d,o,s,i,u]);y.useEffect(()=>{if(!o){x.current&&cancelAnimationFrame(x.current);return}const N=()=>{j()?x.current=requestAnimationFrame(N):g(!0)};return x.current=requestAnimationFrame(N),()=>{x.current&&cancelAnimationFrame(x.current)}},[j,o]);const E=y.useCallback(()=>{g(!1),v.current=0,p(N=>N.map(S=>({...S,vx:(Math.random()-.5)*10,vy:(Math.random()-.5)*10})))},[]);return{nodes:d,isStable:f,reheat:E}}function sP({graphData:e,currentNodeId:t,pinnedNodeIds:s,onNodeClick:i,config:o}){const u=y.useRef(null),d=y.useRef(null),[p,f]=y.useState({width:600,height:300}),[g,x]=y.useState(null),[v,b]=y.useState(null),[j,E]=y.useState({x:0,y:0}),[N,S]=y.useState(1),C=y.useRef(!1),R=y.useRef({x:0,y:0}),k={...fv,...o},{nodes:P,isStable:T}=rP({graphData:e,config:o,width:p.width,height:p.height,enabled:e.nodes.length>0});y.useEffect(()=>{const F=d.current;if(!F)return;const W=new ResizeObserver(Y=>{const z=Y[0];z&&f({width:z.contentRect.width,height:z.contentRect.height})});return W.observe(F),()=>W.disconnect()},[]);const I=y.useCallback((F,W)=>{const Y=u.current;if(!Y)return{x:0,y:0};const z=Y.getBoundingClientRect(),K=(F-z.left-j.x)/N,J=(W-z.top-j.y)/N;return{x:K,y:J}},[j,N]),U=y.useCallback((F,W)=>{for(const Y of P){if(Y.x===void 0||Y.y===void 0)continue;const z=F-Y.x,K=W-Y.y,J=Y.id===t?k.activeNodeRadius:k.nodeRadius;if(z*z+K*K<=J*J*1.5)return Y}return null},[P,t,k.nodeRadius,k.activeNodeRadius]),B=y.useCallback(F=>{C.current=!0,R.current={x:F.clientX,y:F.clientY}},[]),X=y.useCallback(()=>{C.current=!1},[]),ee=y.useCallback(F=>{if(C.current){const K=F.clientX-R.current.x,J=F.clientY-R.current.y;E(ne=>({x:ne.x+K,y:ne.y+J})),R.current={x:F.clientX,y:F.clientY};return}const{x:W,y:Y}=I(F.clientX,F.clientY),z=U(W,Y);if(x(z),z){const K=u.current;if(K){const J=K.getBoundingClientRect();b({x:F.clientX-J.left,y:F.clientY-J.top,node:z})}}else b(null)},[I,U]),ae=y.useCallback(F=>{const{x:W,y:Y}=I(F.clientX,F.clientY),z=U(W,Y);z&&i&&i(z)},[I,U,i]),re=y.useCallback(F=>{F.preventDefault();const W=F.deltaY>0?.9:1.1;S(Y=>Math.max(.3,Math.min(3,Y*W)))},[]);y.useEffect(()=>{const F=u.current;if(!F)return;const W=F.getContext("2d");if(!W)return;F.width=p.width*window.devicePixelRatio,F.height=p.height*window.devicePixelRatio,W.scale(window.devicePixelRatio,window.devicePixelRatio),W.clearRect(0,0,p.width,p.height),W.save(),W.translate(j.x,j.y),W.scale(N,N);const Y=new Map;for(const z of P)z.x!==void 0&&z.y!==void 0&&Y.set(z.id,{x:z.x,y:z.y});for(const z of e.edges){const K=Y.get(z.source),J=Y.get(z.target);!K||!J||(W.beginPath(),W.moveTo(K.x,K.y),W.lineTo(J.x,J.y),W.strokeStyle=z.type==="pinned"?k.pinnedEdgeColor:z.type==="backlink"?k.backlinkedgeColor:k.semanticEdgeColor,W.lineWidth=z.type==="pinned"?k.edgeWidth*1.5:k.edgeWidth,z.type==="semantic"?W.setLineDash([4,4]):W.setLineDash([]),W.stroke())}W.setLineDash([]);for(const z of P){if(z.x===void 0||z.y===void 0)continue;const K=z.id===t,J=s.has(z.id),ne=(g==null?void 0:g.id)===z.id,O=K?k.activeNodeRadius:k.nodeRadius,q=K?k.currentNodeColor:J?k.pinnedNodeColor:k.defaultNodeColor;W.beginPath(),W.arc(z.x,z.y,ne?O*1.3:O,0,Math.PI*2),W.fillStyle=q,W.fill(),W.strokeStyle=ne?"#fff":"rgba(0,0,0,0.2)",W.lineWidth=ne?2:1,W.stroke(),K&&(W.font="10px sans-serif",W.fillStyle="#fff",W.textAlign="center",W.textBaseline="middle",W.fillText("",z.x,z.y))}W.restore()},[P,e.edges,p,j,N,t,s,g,k]);const H=F=>{const W=F.split(/[/\\]/);return W[W.length-1]||F};return l.jsxs("div",{ref:d,className:"w-full h-full relative bg-gray-100 dark:bg-gray-900 rounded-lg overflow-hidden",children:[l.jsx("canvas",{ref:u,className:"w-full h-full cursor-grab active:cursor-grabbing",style:{width:p.width,height:p.height},onMouseDown:B,onMouseUp:X,onMouseMove:ee,onMouseLeave:()=>{x(null),b(null),C.current=!1},onClick:ae,onWheel:re}),v&&l.jsxs("div",{className:"absolute pointer-events-none z-10 max-w-xs px-3 py-2 text-xs bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 rounded-lg shadow-lg",style:{left:Math.min(v.x+10,p.width-200),top:Math.min(v.y+10,p.height-60)},children:[l.jsx("p",{className:"font-medium truncate",children:H(v.node.filePath)}),l.jsxs("p",{className:"text-gray-300 dark:text-gray-600",children:["Chunk #",v.node.chunkIndex]}),l.jsx("p",{className:"mt-1 line-clamp-2 text-gray-400 dark:text-gray-500",children:v.node.text})]}),l.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-1",children:[l.jsx("button",{type:"button",onClick:()=>S(F=>Math.min(3,F*1.2)),className:"p-1.5 bg-white dark:bg-gray-800 rounded shadow text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Zoom in",children:l.jsx(iP,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:()=>S(F=>Math.max(.3,F*.8)),className:"p-1.5 bg-white dark:bg-gray-800 rounded shadow text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Zoom out",children:l.jsx(aP,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:()=>{E({x:0,y:0}),S(1)},className:"p-1.5 bg-white dark:bg-gray-800 rounded shadow text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",title:"Reset view",children:l.jsx(oP,{className:"w-4 h-4"})}),!T&&l.jsx("span",{className:"p-1.5 text-xs text-gray-500 dark:text-gray-400",children:"Simulating..."})]}),l.jsxs("div",{className:"absolute top-2 left-2 text-xs text-gray-600 dark:text-gray-400 bg-white/80 dark:bg-gray-800/80 px-2 py-1 rounded",children:[l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:k.currentNodeColor}}),"Current"]}),l.jsxs("span",{className:"inline-flex items-center gap-1 ml-3",children:[l.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:k.pinnedNodeColor}}),"Pinned"]}),l.jsxs("span",{className:"inline-flex items-center gap-1 ml-3",children:[l.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:k.defaultNodeColor}}),"Related"]})]})]})}function iP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}function aP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}function oP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}function lP({isOpen:e,onToggle:t,filePath:s,activeChunkIndex:i,relatedChunks:o,pins:u,onNavigateToChunk:d}){const{graphData:p,currentNodeId:f}=zN({filePath:s,activeChunkIndex:i,relatedChunks:o,pins:u}),g=y.useMemo(()=>{const v=new Set;for(const b of u)v.add(`${b.sourceKey.filePath}:${b.sourceKey.chunkIndex}`),v.add(`${b.targetKey.filePath}:${b.targetKey.chunkIndex}`);return v},[u]),x=v=>{d(v.filePath,v.chunkIndex)};return l.jsxs(l.Fragment,{children:[l.jsxs("button",{type:"button",onClick:t,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:e?"Hide knowledge graph":"Show knowledge graph",children:[l.jsx(gg,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Graph"}),p.nodes.length>0&&l.jsxs("span",{className:"text-xs text-gray-400",children:["(",p.nodes.length,")"]})]}),l.jsx(Nt,{children:e&&l.jsx(Pe.div,{initial:{height:0,opacity:0},animate:{height:300,opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"absolute bottom-0 left-0 right-0 z-30 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 overflow-hidden",children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Knowledge Graph",i!==null&&l.jsxs("span",{className:"ml-2 text-gray-500 dark:text-gray-400",children:["(centered on #",i,")"]})]}),l.jsx("button",{type:"button",onClick:t,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded",children:l.jsx(cP,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"flex-1 p-2",children:p.nodes.length===0?l.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:l.jsxs("div",{className:"text-center",children:[l.jsx(gg,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"No graph data available"}),l.jsx("p",{className:"text-xs mt-1",children:"Scroll through the document to load related content"})]})}):l.jsx(sP,{graphData:p,currentNodeId:f,pinnedNodeIds:g,onNodeClick:x})})]})})})]})}function gg({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}function cP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}const uP=[{key:"j",description:"Navigate to next chunk"},{key:"k",description:"Navigate to previous chunk"},{key:"Space",description:"Toggle split view"},{key:"p",description:"Pin top margin suggestion"},{key:"/",description:"Open search"},{key:"?",description:"Show keyboard shortcuts"},{key:"Esc",description:"Close overlays"}];function dP({isOpen:e,onClose:t}){return l.jsx(Nt,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:t}),l.jsx(Pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:s=>s.target===s.currentTarget&&t(),children:l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Keyboard Shortcuts"}),l.jsx("button",{type:"button",onClick:t,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:l.jsx(pP,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"p-4",children:l.jsx("table",{className:"w-full",children:l.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:uP.map(s=>l.jsxs("tr",{className:"group",children:[l.jsx("td",{className:"py-2.5 pr-4",children:l.jsx("kbd",{className:"inline-flex items-center justify-center min-w-[2rem] px-2 py-1 text-sm font-mono font-semibold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded shadow-sm",children:s.key})}),l.jsx("td",{className:"py-2.5 text-sm text-gray-600 dark:text-gray-400",children:s.description})]},s.key))})})}),l.jsx("div",{className:"px-6 py-3 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Shortcuts are disabled when typing in inputs or selecting text"})})]})})]})})}function pP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function fP({isOpen:e,onClose:t}){const{settings:s,setFontSize:i,setLineHeight:o,setFontFamily:u,setShowChunkNumbers:d,resetSettings:p}=dv();return l.jsx(Nt,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:t}),l.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute right-0 top-full mt-2 z-50 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Font Size"}),l.jsx("div",{className:"flex gap-1",children:["sm","base","lg","xl"].map(f=>l.jsxs("button",{type:"button",onClick:()=>i(f),className:`
                        flex-1 px-2 py-1.5 text-sm rounded-md transition-colors
                        ${s.fontSize===f?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 font-medium":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                      `,children:[f==="sm"&&"S",f==="base"&&"M",f==="lg"&&"L",f==="xl"&&"XL"]},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Line Spacing"}),l.jsx("div",{className:"flex gap-1",children:["tight","normal","relaxed"].map(f=>l.jsx("button",{type:"button",onClick:()=>o(f),className:`
                        flex-1 px-2 py-1.5 text-sm rounded-md transition-colors capitalize
                        ${s.lineHeight===f?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 font-medium":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                      `,children:f},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Font"}),l.jsxs("select",{value:s.fontFamily,onChange:f=>u(f.target.value),className:"w-full px-3 py-2 text-sm bg-gray-100 dark:bg-gray-700 border-0 rounded-md text-gray-700 dark:text-gray-300 focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"sans",children:"Sans-serif"}),l.jsx("option",{value:"serif",children:"Serif"}),l.jsx("option",{value:"mono",children:"Monospace"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show chunk numbers"}),l.jsx("button",{type:"button",onClick:()=>d(!s.showChunkNumbers),className:`
                    relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                    ${s.showChunkNumbers?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}
                  `,children:l.jsx("span",{className:`
                      inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                      ${s.showChunkNumbers?"translate-x-6":"translate-x-1"}
                    `})})]}),l.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:l.jsx("button",{type:"button",onClick:p,className:"w-full px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",children:"Reset to defaults"})})]})})]})})}function hP({onClick:e}){return l.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Reader settings",children:[l.jsx(mP,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Display"})]})}function mP({className:e}){return l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function gP({isOpen:e,query:t,matches:s,currentIndex:i,caseSensitive:o,onQueryChange:u,onToggleCaseSensitive:d,onNextMatch:p,onPreviousMatch:f,onGoToMatch:g,onClose:x}){const v=y.useRef(null),b=y.useRef(null);y.useEffect(()=>{e&&requestAnimationFrame(()=>{var E,N;(E=v.current)==null||E.focus(),(N=v.current)==null||N.select()})},[e]),y.useEffect(()=>{if(i>=0&&b.current){const E=b.current.querySelector(`[data-result-index="${i}"]`);E==null||E.scrollIntoView({block:"nearest",behavior:"smooth"})}},[i]);const j=y.useCallback(E=>{switch(E.key){case"Escape":E.preventDefault(),x();break;case"Enter":E.preventDefault(),E.shiftKey?f():p();break;case"n":E.target!==v.current&&(E.preventDefault(),E.shiftKey?f():p());break;case"N":E.target!==v.current&&(E.preventDefault(),f());break}},[x,p,f]);return l.jsx(Nt,{children:e&&l.jsx(Pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"fixed top-16 left-1/2 -translate-x-1/2 z-50 w-full max-w-lg px-4",onKeyDown:j,children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 border-b border-gray-200 dark:border-gray-700",children:[l.jsx(yP,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),l.jsx("input",{ref:v,type:"text",value:t,onChange:E=>u(E.target.value),placeholder:"Search in document...",className:"flex-1 bg-transparent text-gray-900 dark:text-gray-100 placeholder-gray-400 focus:outline-none text-base"}),s.length>0&&l.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap px-2",children:[i+1,"/",s.length]}),l.jsx("button",{type:"button",onClick:d,className:`p-1.5 rounded text-sm font-medium transition-colors ${o?"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:"Case sensitive (Aa)",children:"Aa"}),l.jsxs("div",{className:"flex items-center gap-1 border-l border-gray-200 dark:border-gray-700 pl-2",children:[l.jsx("button",{type:"button",onClick:f,disabled:s.length===0,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-30 disabled:cursor-not-allowed rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Previous match (N)",children:l.jsx(vP,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:p,disabled:s.length===0,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-30 disabled:cursor-not-allowed rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Next match (n)",children:l.jsx(bP,{className:"w-4 h-4"})})]}),l.jsx("button",{type:"button",onClick:x,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Close (Esc)",children:l.jsx(kP,{className:"w-4 h-4"})})]}),t.length>0&&l.jsx("div",{ref:b,className:"max-h-64 overflow-y-auto",children:s.length===0?l.jsx("div",{className:"px-4 py-6 text-center text-gray-500 dark:text-gray-400",children:l.jsx("p",{className:"text-sm",children:"No matches found"})}):l.jsxs("div",{className:"py-1",children:[s.slice(0,50).map((E,N)=>l.jsxs("button",{"data-result-index":N,type:"button",onClick:()=>g(N),className:`w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors ${N===i?"bg-blue-50 dark:bg-blue-900/20 border-l-2 border-blue-500":""}`,children:[l.jsx("div",{className:"flex items-center gap-2 mb-0.5",children:l.jsxs("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:["Chunk #",E.chunkIndex]})}),l.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2",children:xP(E.context,t,o)})]},`${E.chunkIndex}-${E.startOffset}`)),s.length>50&&l.jsxs("div",{className:"px-4 py-2 text-xs text-gray-500 dark:text-gray-400 text-center border-t border-gray-200 dark:border-gray-700",children:["Showing first 50 of ",s.length," matches"]})]})}),t.length===0&&l.jsxs("div",{className:"px-4 py-3 text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-850",children:[l.jsxs("span",{className:"mr-4",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-gray-600 dark:text-gray-300",children:"Enter"})," ","next"]}),l.jsxs("span",{className:"mr-4",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-gray-600 dark:text-gray-300",children:"Shift+Enter"})," ","previous"]}),l.jsxs("span",{children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-gray-600 dark:text-gray-300",children:"Esc"})," ","close"]})]})]})})})}function xP(e,t,s){if(!t)return e;const i=s?t:t.toLowerCase(),u=(s?e:e.toLowerCase()).indexOf(i);if(u===-1)return e;const d=e.slice(0,u),p=e.slice(u,u+t.length),f=e.slice(u+t.length);return l.jsxs(l.Fragment,{children:[d,l.jsx("mark",{className:"bg-orange-200 dark:bg-orange-800/60 rounded px-0.5",children:p}),f]})}function yP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}function vP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}function bP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function kP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function wP({filePath:e,chunkIndex:t,onClose:s,onNavigate:i}){const{chunks:o,isLoading:u,error:d}=rv(e),p=jP(e);return l.jsxs(Pe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"h-full flex flex-col bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",title:e,children:p}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[o.length," chunks  Viewing #",t]})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx("button",{type:"button",onClick:()=>i(e,t),className:"px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:"Open Full"}),l.jsx("button",{type:"button",onClick:s,className:"p-1.5 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Close split view",children:l.jsx(SP,{})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u?l.jsxs("div",{className:"flex items-center justify-center h-32",children:[l.jsx(nt,{className:"w-6 h-6 text-gray-400"}),l.jsx("span",{className:"ml-2 text-gray-500 dark:text-gray-400",children:"Loading document..."})]}):d?l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-400",children:[l.jsx("p",{className:"font-medium",children:"Error loading document"}),l.jsx("p",{className:"text-sm mt-1",children:d.message})]}):l.jsx(pv,{chunks:o,activeChunkIndex:t,onRegisterChunk:()=>{},scrollToChunk:t})})]})}function jP(e){const t=e.split(/[/\\]/);return t[t.length-1]||e}function SP(){return l.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function CP({entries:e,activeChunkIndex:t,onNavigateToChunk:s,isOpen:i,onToggle:o,isFallback:u=!1}){const d=e.findIndex((f,g)=>{const x=e[g+1];return x?f.chunkIndex<=(t??0)&&x.chunkIndex>(t??0):f.chunkIndex<=(t??0)}),p=y.useCallback(f=>{s(f.chunkIndex)},[s]);return l.jsxs(l.Fragment,{children:[l.jsxs("button",{type:"button",onClick:o,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:i?"Hide table of contents":"Show table of contents",children:[l.jsx(EP,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Contents"}),l.jsx(Pe.span,{animate:{rotate:i?180:0},transition:{duration:.2},children:l.jsx(PP,{className:"w-3 h-3"})})]}),l.jsx(Nt,{children:i&&l.jsx(Pe.div,{initial:{width:0,opacity:0},animate:{width:240,opacity:1},exit:{width:0,opacity:0},transition:{duration:.2},className:"fixed left-0 top-16 bottom-0 z-40 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 shadow-lg overflow-hidden",children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Table of Contents"}),u&&l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"(auto)"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:e.length===0?l.jsx("div",{className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:l.jsx("p",{className:"text-sm",children:"No headings detected"})}):l.jsx("nav",{className:"space-y-0.5",children:e.map((f,g)=>l.jsx(NP,{entry:f,isCurrent:g===d,onClick:()=>p(f)},f.id))})})]})})})]})}function NP({entry:e,isCurrent:t,onClick:s}){const i=16+(e.level-1)*12;return l.jsxs("button",{type:"button",onClick:s,className:`
        w-full text-left px-4 py-1.5 text-sm transition-colors
        ${t?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium border-l-2 border-blue-500":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 border-l-2 border-transparent"}
      `,style:{paddingLeft:i},children:[l.jsx("span",{className:"line-clamp-2",children:e.text}),e.type==="allcaps"&&l.jsx("span",{className:"ml-1 text-xs text-gray-400",children:e.chunkIndex})]})}function EP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}function PP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function TP({filePath:e,initialChunkIndex:t,onNavigate:s,onGoHome:i,pinnedChunkKeys:o,onTogglePin:u,onSaveTrail:d}){const[p,f]=y.useState(null),[g,x]=y.useState(()=>{const xe=$u(e);return[{filePath:e,chunkIndex:t,label:xe}]}),[v,b]=y.useState(!1),[j,E]=y.useState(!1),[N,S]=y.useState(!1),[C,R]=y.useState(!1),k=y.useRef(null),{settings:P,cssVariables:T}=dv(),{pins:I,getBacklinks:U,getPinsFromChunk:B}=Ol(),{chunks:X,isLoading:ee,error:ae}=rv(e),{visibleChunkIndices:re,registerChunk:H,activeChunkIndex:F}=xN("100px"),{relatedChunks:W,isLoading:Y}=yN(e,re,300,5),{entries:z,isFallback:K}=LN({chunks:X}),J=y.useCallback(xe=>{const Ie=document.getElementById(`chunk-${xe}`);Ie&&Ie.scrollIntoView({behavior:"smooth",block:"center"})},[]),{searchState:ne,isSearchOpen:O,openSearch:q,closeSearch:ve,setQuery:be,toggleCaseSensitive:Se,nextMatch:ke,previousMatch:Re,goToMatch:Ne,getMatchesForChunk:Ae}=BN({chunks:X,onNavigateToChunk:J}),{restorePosition:Je,hasSavedPosition:rn}=CN({filePath:e,chunks:X,activeChunkIndex:F}),sn=y.useMemo(()=>F!==null?{filePath:e,chunkIndex:F}:null,[e,F]),{highlights:an,annotations:kn,createHighlight:or,deleteHighlight:Qr,updateHighlightColor:$t,addNote:Fn,updateNote:on,deleteNote:Ut}=ON(sn),wn=y.useCallback(xe=>xe===F?an:[],[F,an]),Gr=y.useCallback((xe,Ie,st,Sn,cr,ur)=>{xe===F&&or(Ie,st,Sn,cr,ur)},[F,or]),As=y.useCallback(xe=>{},[]),se=y.useCallback((xe,Ie)=>{const st=kn.get(xe);st?on(st.id,Ie):Fn(xe,Ie)},[kn,on,Fn]),fe=y.useRef(!1);y.useEffect(()=>{if(X.length>0&&!fe.current&&!t){fe.current=!0;const xe=Je();xe&&requestAnimationFrame(()=>{const Ie=document.getElementById(`chunk-${xe.chunkIndex}`);Ie&&Ie.scrollIntoView({behavior:"auto",block:"start"})})}},[X,Je,t]);const Ee=y.useMemo(()=>{if(F===null)return[];const xe=`${e}:${F}`;return W[xe]||[]},[e,F,W]),Fe=y.useCallback((xe,Ie)=>{const st=Ee.find(Sn=>Sn.filePath===xe&&Sn.chunkIndex===Ie);x(Sn=>[...Sn,{filePath:xe,chunkIndex:Ie,label:$u(xe),connectionReason:st==null?void 0:st.connectionReason}]),s(xe,Ie)},[Ee,s]),Qe=y.useCallback((xe,Ie)=>{f({filePath:xe,chunkIndex:Ie})},[]),jn=y.useCallback(xe=>{if(!xe.filePath){i();return}const Ie=g.findIndex(st=>st.filePath===xe.filePath&&st.chunkIndex===xe.chunkIndex);Ie!==-1&&x(st=>st.slice(0,Ie+1)),s(xe.filePath,xe.chunkIndex)},[g,s,i]),Et=N||O||j,ln=y.useMemo(()=>F===null?[]:U({filePath:e,chunkIndex:F}),[e,F,U]),Yr=y.useMemo(()=>F===null?[]:B({filePath:e,chunkIndex:F}),[e,F,B]),lr=y.useCallback(()=>{if(Ee.length>0&&u){const xe=Ee[0];xe&&u(xe.filePath,xe.chunkIndex)}},[Ee,u]),_n=y.useCallback(()=>{if(p)f(null);else if(Ee.length>0){const xe=Ee[0];xe&&Qe(xe.filePath,xe.chunkIndex)}},[p,Ee,Qe]),Xr=y.useCallback(()=>{S(!1),ve(),E(!1)},[ve]);jN({totalChunks:X.length,activeChunkIndex:F,onNavigateToChunk:J,onToggleSplit:_n,onPinTopSuggestion:lr,onOpenSearch:q,onOpenHelp:()=>S(!0),onCloseOverlay:Xr,isOverlayOpen:Et,enabled:!0,isSearchOpen:O,onNextSearchMatch:ke,onPreviousSearchMatch:Re});const zn=$u(e);return l.jsxs("div",{className:"h-full flex flex-col",style:T,children:[l.jsx(IE,{items:g,onNavigate:jn,onSaveTrail:d,canSaveTrail:g.length>1}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v&&l.jsx("div",{className:"w-60 flex-shrink-0"}),l.jsxs("div",{className:`
          flex flex-col overflow-hidden transition-all duration-300
          ${p?"w-[40%]":"w-[60%]"}
        `,children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(CP,{entries:z,activeChunkIndex:F,onNavigateToChunk:J,isOpen:v,onToggle:()=>b(!v),isFallback:K}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",title:e,children:zn}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[X.length," chunks",F!==null&&`  Reading #${F}`,rn&&!t&&l.jsx("span",{className:"ml-2 text-blue-500",children:" Restored"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 relative",children:[l.jsx(lP,{isOpen:C,onToggle:()=>R(!C),filePath:e,activeChunkIndex:F,relatedChunks:Ee,pins:I,onNavigateToChunk:Fe}),l.jsx("button",{type:"button",onClick:()=>S(!0),className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Keyboard shortcuts (?)",children:l.jsx(RP,{className:"w-4 h-4"})}),l.jsx(hP,{onClick:()=>E(!j)}),l.jsx(fP,{isOpen:j,onClose:()=>E(!1)})]})]}),l.jsx("div",{ref:k,className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900",children:ee?l.jsxs("div",{className:"flex items-center justify-center h-32",children:[l.jsx(nt,{className:"w-6 h-6 text-gray-400"}),l.jsx("span",{className:"ml-2 text-gray-500 dark:text-gray-400",children:"Loading document..."})]}):ae?l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-400",children:[l.jsx("p",{className:"font-medium",children:"Error loading document"}),l.jsx("p",{className:"text-sm mt-1",children:ae.message})]}):l.jsx(pv,{chunks:X,activeChunkIndex:F,onRegisterChunk:H,scrollToChunk:t,showChunkNumbers:P.showChunkNumbers,getHighlightsForChunk:wn,onCreateHighlight:Gr,onHighlightClick:As,getSearchMatchesForChunk:Ae,currentSearchIndex:ne.currentIndex})})]}),l.jsx(Nt,{mode:"wait",children:p?l.jsx("div",{className:"w-[60%] border-l border-gray-200 dark:border-gray-700",children:l.jsx(wP,{filePath:p.filePath,chunkIndex:p.chunkIndex,onClose:()=>f(null),onNavigate:(xe,Ie)=>{f(null),Fe(xe,Ie)}})},"split"):l.jsx("div",{className:"w-[40%] border-l border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-850",children:l.jsx(YE,{relatedChunks:Ee,isLoading:Y,activeChunkIndex:F,currentFilePath:e,onNavigateToChunk:Fe,onOpenSplit:Qe,pinnedChunkKeys:o,onTogglePin:u,highlights:an,annotations:kn,onUpdateNote:se,onDeleteNote:Ut,onDeleteHighlight:Qr,onChangeHighlightColor:$t,backlinks:ln,outgoingLinks:Yr})},"margin")})]}),l.jsx(dP,{isOpen:N,onClose:()=>S(!1)}),l.jsx(gP,{isOpen:O,query:ne.query,matches:ne.matches,currentIndex:ne.currentIndex,caseSensitive:ne.caseSensitive,onQueryChange:be,onToggleCaseSensitive:Se,onNextMatch:ke,onPreviousMatch:Re,onGoToMatch:Ne,onClose:ve})]})}function $u(e){const t=e.split(/[/\\]/);return t[t.length-1]||e}function RP({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6m-6 4h6"})})}function DP({currentTrail:e,savedTrails:t,onSaveTrail:s,onLoadTrail:i,onDeleteTrail:o,onClearCurrentTrail:u,onNavigateToStep:d,isOpen:p,onClose:f}){const[g,x]=y.useState(!1),[v,b]=y.useState(""),[j,E]=y.useState("current"),N=()=>{v.trim()&&(s(v.trim()),b(""),x(!1))};return p?l.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:f,children:l.jsxs(Pe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-lg w-full mx-4 max-h-[80vh] flex flex-col",onClick:S=>S.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Trail Manager"}),l.jsx("button",{type:"button",onClick:f,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors",children:l.jsx(MP,{})})]}),l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("button",{type:"button",onClick:()=>E("current"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${j==="current"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Current Trail",e&&l.jsx("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 px-1.5 py-0.5 rounded",children:e.steps.length})]}),l.jsxs("button",{type:"button",onClick:()=>E("saved"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors ${j==="saved"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Saved Trails",t.length>0&&l.jsx("span",{className:"ml-2 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-1.5 py-0.5 rounded",children:t.length})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsx(Nt,{mode:"wait",children:j==="current"?l.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:e?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"space-y-2",children:e.steps.map((S,C)=>l.jsx(LP,{step:S,index:C,isLast:C===e.steps.length-1,onNavigate:()=>d(S.chunkKey.filePath,S.chunkKey.chunkIndex)},`${S.chunkKey.filePath}-${S.chunkKey.chunkIndex}-${C}`))}),l.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("button",{type:"button",onClick:()=>x(!0),disabled:e.steps.length<2,className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Trail"}),l.jsx("button",{type:"button",onClick:u,className:"px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Clear"})]})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[l.jsx(OP,{}),l.jsx("p",{className:"mt-2",children:"No active trail"}),l.jsx("p",{className:"text-sm mt-1",children:"Navigate between documents to start recording"})]})},"current"):l.jsx(Pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:t.length>0?l.jsx("div",{className:"space-y-2",children:t.map(S=>l.jsx(AP,{trail:S,onLoad:()=>{i(S.id),f()},onDelete:()=>o(S.id)},S.id))}):l.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[l.jsx(FP,{}),l.jsx("p",{className:"mt-2",children:"No saved trails"}),l.jsx("p",{className:"text-sm mt-1",children:"Save your explorations to revisit later"})]})},"saved")})}),l.jsx(Nt,{children:g&&l.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/30 flex items-center justify-center rounded-xl",children:l.jsxs(Pe.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white dark:bg-gray-800 rounded-lg p-4 m-4 shadow-lg",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Save Trail"}),l.jsx("input",{type:"text",value:v,onChange:S=>b(S.target.value),placeholder:"Enter trail name...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:S=>{S.key==="Enter"&&N(),S.key==="Escape"&&x(!1)}}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsx("button",{type:"button",onClick:N,disabled:!v.trim(),className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:"Save"}),l.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-3 py-1.5 text-sm font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})})]})}):null}function LP({step:e,index:t,isLast:s,onNavigate:i}){const o=IP(e.chunkKey.filePath);return l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${s?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:t+1}),!s&&l.jsx("div",{className:"w-0.5 h-4 bg-gray-200 dark:bg-gray-700"})]}),l.jsxs("button",{type:"button",onClick:i,className:"flex-1 text-left p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:o}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Chunk #",e.chunkKey.chunkIndex,e.connectionReason&&l.jsxs("span",{className:"ml-2 italic",children:['via "',e.connectionReason,'"']})]})]})]})}function AP({trail:e,onLoad:t,onDelete:s}){const[i,o]=y.useState(!1);return l.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e.name}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[e.steps.length," steps "," ",new Date(e.updatedAt).toLocaleDateString()]})]}),l.jsx("div",{className:"flex items-center gap-1",children:i?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:s,className:"px-2 py-1 text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/30 rounded hover:bg-red-100 dark:hover:bg-red-900/50 transition-colors",children:"Delete"}),l.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:t,className:"px-2 py-1 text-xs font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",children:"Load"}),l.jsx("button",{type:"button",onClick:()=>o(!0),className:"px-2 py-1 text-xs font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:"Delete"})]})})]})})}function IP(e){const t=e.split(/[/\\]/);return t[t.length-1]||e}function MP(){return l.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function OP(){return l.jsx("svg",{className:"mx-auto h-10 w-10 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}function FP(){return l.jsx("svg",{className:"mx-auto h-10 w-10 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}function _P(e){try{let t=e.replace(/-/g,"+").replace(/_/g,"/");const s=t.length%4;s>0&&(t+="=".repeat(4-s));const i=atob(t),o=JSON.parse(i);return o.v!==1?(console.error("Unsupported trail version:",o.v),null):!o.vault||!Array.isArray(o.steps)?(console.error("Invalid trail structure"),null):o}catch(t){return console.error("Failed to decode trail:",t),null}}function zP(){const e=window.location.hash;return e.startsWith("#trail=")?e.slice(7):null}function VP(e,t){const s=[],i=[];if(e.vault!==t.currentVaultId&&s.push(`This trail was created in a different vault (${e.vault}). Some steps may not be available.`),e.steps.length===0)return i.push("Trail has no steps"),{success:!1,warnings:s,errors:i};const u=[],d=[];for(const f of e.steps)if(!(!f.p||typeof f.c!="number")){if(t.checkFileExists&&!t.checkFileExists(f.p)){d.push(f.p);continue}u.push({chunkKey:{filePath:f.p,chunkIndex:f.c},visitedAt:new Date().toISOString()})}if(d.length>0){const f=[...new Set(d)];s.push(`${f.length} file(s) not found and will be skipped: ${f.slice(0,3).join(", ")}${f.length>3?"...":""}`)}return u.length===0?(i.push("No valid steps found in trail"),{success:!1,warnings:s,errors:i}):{success:!0,trail:{id:crypto.randomUUID(),name:"Imported Trail",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),steps:u},warnings:s,errors:i}}function BP(){const[e]=jx(),t=Ei(),[s,i]=y.useState(!1),[o,u]=y.useState(!1),[d,p]=y.useState(null),f=e.get("path"),g=e.get("chunk"),x=g?Number.parseInt(g,10):void 0,{pinnedChunkKeys:v,togglePin:b}=kN(),{currentTrail:j,savedTrails:E,addStep:N,saveTrail:S,loadTrail:C,deleteTrail:R,clearCurrentTrail:k}=wN();y.useEffect(()=>{const ee=zP();if(!ee)return;const ae=_P(ee);if(!ae)return;const re=VP(ae,{currentVaultId:"default"});p({decoded:ae,validation:re}),u(!0),window.history.replaceState(null,"",window.location.pathname+window.location.search)},[]);const P=y.useCallback((ee,ae)=>{const re=new URLSearchParams({path:ee});ae!==void 0&&re.set("chunk",String(ae)),t(`/read?${re.toString()}`),N({filePath:ee,chunkIndex:ae??0})},[t,N]),T=y.useCallback(()=>{t("/")},[t]),I=y.useCallback((ee,ae)=>{!f||x===void 0||b({filePath:f,chunkIndex:x},{filePath:ee,chunkIndex:ae},"","",void 0)},[f,x,b]),U=y.useCallback(()=>{i(!0)},[]),B=y.useCallback(()=>{if(!(d!=null&&d.validation.trail))return;const ee=d.validation.trail;if(ee.steps.length>0){const ae=ee.steps[0];if(ae){for(const re of ee.steps)N(re.chunkKey);t(`/read?path=${encodeURIComponent(ae.chunkKey.filePath)}&chunk=${ae.chunkKey.chunkIndex}`)}}u(!1),p(null)},[d,N,t]),X=y.useCallback(()=>{u(!1),p(null)},[]);return f?l.jsxs("div",{className:"h-[calc(100vh-4rem)]",children:[l.jsx(TP,{filePath:f,initialChunkIndex:x,onNavigate:P,onGoHome:T,pinnedChunkKeys:v,onTogglePin:I,onSaveTrail:U}),l.jsx(DP,{currentTrail:j,savedTrails:E,onSaveTrail:S,onLoadTrail:ee=>{const ae=C(ee);if(ae&&ae.steps.length>0){const re=ae.steps[0];re&&P(re.chunkKey.filePath,re.chunkKey.chunkIndex)}},onDeleteTrail:R,onClearCurrentTrail:k,onNavigateToStep:P,isOpen:s,onClose:()=>i(!1)}),l.jsx(Nt,{children:o&&d&&l.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:X,children:l.jsxs(Pe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full mx-4 p-6",onClick:ee=>ee.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-lg",children:l.jsx($P,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Import Shared Trail"}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.decoded.steps.length," steps"]})]})]}),d.validation.warnings.length>0&&l.jsx("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg",children:l.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:d.validation.warnings[0]})}),d.validation.errors.length>0&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:d.validation.errors[0]})}),d.validation.success&&d.validation.trail&&l.jsxs("div",{className:"mb-4 max-h-48 overflow-y-auto",children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Trail steps:"}),l.jsxs("div",{className:"space-y-1",children:[d.validation.trail.steps.slice(0,5).map((ee,ae)=>l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsxs("span",{className:"text-gray-400 w-4",children:[ae+1,"."]}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:ee.chunkKey.filePath.split("/").pop()}),l.jsxs("span",{className:"text-gray-400 text-xs",children:["#",ee.chunkKey.chunkIndex]})]},`${ee.chunkKey.filePath}::${ee.chunkKey.chunkIndex}`)),d.validation.trail.steps.length>5&&l.jsxs("p",{className:"text-xs text-gray-400 pl-6",children:["+",d.validation.trail.steps.length-5," more steps"]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:X,className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),d.validation.success&&l.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 text-sm text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Import & Navigate"})]})]})})})]}):l.jsx("div",{className:"max-w-4xl mx-auto py-12",children:l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"No document selected"}),l.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mb-4",children:"Please select a document from the search results or files page to read."}),l.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Go to Search"})]})})}function $P({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}function UP({result:e,isOpen:t,onClose:s}){const[i,o]=y.useState(!1),u=e.source||e.filePath,d=y.useRef(null);y.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]);const p=async()=>{try{await navigator.clipboard.writeText(e.text),o(!0),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>o(!1),2e3)}catch{}};return l.jsx(k4,{isOpen:t,onClose:s,title:"Document Preview",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Source:"}),l.jsx("p",{className:"font-medium text-gray-900 break-all",children:u})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Chunk:"}),l.jsxs("p",{className:"font-medium text-gray-900",children:["#",e.chunkIndex]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Score:"}),l.jsx("p",{className:"font-medium text-gray-900",children:e.score.toFixed(4)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"File Path:"}),l.jsx("p",{className:"font-medium text-gray-900 break-all truncate",title:e.filePath,children:e.filePath})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Content"}),l.jsx("button",{type:"button",onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded hover:bg-gray-200 transition-colors",children:i?l.jsxs(l.Fragment,{children:[l.jsx(KP,{}),"Copied"]}):l.jsxs(l.Fragment,{children:[l.jsx(WP,{}),"Copy"]})})]}),l.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:e.text})})]})]})})}function WP(){return l.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}function KP(){return l.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function HP({onSearch:e,isLoading:t}){const[s,i]=y.useState(""),[o,u]=y.useState(10),d=p=>{p.preventDefault(),s.trim()&&e(s.trim(),o)};return l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"query",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Query"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",id:"query",value:s,onChange:p=>i(p.target.value),placeholder:"Enter your search query...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",disabled:t}),l.jsx("button",{type:"submit",disabled:t||!s.trim(),className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?"Searching...":"Search"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("label",{htmlFor:"limit",className:"text-sm text-gray-600",children:"Results limit:"}),l.jsxs("select",{id:"limit",value:o,onChange:p=>u(Number(p.target.value)),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[l.jsx("option",{value:5,children:"5"}),l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"})]})]})]})}function qP({results:e,hasSearched:t}){const[s,i]=y.useState(null),o=Ei(),u=d=>{const p=new URLSearchParams({path:d.filePath});p.set("chunk",String(d.chunkIndex)),o(`/read?${p.toString()}`)};return t?e.length===0?l.jsx(b4,{icon:l.jsx(GP,{}),title:"No results found",description:"Try different keywords or a broader query."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:["Results (",e.length,")"]}),l.jsx("div",{className:"space-y-3",children:e.map((d,p)=>l.jsx(QP,{result:d,rank:p+1,onView:()=>i(d),onRead:()=>u(d)},`${d.filePath}-${d.chunkIndex}`))}),s&&l.jsx(UP,{result:s,isOpen:!0,onClose:()=>i(null)})]}):null}function QP({result:e,rank:t,onView:s,onRead:i}){const o=e.source||e.filePath,u=JP(e.score);return l.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-400 dark:text-gray-500",children:["#",t]}),l.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",title:o,children:YP(o)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${u}`,title:`Distance score: ${e.score.toFixed(4)}`,children:XP(e.score)}),l.jsx("button",{type:"button",onClick:i,className:"px-2 py-1 text-xs font-medium text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded transition-colors",children:"Read"}),l.jsx("button",{type:"button",onClick:s,className:"px-2 py-1 text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",children:"View"})]})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 whitespace-pre-wrap line-clamp-4",children:e.text}),l.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-400 dark:text-gray-500",children:[l.jsxs("span",{children:["Chunk #",e.chunkIndex]}),e.source&&l.jsx("span",{className:"truncate",title:e.filePath,children:e.filePath.split("/").pop()})]})]})}function GP(){return l.jsx("svg",{className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}function YP(e){if(e.startsWith("/")||e.includes("\\"))return e.split(/[/\\]/).pop()||e;if(e.startsWith("http"))try{const t=new URL(e);return t.hostname+t.pathname.slice(0,30)+(t.pathname.length>30?"...":"")}catch{return`${e.slice(0,40)}...`}return e}function XP(e){return e<.3?"Excellent":e<.5?"Good":e<.7?"Fair":"Low"}function JP(e){return e<.3?"bg-green-100 text-green-800":e<.5?"bg-blue-100 text-blue-800":e<.7?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}function ZP(){const{results:e,search:t,isLoading:s,error:i,hasSearched:o}=hN();return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Search Documents"}),l.jsx("p",{className:"text-gray-600",children:"Search through your ingested documents using semantic and keyword matching."})]}),l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:l.jsx(HP,{onSearch:t,isLoading:s})}),i&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:[l.jsx("p",{className:"font-medium",children:"Search Error"}),l.jsx("p",{className:"text-sm",children:i.message})]}),!s&&!o&&!i&&l.jsx("div",{className:"text-center py-12 text-gray-500",children:l.jsx("p",{children:"Enter a search query to find relevant documents."})}),l.jsx(qP,{results:e,hasSearched:o&&!s})]})}function Pp({isOpen:e,onClose:t,onSelect:s,initialPath:i,title:o="Select Folder"}){const{preferences:u,setLastBrowsedPath:d,setShowHiddenFiles:p}=Tl(),[f,g]=y.useState(i||u.lastBrowsedPath||"/"),{browse:x,isLoading:v,data:b,error:j}=J4();y.useEffect(()=>{if(e){const k=i||u.lastBrowsedPath||"/";g(k),x(k,u.showHiddenFiles)}},[e,i,u.lastBrowsedPath,u.showHiddenFiles,x]);const E=k=>{g(k),d(k),x(k,u.showHiddenFiles)},N=()=>{const k=f.split("/").slice(0,-1).join("/")||"/";E(k)},S=()=>{d(f),s(f),t()},C=()=>{const k=!u.showHiddenFiles;p(k),x(f,k)};if(!e)return null;const R=f.split("/").filter(Boolean);return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o}),l.jsx("button",{type:"button",onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:l.jsx(t3,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"flex items-center gap-1 px-4 py-2 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[l.jsx("button",{type:"button",onClick:()=>E("/"),className:"px-2 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"/"}),R.map((k,P)=>{const T=`/${R.slice(0,P+1).join("/")}`;return l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"text-gray-400",children:"/"}),l.jsx("button",{type:"button",onClick:()=>E(T),className:"px-2 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded truncate max-w-32",children:k})]},T)})]}),l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-amber-50 dark:bg-amber-900/20 border-b border-amber-100 dark:border-amber-800/30",children:[l.jsx("span",{className:"text-sm text-amber-800 dark:text-amber-200 font-mono truncate flex-1",children:f}),l.jsxs("label",{className:"flex items-center gap-2 ml-4 cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:u.showHiddenFiles,onChange:C,className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600 text-amber-600 focus:ring-amber-500 dark:bg-gray-700"}),l.jsx("span",{className:"text-xs text-amber-700 dark:text-amber-300 whitespace-nowrap",children:"Show hidden"})]})]}),l.jsx("div",{className:"flex-1 overflow-auto p-2 min-h-[300px] bg-white dark:bg-gray-800",children:v?l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(nt,{className:"text-gray-400"}),l.jsx("span",{className:"ml-3 text-gray-500 dark:text-gray-400",children:"Loading..."})]}):j?l.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg",children:[l.jsx("p",{className:"font-medium",children:"Error"}),l.jsx("p",{className:"text-sm",children:j.message})]}):l.jsxs("div",{className:"space-y-1",children:[f!=="/"&&l.jsxs("button",{type:"button",onClick:N,className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[l.jsx(r3,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:".."})]}),b==null?void 0:b.entries.map(k=>l.jsx(e3,{entry:k,onNavigate:E},k.path)),(b==null?void 0:b.entries.length)===0&&l.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"This directory is empty"})]})}),l.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),l.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-sm font-medium text-white bg-amber-600 rounded-lg hover:bg-amber-700 transition-colors",children:"Select This Folder"})]})]})})}function e3({entry:e,onNavigate:t}){const s=e.name.startsWith(".");return e.isDirectory?l.jsxs("button",{type:"button",onClick:()=>t(e.path),className:`w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors ${s?"opacity-60":""}`,children:[l.jsx(n3,{className:"w-5 h-5 text-amber-500"}),l.jsx("span",{className:"text-gray-900 dark:text-white truncate",children:e.name})]}):l.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 ${s?"opacity-50":""} text-gray-400 dark:text-gray-500`,children:[l.jsx(s3,{className:"w-5 h-5"}),l.jsx("span",{className:"truncate",children:e.name})]})}function t3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function n3({className:e}){return l.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}function r3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2zM12 11v6m0-6l-3 3m3-3l3 3"})})}function s3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}function i3({data:e,isLoading:t,onAdd:s,onRemove:i,isAdding:o,isRemoving:u}){const[d,p]=y.useState(!1),[f,g]=y.useState(null),x=C=>{g(C),i(C)},v=C=>{s(C)},b=C=>(e==null?void 0:e.userRoots.includes(C))??!1,j=C=>(e==null?void 0:e.envRoots.includes(C))??!1,E=C=>C===(e==null?void 0:e.baseDir),N=C=>E(C)?"Base Dir":j(C)?"Env":b(C)?"Custom":"",S=C=>E(C)?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":j(C)?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":b(C)?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300";return l.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/30 rounded-lg",children:l.jsx(a3,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Allowed Scan Roots"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Directories where database scanning is permitted"})]})]}),l.jsx("button",{type:"button",onClick:()=>p(!0),disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:o?l.jsxs(l.Fragment,{children:[l.jsx(nt,{size:"sm"}),"Adding..."]}):l.jsxs(l.Fragment,{children:[l.jsx(o3,{className:"w-4 h-4"}),"Add Root"]})})]}),t?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx(nt,{className:"text-gray-400"}),l.jsx("span",{className:"ml-3 text-gray-500 dark:text-gray-400",children:"Loading allowed roots..."})]}):l.jsxs("div",{className:"space-y-2",children:[e==null?void 0:e.roots.map(C=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[l.jsx(l3,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),l.jsx("span",{className:"font-mono text-sm text-gray-700 dark:text-gray-300 truncate",title:C,children:C}),l.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full flex-shrink-0 ${S(C)}`,children:N(C)})]}),b(C)&&l.jsx("button",{type:"button",onClick:()=>x(C),disabled:u,className:"ml-4 p-1 text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Remove this root",children:u&&f===C?l.jsx(nt,{size:"sm"}):l.jsx(c3,{className:"w-4 h-4"})})]},C)),(e==null?void 0:e.roots.length)===0&&l.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No allowed roots configured"})]}),l.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{className:"text-gray-700 dark:text-gray-300",children:"Base Dir:"})," Current database directory (always allowed)"]}),l.jsxs("p",{children:[l.jsx("strong",{className:"text-gray-700 dark:text-gray-300",children:"Env:"})," Set via ALLOWED_SCAN_ROOTS environment variable"]}),l.jsxs("p",{children:[l.jsx("strong",{className:"text-gray-700 dark:text-gray-300",children:"Custom:"})," User-added roots (can be removed)"]})]}),l.jsx(Pp,{isOpen:d,onClose:()=>p(!1),onSelect:v,title:"Add Allowed Root"})]})}function a3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}function o3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}function l3({className:e}){return l.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}function c3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function u3({models:e,value:t,onChange:s,isLoading:i=!1,disabled:o=!1,label:u="Embedding Model",id:d="model-selector"}){const p=e.find(f=>f.id===t)||e.find(f=>f.isDefault);return l.jsxs("div",{children:[u&&l.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:u}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{id:d,value:t||(p==null?void 0:p.id)||"",onChange:f=>s(f.target.value),disabled:o||i,className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed appearance-none pr-10",children:i?l.jsx("option",{children:"Loading models..."}):e.map(f=>l.jsxs("option",{value:f.id,children:[f.name," ",f.isDefault?"(default)":""]},f.id))}),l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:i?l.jsx(nt,{size:"sm",className:"text-gray-400"}):l.jsx(d3,{className:"w-4 h-4 text-gray-400"})})]}),p&&l.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:p.description})]})}function d3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function p3({onCreate:e,isLoading:t,error:s}){var S;const[i,o]=y.useState(""),[u,d]=y.useState(""),[p,f]=y.useState(!1),[g,x]=y.useState(!1),{models:v,isLoading:b}=Z4(),j=((S=v.find(C=>C.isDefault))==null?void 0:S.id)||"",E=C=>{C.preventDefault(),i.trim()&&(e(i.trim(),void 0,u||j),o(""),d(""),f(!1))},N=C=>{o(C)};return l.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/30 rounded-lg",children:l.jsx(f3,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Create Database"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Create a new RAG database"})]})]}),p?l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dbPath",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Database Path"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",id:"dbPath",value:i,onChange:C=>o(C.target.value),placeholder:"/path/to/new-database",className:"flex-1 px-3 py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:t}),l.jsx("button",{type:"button",onClick:()=>x(!0),disabled:t,className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Browse folders",children:l.jsx(h3,{className:"w-5 h-5"})})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Enter the full path where you want to create the database"})]}),l.jsx(u3,{models:v,value:u||j,onChange:d,isLoading:b,disabled:t}),s&&l.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 text-sm text-red-700 dark:text-red-300",children:s.message}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"submit",disabled:t||!i.trim(),className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?l.jsxs("span",{className:"flex items-center justify-center gap-2",children:[l.jsx(nt,{size:"sm"}),"Creating..."]}):"Create Database"}),l.jsx("button",{type:"button",onClick:()=>{f(!1),o(""),d("")},disabled:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 transition-colors",children:"Cancel"})]})]}):l.jsx("button",{type:"button",onClick:()=>f(!0),className:"w-full px-4 py-3 text-sm font-medium text-purple-700 dark:text-purple-300 bg-purple-50 dark:bg-purple-900/30 border border-purple-200 dark:border-purple-700 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/50 transition-colors",children:"+ Create New Database"}),l.jsx(Pp,{isOpen:g,onClose:()=>x(!1),onSelect:N,title:"Select Database Location"})]})}function f3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}function h3({className:e}){return l.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}const m3=[{value:0,label:"Off"},{value:3e4,label:"30s"},{value:6e4,label:"1m"},{value:3e5,label:"5m"}];function g3({config:e,onRefresh:t,isFetching:s}){const{preferences:i,setStatsRefreshInterval:o}=Tl();return l.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-green-50 dark:bg-green-900/30 rounded-lg",children:l.jsx(x3,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Current Database"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active RAG database"})]})]}),t&&l.jsx("button",{type:"button",onClick:t,disabled:s,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",title:"Refresh stats",children:s?l.jsx(nt,{size:"sm"}):l.jsx(y3,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Name"}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),l.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Path"}),l.jsx("span",{className:"font-mono text-sm text-gray-900 dark:text-gray-200 max-w-xs truncate",title:e.dbPath,children:e.dbPath})]}),l.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Model"}),l.jsx("span",{className:"font-mono text-sm text-gray-900 dark:text-gray-200",children:e.modelName})]}),l.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Documents"}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.documentCount})]}),l.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Chunks"}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.chunkCount})]}),l.jsxs("div",{className:"flex justify-between items-center py-2",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Auto-refresh"}),l.jsx("div",{className:"flex items-center gap-1 p-0.5 bg-gray-100 dark:bg-gray-700 rounded-lg",children:m3.map(({value:u,label:d})=>l.jsx("button",{type:"button",onClick:()=>o(u),className:`px-2 py-1 text-xs font-medium rounded transition-all ${i.statsRefreshInterval===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:d},u))})]})]})]})}function x3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}function y3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}function v3(e){const t=new Date(e),i=new Date().getTime()-t.getTime();if(i<6e4)return"Just now";if(i<36e5){const o=Math.floor(i/6e4);return`${o} minute${o>1?"s":""} ago`}if(i<864e5){const o=Math.floor(i/36e5);return`${o} hour${o>1?"s":""} ago`}if(i<6048e5){const o=Math.floor(i/864e5);return`${o} day${o>1?"s":""} ago`}return t.toLocaleDateString()}function b3(e){const t=Math.floor(e/86400),s=Math.floor(e%86400/3600),i=Math.floor(e%3600/60),o=Math.floor(e%60),u=[];return t>0&&u.push(`${t}d`),s>0&&u.push(`${s}h`),i>0&&u.push(`${i}m`),(o>0||u.length===0)&&u.push(`${o}s`),u.join(" ")}function k3(e){if(e===0)return"0 B";const t=["B","KB","MB","GB","TB"],s=1024,i=Math.floor(Math.log(e)/Math.log(s));return`${(e/s**i).toFixed(i===0?0:1)} ${t[i]}`}function w3({databases:e,currentDbPath:t,onSwitch:s,isLoading:i}){const[o,u]=y.useState(null),d=f=>{u(f),s(f)},p=e.filter(f=>f.path!==t);return p.length===0?l.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:l.jsx(xg,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Recent Databases"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Switch between databases"})]})]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No other databases available. Create a new database or scan for existing ones."})]}):l.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:l.jsx(xg,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Recent Databases"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Switch between databases"})]})]}),l.jsx("div",{className:"space-y-2",children:p.map(f=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:f.name}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono truncate max-w-xs",title:f.path,children:f.path}),l.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Last used: ",v3(f.lastAccessed)]})]}),l.jsx("button",{type:"button",onClick:()=>d(f.path),disabled:i,className:"ml-4 px-4 py-2 text-sm font-medium text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i&&o===f.path?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(nt,{size:"sm"}),"Switching..."]}):"Switch"})]},f.path))})]})}function xg({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}function j3(){const e=y.useRef(null),{exportConfigAsync:t,isLoading:s}=eN(),{importConfig:i,isLoading:o}=tN(),{addToast:u}=On(),{exportLinks:d,importLinks:p}=Ol(),{exportAnnotations:f,importAnnotations:g}=av(),{exportCollections:x,importCollections:v}=Ep(),{exportTags:b,importTags:j}=lv(),[E,N]=y.useState(!1),[S,C]=y.useState({includeLinks:!0,includeAnnotations:!0,includeCollections:!0,includeTags:!0,includeServerConfig:!0}),[R,k]=y.useState(!1),[P,T]=y.useState("merge"),[I,U]=y.useState(null),[B,X]=y.useState(!1),ee=y.useCallback(async()=>{X(!0);try{const H={version:1,exportedAt:new Date().toISOString(),vaultId:"default",data:{}};if(S.includeLinks&&(H.data.links=JSON.parse(d())),S.includeAnnotations&&(H.data.annotations=JSON.parse(f())),S.includeCollections&&(H.data.collections=JSON.parse(x())),S.includeTags&&(H.data.tags=JSON.parse(b())),S.includeServerConfig)try{H.data.serverConfig=await t()}catch{}const F=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),W=URL.createObjectURL(F),Y=document.createElement("a");Y.href=W,Y.download=`rag-vault-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(W),u({type:"success",title:"Export complete",message:"Your vault data has been exported"}),N(!1)}catch(H){u({type:"error",title:"Export failed",message:H instanceof Error?H.message:"Unknown error"})}finally{X(!1)}},[S,d,f,x,b,t,u]),ae=y.useCallback(async H=>{var W;const F=(W=H.target.files)==null?void 0:W[0];if(F){try{const Y=await F.text(),z=JSON.parse(Y);if(z.version===1&&z.data)U(z),k(!0);else if(z.version&&z.allowedRoots)i(z),u({type:"success",title:"Config imported",message:"Server configuration has been restored"});else throw new Error("Unrecognized file format")}catch(Y){u({type:"error",title:"Failed to import",message:Y instanceof Error?Y.message:"Invalid file format"})}e.current&&(e.current.value="")}},[i,u]),re=y.useCallback(async()=>{if(!I)return;X(!0);const H=[];let F=0;try{const{data:W}=I;if(W.links){const{imported:Y,errors:z}=p(JSON.stringify(W.links));F+=Y,z.length>0&&H.push(`Links: ${z.join(", ")}`)}if(W.annotations){const{imported:Y,errors:z}=g(JSON.stringify(W.annotations));F+=Y,z.length>0&&H.push(`Annotations: ${z.join(", ")}`)}if(W.collections){const{imported:Y,errors:z}=v(JSON.stringify(W.collections));F+=Y,z.length>0&&H.push(`Collections: ${z.join(", ")}`)}if(W.tags){const{imported:Y,errors:z}=j(JSON.stringify(W.tags));F+=Y,z.length>0&&H.push(`Tags: ${z.join(", ")}`)}if(W.serverConfig)try{i(W.serverConfig),H.push("Server config restored")}catch{H.push("Server config: import failed")}u({type:"success",title:"Import complete",message:`Imported ${F} items`})}catch(W){u({type:"error",title:"Import failed",message:W instanceof Error?W.message:"Unknown error"})}finally{X(!1),k(!1),U(null)}},[I,P,p,g,v,j,i,u]);return l.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/30 rounded-lg",children:l.jsx(S3,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Export / Import"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Backup and restore your vault data"})]})]}),E&&l.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-750 rounded-lg border border-gray-200 dark:border-gray-600",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select data to export"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:S.includeLinks,onChange:H=>C(F=>({...F,includeLinks:H.target.checked})),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Links, trails & bookmarks"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:S.includeAnnotations,onChange:H=>C(F=>({...F,includeAnnotations:H.target.checked})),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Highlights & annotations"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:S.includeCollections,onChange:H=>C(F=>({...F,includeCollections:H.target.checked})),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Collections"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:S.includeTags,onChange:H=>C(F=>({...F,includeTags:H.target.checked})),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Tags"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:S.includeServerConfig,onChange:H=>C(F=>({...F,includeServerConfig:H.target.checked})),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Server config"})]})]}),l.jsxs("div",{className:"mt-4 flex gap-2",children:[l.jsxs("button",{type:"button",onClick:ee,disabled:B,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:[B?l.jsx(nt,{size:"sm"}):l.jsx(yg,{className:"w-4 h-4"}),"Export"]}),l.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"})]})]}),R&&I&&l.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-750 rounded-lg border border-gray-200 dark:border-gray-600",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Import vault backup"}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:["From: ",new Date(I.exportedAt).toLocaleDateString()]}),l.jsxs("div",{className:"mb-3 text-xs text-gray-600 dark:text-gray-400",children:[l.jsx("p",{className:"font-medium mb-1",children:"Contains:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[I.data.links&&l.jsx("li",{children:"Links, trails & bookmarks"}),I.data.annotations&&l.jsx("li",{children:"Highlights & annotations"}),I.data.collections&&l.jsx("li",{children:"Collections"}),I.data.tags&&l.jsx("li",{children:"Tags"}),I.data.serverConfig&&l.jsx("li",{children:"Server config"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Import strategy"}),l.jsxs("select",{value:P,onChange:H=>T(H.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[l.jsx("option",{value:"merge",children:"Merge (skip duplicates)"}),l.jsx("option",{value:"overwrite",children:"Add all (may create duplicates)"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"button",onClick:re,disabled:B,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:[B?l.jsx(nt,{size:"sm"}):l.jsx(vg,{className:"w-4 h-4"}),"Import"]}),l.jsx("button",{type:"button",onClick:()=>{k(!1),U(null)},className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"})]})]}),!E&&!R&&l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("button",{type:"button",onClick:()=>N(!0),disabled:s||B,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?l.jsxs(l.Fragment,{children:[l.jsx(nt,{size:"sm"}),"Exporting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(yg,{className:"w-4 h-4"}),"Export Vault"]})}),l.jsx("button",{type:"button",onClick:()=>{var H;return(H=e.current)==null?void 0:H.click()},disabled:o||B,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-indigo-700 dark:text-indigo-300 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-700 rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?l.jsxs(l.Fragment,{children:[l.jsx(nt,{size:"sm"}),"Importing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(vg,{className:"w-4 h-4"}),"Import Backup"]})}),l.jsx("input",{ref:e,type:"file",accept:".json",onChange:ae,className:"hidden"})]}),l.jsx("p",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:"Export saves all your vault data including links, annotations, collections, and tags. Import restores from a previously exported backup."})]})}function S3({className:e}){return l.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function yg({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}function vg({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}function C3({onScan:e,onSwitch:t,isScanning:s,isSwitching:i,scanResults:o,error:u,onReset:d}){const[p,f]=y.useState(""),[g,x]=y.useState(null),[v,b]=y.useState(!1),j=C=>{C.preventDefault(),p.trim()&&e(p.trim())},E=C=>{x(C),t(C)},N=()=>{f(""),d()},S=C=>{f(C)};return l.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/30 rounded-lg",children:l.jsx(N3,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Scan for Databases"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Find existing RAG databases"})]})]}),l.jsx("form",{onSubmit:j,className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("label",{htmlFor:"scanPath",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Directory to Scan"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",id:"scanPath",value:p,onChange:C=>f(C.target.value),placeholder:"/path/to/scan",className:"flex-1 px-3 py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-amber-500 focus:border-transparent",disabled:s}),l.jsx("button",{type:"button",onClick:()=>b(!0),disabled:s,className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Browse folders",children:l.jsx(E3,{className:"w-5 h-5"})}),l.jsx("button",{type:"submit",disabled:s||!p.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-amber-600 rounded-lg hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(nt,{size:"sm"}),"Scanning..."]}):"Scan"})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Searches the directory and up to 2 levels of subdirectories"})]})}),u&&l.jsx("div",{className:"mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 text-sm text-red-700 dark:text-red-300",children:u.message}),o&&l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Found ",o.length," database",o.length!==1?"s":""]}),l.jsx("button",{type:"button",onClick:N,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:"Clear results"})]}),o.length===0?l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 py-2",children:"No databases found in this directory."}):l.jsx("div",{className:"space-y-2",children:o.map(C=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:C.name}),C.isKnown&&l.jsx("span",{className:"px-2 py-0.5 text-xs font-medium text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/30 rounded-full",children:"Known"})]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono truncate max-w-xs",title:C.path,children:C.path})]}),l.jsx("button",{type:"button",onClick:()=>E(C.path),disabled:i,className:"ml-4 px-4 py-2 text-sm font-medium text-amber-700 dark:text-amber-300 bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700 rounded-lg hover:bg-amber-100 dark:hover:bg-amber-900/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i&&g===C.path?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(nt,{size:"sm"}),"Switching..."]}):"Use"})]},C.path))})]}),l.jsx(Pp,{isOpen:v,onClose:()=>b(!1),onSelect:S,title:"Select Directory to Scan"})]})}function N3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}function E3({className:e}){return l.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}const P3={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},ni={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:[.25,.1,.25,1]}}};function T3(){const{preferences:e}=Tl(),{config:t,isLoading:s,error:i,refetch:o,isFetching:u}=tv(e.statsRefreshInterval),{databases:d,isLoading:p}=K4(),{switchDatabase:f,isLoading:g}=H4(),{createDatabase:x,isLoading:v,error:b}=q4(),{scan:j,isLoading:E,data:N,error:S,reset:C}=Q4(),{data:R,isLoading:k}=G4(),{addRoot:P,isLoading:T}=Y4(),{removeRoot:I,isLoading:U}=X4(),B=ae=>{f(ae)},X=(ae,re,H)=>{x({dbPath:ae,modelName:H})},ee=ae=>{j(ae)};return l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Settings"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your RAG database configuration."})]}),l.jsx("button",{type:"button",onClick:()=>o(),disabled:s||u,className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 transition-colors",children:s||u?"Refreshing...":"Refresh"})]}),s&&!t?l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(nt,{className:"text-gray-400"}),l.jsx("span",{className:"ml-3 text-gray-500 dark:text-gray-400",children:"Loading configuration..."})]}):i?l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-300",children:[l.jsx("p",{className:"font-medium",children:"Error loading configuration"}),l.jsx("p",{className:"text-sm",children:i.message})]}):l.jsxs(Pe.div,{className:"space-y-6",variants:P3,initial:"hidden",animate:"visible",children:[t&&l.jsx(Pe.div,{variants:ni,children:l.jsx(g3,{config:t,onRefresh:()=>o(),isFetching:u})}),!p&&l.jsx(Pe.div,{variants:ni,children:l.jsx(w3,{databases:d,currentDbPath:t==null?void 0:t.dbPath,onSwitch:B,isLoading:g})}),l.jsx(Pe.div,{variants:ni,children:l.jsx(p3,{onCreate:X,isLoading:v,error:b})}),l.jsx(Pe.div,{variants:ni,children:l.jsx(C3,{onScan:ee,onSwitch:B,isScanning:E,isSwitching:g,scanResults:N,error:S,onReset:C})}),l.jsx(Pe.div,{variants:ni,children:l.jsx(i3,{data:R,isLoading:k,onAdd:P,onRemove:I,isAdding:T,isRemoving:U})}),l.jsx(Pe.div,{variants:ni,children:l.jsx(j3,{})})]})]})}function R3({status:e}){const t=[{label:"Documents",value:e.documentCount.toString(),icon:D3},{label:"Chunks",value:e.chunkCount.toString(),icon:L3},{label:"Memory Usage",value:k3(e.memoryUsage*1024*1024),icon:A3}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map(s=>l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:l.jsx(s.icon,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:s.label}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.value})]})]})},s.label))}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Info"}),l.jsxs("dl",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("dt",{className:"text-gray-500",children:"Search Mode"}),l.jsx("dd",{className:"text-gray-900 font-mono text-sm",children:e.searchMode})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("dt",{className:"text-gray-500",children:"FTS Index"}),l.jsx("dd",{className:"text-gray-900 font-mono text-sm",children:e.ftsIndexEnabled?"Enabled":"Disabled"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("dt",{className:"text-gray-500",children:"Uptime"}),l.jsx("dd",{className:"text-gray-900 font-mono text-sm",children:b3(e.uptime)})]})]})]})]})}function D3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function L3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}function A3({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}function I3(){const{status:e,isLoading:t,error:s,refetch:i}=mN();return l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"System Status"}),l.jsx("p",{className:"text-gray-600",children:"Monitor your RAG system metrics and configuration."})]}),l.jsx("button",{type:"button",onClick:()=>i(),disabled:t,className:"px-4 py-2 text-sm text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:t?"Refreshing...":"Refresh"})]}),t&&!e?l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(nt,{className:"text-gray-400"}),l.jsx("span",{className:"ml-3 text-gray-500",children:"Loading status..."})]}):s?l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:[l.jsx("p",{className:"font-medium",children:"Error loading status"}),l.jsx("p",{className:"text-sm",children:s.message})]}):e?l.jsx(R3,{status:e}):null]})}function M3({onIngest:e,isIngesting:t}){const[s,i]=y.useState(""),[o,u]=y.useState(""),[d,p]=y.useState("text"),f=x=>{x.preventDefault(),s.trim()&&o.trim()&&e(s.trim(),o.trim(),d)},g=()=>{const x=new Date().toISOString().split("T")[0];u(d==="html"?`page://${x}`:d==="markdown"?`note://${x}`:`clipboard://${x}`)};return l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Identifier"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",id:"source",value:o,onChange:x=>u(x.target.value),placeholder:"e.g., https://example.com or clipboard://2024-01-15",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",disabled:t}),l.jsx("button",{type:"button",onClick:g,className:"px-3 py-2 text-sm text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Generate"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"format",className:"block text-sm font-medium text-gray-700 mb-1",children:"Content Format"}),l.jsxs("select",{id:"format",value:d,onChange:x=>p(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",disabled:t,children:[l.jsx("option",{value:"text",children:"Plain Text"}),l.jsx("option",{value:"html",children:"HTML"}),l.jsx("option",{value:"markdown",children:"Markdown"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),l.jsx("textarea",{id:"content",value:s,onChange:x=>i(x.target.value),placeholder:"Paste your content here...",rows:10,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-y",disabled:t})]}),l.jsx("button",{type:"submit",disabled:t||!s.trim()||!o.trim(),className:"w-full px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?"Ingesting...":"Ingest Content"})]})}var Uu={exports:{}},Wu,bg;function O3(){if(bg)return Wu;bg=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wu=e,Wu}var Ku,kg;function F3(){if(kg)return Ku;kg=1;var e=O3();function t(){}function s(){}return s.resetWarningCache=t,Ku=function(){function i(d,p,f,g,x,v){if(v!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function o(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:s,resetWarningCache:t};return u.PropTypes=u,u},Ku}var wg;function _3(){return wg||(wg=1,Uu.exports=F3()()),Uu.exports}var z3=_3();const Oe=Id(z3);function Ls(e,t,s,i){function o(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(x){try{g(i.next(x))}catch(v){d(v)}}function f(x){try{g(i.throw(x))}catch(v){d(v)}}function g(x){x.done?u(x.value):o(x.value).then(p,f)}g((i=i.apply(e,t||[])).next())})}const V3=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function ji(e,t,s){const i=B3(e),{webkitRelativePath:o}=e,u=typeof t=="string"?t:typeof o=="string"&&o.length>0?o:`./${e.name}`;return typeof i.path!="string"&&jg(i,"path",u),jg(i,"relativePath",u),i}function B3(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const i=t.split(".").pop().toLowerCase(),o=V3.get(i);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}function jg(e,t,s){Object.defineProperty(e,t,{value:s,writable:!1,configurable:!1,enumerable:!0})}const $3=[".DS_Store","Thumbs.db"];function U3(e){return Ls(this,void 0,void 0,function*(){return Sl(e)&&W3(e.dataTransfer)?Q3(e.dataTransfer,e.type):K3(e)?H3(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?q3(e):[]})}function W3(e){return Sl(e)}function K3(e){return Sl(e)&&Sl(e.target)}function Sl(e){return typeof e=="object"&&e!==null}function H3(e){return Pd(e.target.files).map(t=>ji(t))}function q3(e){return Ls(this,void 0,void 0,function*(){return(yield Promise.all(e.map(s=>s.getFile()))).map(s=>ji(s))})}function Q3(e,t){return Ls(this,void 0,void 0,function*(){if(e.items){const s=Pd(e.items).filter(o=>o.kind==="file");if(t!=="drop")return s;const i=yield Promise.all(s.map(G3));return Sg(hv(i))}return Sg(Pd(e.files).map(s=>ji(s)))})}function Sg(e){return e.filter(t=>$3.indexOf(t.name)===-1)}function Pd(e){if(e===null)return[];const t=[];for(let s=0;s<e.length;s++){const i=e[s];t.push(i)}return t}function G3(e){if(typeof e.webkitGetAsEntry!="function")return Cg(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?mv(t):Cg(e,t)}function hv(e){return e.reduce((t,s)=>[...t,...Array.isArray(s)?hv(s):[s]],[])}function Cg(e,t){return Ls(this,void 0,void 0,function*(){var s;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const u=yield e.getAsFileSystemHandle();if(u===null)throw new Error(`${e} is not a File`);if(u!==void 0){const d=yield u.getFile();return d.handle=u,ji(d)}}const i=e.getAsFile();if(!i)throw new Error(`${e} is not a File`);return ji(i,(s=t==null?void 0:t.fullPath)!==null&&s!==void 0?s:void 0)})}function Y3(e){return Ls(this,void 0,void 0,function*(){return e.isDirectory?mv(e):X3(e)})}function mv(e){const t=e.createReader();return new Promise((s,i)=>{const o=[];function u(){t.readEntries(d=>Ls(this,void 0,void 0,function*(){if(d.length){const p=Promise.all(d.map(Y3));o.push(p),u()}else try{const p=yield Promise.all(o);s(p)}catch(p){i(p)}}),d=>{i(d)})}u()})}function X3(e){return Ls(this,void 0,void 0,function*(){return new Promise((t,s)=>{e.file(i=>{const o=ji(i,e.fullPath);t(o)},i=>{s(i)})})})}var al={},Ng;function J3(){return Ng||(Ng=1,al.__esModule=!0,al.default=function(e,t){if(e&&t){var s=Array.isArray(t)?t:t.split(",");if(s.length===0)return!0;var i=e.name||"",o=(e.type||"").toLowerCase(),u=o.replace(/\/.*$/,"");return s.some(function(d){var p=d.trim().toLowerCase();return p.charAt(0)==="."?i.toLowerCase().endsWith(p):p.endsWith("/*")?u===p.replace(/\/.*$/,""):o===p})}return!0}),al}var Z3=J3();const Hu=Id(Z3);function Eg(e){return nT(e)||tT(e)||xv(e)||eT()}function eT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nT(e){if(Array.isArray(e))return Td(e)}function Pg(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),s.push.apply(s,i)}return s}function Tg(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Pg(Object(s),!0).forEach(function(i){gv(e,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pg(Object(s)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(s,i))})}return e}function gv(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ra(e,t){return iT(e)||sT(e,t)||xv(e,t)||rT()}function rT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xv(e,t){if(e){if(typeof e=="string")return Td(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Td(e,t)}}function Td(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}function sT(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var i=[],o=!0,u=!1,d,p;try{for(s=s.call(e);!(o=(d=s.next()).done)&&(i.push(d.value),!(t&&i.length===t));o=!0);}catch(f){u=!0,p=f}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw p}}return i}}function iT(e){if(Array.isArray(e))return e}var aT=typeof Hu=="function"?Hu:Hu.default,oT="file-invalid-type",lT="file-too-large",cT="file-too-small",uT="too-many-files",dT=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=t.split(","),i=s.length>1?"one of ".concat(s.join(", ")):s[0];return{code:oT,message:"File type must be ".concat(i)}},Rg=function(t){return{code:lT,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Dg=function(t){return{code:cT,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},pT={code:uT,message:"Too many files"};function yv(e,t){var s=e.type==="application/x-moz-file"||aT(e,t);return[s,s?null:dT(t)]}function vv(e,t,s){if(ms(e.size))if(ms(t)&&ms(s)){if(e.size>s)return[!1,Rg(s)];if(e.size<t)return[!1,Dg(t)]}else{if(ms(t)&&e.size<t)return[!1,Dg(t)];if(ms(s)&&e.size>s)return[!1,Rg(s)]}return[!0,null]}function ms(e){return e!=null}function fT(e){var t=e.files,s=e.accept,i=e.minSize,o=e.maxSize,u=e.multiple,d=e.maxFiles,p=e.validator;return!u&&t.length>1||u&&d>=1&&t.length>d?!1:t.every(function(f){var g=yv(f,s),x=Ra(g,1),v=x[0],b=vv(f,i,o),j=Ra(b,1),E=j[0],N=p?p(f):null;return v&&E&&!N})}function Cl(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ol(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Lg(e){e.preventDefault()}function hT(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function mT(e){return e.indexOf("Edge/")!==-1}function gT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return hT(e)||mT(e)}function Rn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(i){for(var o=arguments.length,u=new Array(o>1?o-1:0),d=1;d<o;d++)u[d-1]=arguments[d];return t.some(function(p){return!Cl(i)&&p&&p.apply(void 0,[i].concat(u)),Cl(i)})}}function xT(){return"showOpenFilePicker"in window}function yT(e){if(ms(e)){var t=Object.entries(e).filter(function(s){var i=Ra(s,2),o=i[0],u=i[1],d=!0;return bv(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(u)||!u.every(kv))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(s,i){var o=Ra(i,2),u=o[0],d=o[1];return Tg(Tg({},s),{},gv({},u,d))},{});return[{description:"Files",accept:t}]}return e}function vT(e){if(ms(e))return Object.entries(e).reduce(function(t,s){var i=Ra(s,2),o=i[0],u=i[1];return[].concat(Eg(t),[o],Eg(u))},[]).filter(function(t){return bv(t)||kv(t)}).join(",")}function bT(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function kT(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function bv(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function kv(e){return/^.*\.[\w]+$/.test(e)}var wT=["children"],jT=["open"],ST=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],CT=["refKey","onChange","onClick"];function NT(e){return TT(e)||PT(e)||wv(e)||ET()}function ET(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TT(e){if(Array.isArray(e))return Rd(e)}function qu(e,t){return LT(e)||DT(e,t)||wv(e,t)||RT()}function RT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wv(e,t){if(e){if(typeof e=="string")return Rd(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Rd(e,t)}}function Rd(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}function DT(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var i=[],o=!0,u=!1,d,p;try{for(s=s.call(e);!(o=(d=s.next()).done)&&(i.push(d.value),!(t&&i.length===t));o=!0);}catch(f){u=!0,p=f}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw p}}return i}}function LT(e){if(Array.isArray(e))return e}function Ag(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),s.push.apply(s,i)}return s}function Ke(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Ag(Object(s),!0).forEach(function(i){Dd(e,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ag(Object(s)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(s,i))})}return e}function Dd(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Nl(e,t){if(e==null)return{};var s=AT(e,t),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)i=u[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function AT(e,t){if(e==null)return{};var s={},i=Object.keys(e),o,u;for(u=0;u<i.length;u++)o=i[u],!(t.indexOf(o)>=0)&&(s[o]=e[o]);return s}var Tp=y.forwardRef(function(e,t){var s=e.children,i=Nl(e,wT),o=Sv(i),u=o.open,d=Nl(o,jT);return y.useImperativeHandle(t,function(){return{open:u}},[u]),Gk.createElement(y.Fragment,null,s(Ke(Ke({},d),{},{open:u})))});Tp.displayName="Dropzone";var jv={disabled:!1,getFilesFromEvent:U3,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Tp.defaultProps=jv;Tp.propTypes={children:Oe.func,accept:Oe.objectOf(Oe.arrayOf(Oe.string)),multiple:Oe.bool,preventDropOnDocument:Oe.bool,noClick:Oe.bool,noKeyboard:Oe.bool,noDrag:Oe.bool,noDragEventsBubbling:Oe.bool,minSize:Oe.number,maxSize:Oe.number,maxFiles:Oe.number,disabled:Oe.bool,getFilesFromEvent:Oe.func,onFileDialogCancel:Oe.func,onFileDialogOpen:Oe.func,useFsAccessApi:Oe.bool,autoFocus:Oe.bool,onDragEnter:Oe.func,onDragLeave:Oe.func,onDragOver:Oe.func,onDrop:Oe.func,onDropAccepted:Oe.func,onDropRejected:Oe.func,onError:Oe.func,validator:Oe.func};var Ld={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Sv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Ke(Ke({},jv),e),s=t.accept,i=t.disabled,o=t.getFilesFromEvent,u=t.maxSize,d=t.minSize,p=t.multiple,f=t.maxFiles,g=t.onDragEnter,x=t.onDragLeave,v=t.onDragOver,b=t.onDrop,j=t.onDropAccepted,E=t.onDropRejected,N=t.onFileDialogCancel,S=t.onFileDialogOpen,C=t.useFsAccessApi,R=t.autoFocus,k=t.preventDropOnDocument,P=t.noClick,T=t.noKeyboard,I=t.noDrag,U=t.noDragEventsBubbling,B=t.onError,X=t.validator,ee=y.useMemo(function(){return vT(s)},[s]),ae=y.useMemo(function(){return yT(s)},[s]),re=y.useMemo(function(){return typeof S=="function"?S:Ig},[S]),H=y.useMemo(function(){return typeof N=="function"?N:Ig},[N]),F=y.useRef(null),W=y.useRef(null),Y=y.useReducer(IT,Ld),z=qu(Y,2),K=z[0],J=z[1],ne=K.isFocused,O=K.isFileDialogActive,q=y.useRef(typeof window<"u"&&window.isSecureContext&&C&&xT()),ve=function(){!q.current&&O&&setTimeout(function(){if(W.current){var fe=W.current.files;fe.length||(J({type:"closeDialog"}),H())}},300)};y.useEffect(function(){return window.addEventListener("focus",ve,!1),function(){window.removeEventListener("focus",ve,!1)}},[W,O,H,q]);var be=y.useRef([]),Se=function(fe){F.current&&F.current.contains(fe.target)||(fe.preventDefault(),be.current=[])};y.useEffect(function(){return k&&(document.addEventListener("dragover",Lg,!1),document.addEventListener("drop",Se,!1)),function(){k&&(document.removeEventListener("dragover",Lg),document.removeEventListener("drop",Se))}},[F,k]),y.useEffect(function(){return!i&&R&&F.current&&F.current.focus(),function(){}},[F,R,i]);var ke=y.useCallback(function(se){B?B(se):console.error(se)},[B]),Re=y.useCallback(function(se){se.preventDefault(),se.persist(),Ut(se),be.current=[].concat(NT(be.current),[se.target]),ol(se)&&Promise.resolve(o(se)).then(function(fe){if(!(Cl(se)&&!U)){var Ee=fe.length,Fe=Ee>0&&fT({files:fe,accept:ee,minSize:d,maxSize:u,multiple:p,maxFiles:f,validator:X}),Qe=Ee>0&&!Fe;J({isDragAccept:Fe,isDragReject:Qe,isDragActive:!0,type:"setDraggedFiles"}),g&&g(se)}}).catch(function(fe){return ke(fe)})},[o,g,ke,U,ee,d,u,p,f,X]),Ne=y.useCallback(function(se){se.preventDefault(),se.persist(),Ut(se);var fe=ol(se);if(fe&&se.dataTransfer)try{se.dataTransfer.dropEffect="copy"}catch{}return fe&&v&&v(se),!1},[v,U]),Ae=y.useCallback(function(se){se.preventDefault(),se.persist(),Ut(se);var fe=be.current.filter(function(Fe){return F.current&&F.current.contains(Fe)}),Ee=fe.indexOf(se.target);Ee!==-1&&fe.splice(Ee,1),be.current=fe,!(fe.length>0)&&(J({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ol(se)&&x&&x(se))},[F,x,U]),Je=y.useCallback(function(se,fe){var Ee=[],Fe=[];se.forEach(function(Qe){var jn=yv(Qe,ee),Et=qu(jn,2),ln=Et[0],Yr=Et[1],lr=vv(Qe,d,u),_n=qu(lr,2),Xr=_n[0],zn=_n[1],xe=X?X(Qe):null;if(ln&&Xr&&!xe)Ee.push(Qe);else{var Ie=[Yr,zn];xe&&(Ie=Ie.concat(xe)),Fe.push({file:Qe,errors:Ie.filter(function(st){return st})})}}),(!p&&Ee.length>1||p&&f>=1&&Ee.length>f)&&(Ee.forEach(function(Qe){Fe.push({file:Qe,errors:[pT]})}),Ee.splice(0)),J({acceptedFiles:Ee,fileRejections:Fe,isDragReject:Fe.length>0,type:"setFiles"}),b&&b(Ee,Fe,fe),Fe.length>0&&E&&E(Fe,fe),Ee.length>0&&j&&j(Ee,fe)},[J,p,ee,d,u,f,b,j,E,X]),rn=y.useCallback(function(se){se.preventDefault(),se.persist(),Ut(se),be.current=[],ol(se)&&Promise.resolve(o(se)).then(function(fe){Cl(se)&&!U||Je(fe,se)}).catch(function(fe){return ke(fe)}),J({type:"reset"})},[o,Je,ke,U]),sn=y.useCallback(function(){if(q.current){J({type:"openDialog"}),re();var se={multiple:p,types:ae};window.showOpenFilePicker(se).then(function(fe){return o(fe)}).then(function(fe){Je(fe,null),J({type:"closeDialog"})}).catch(function(fe){bT(fe)?(H(fe),J({type:"closeDialog"})):kT(fe)?(q.current=!1,W.current?(W.current.value=null,W.current.click()):ke(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ke(fe)});return}W.current&&(J({type:"openDialog"}),re(),W.current.value=null,W.current.click())},[J,re,H,C,Je,ke,ae,p]),an=y.useCallback(function(se){!F.current||!F.current.isEqualNode(se.target)||(se.key===" "||se.key==="Enter"||se.keyCode===32||se.keyCode===13)&&(se.preventDefault(),sn())},[F,sn]),kn=y.useCallback(function(){J({type:"focus"})},[]),or=y.useCallback(function(){J({type:"blur"})},[]),Qr=y.useCallback(function(){P||(gT()?setTimeout(sn,0):sn())},[P,sn]),$t=function(fe){return i?null:fe},Fn=function(fe){return T?null:$t(fe)},on=function(fe){return I?null:$t(fe)},Ut=function(fe){U&&fe.stopPropagation()},wn=y.useMemo(function(){return function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=se.refKey,Ee=fe===void 0?"ref":fe,Fe=se.role,Qe=se.onKeyDown,jn=se.onFocus,Et=se.onBlur,ln=se.onClick,Yr=se.onDragEnter,lr=se.onDragOver,_n=se.onDragLeave,Xr=se.onDrop,zn=Nl(se,ST);return Ke(Ke(Dd({onKeyDown:Fn(Rn(Qe,an)),onFocus:Fn(Rn(jn,kn)),onBlur:Fn(Rn(Et,or)),onClick:$t(Rn(ln,Qr)),onDragEnter:on(Rn(Yr,Re)),onDragOver:on(Rn(lr,Ne)),onDragLeave:on(Rn(_n,Ae)),onDrop:on(Rn(Xr,rn)),role:typeof Fe=="string"&&Fe!==""?Fe:"presentation"},Ee,F),!i&&!T?{tabIndex:0}:{}),zn)}},[F,an,kn,or,Qr,Re,Ne,Ae,rn,T,I,i]),Gr=y.useCallback(function(se){se.stopPropagation()},[]),As=y.useMemo(function(){return function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=se.refKey,Ee=fe===void 0?"ref":fe,Fe=se.onChange,Qe=se.onClick,jn=Nl(se,CT),Et=Dd({accept:ee,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:$t(Rn(Fe,rn)),onClick:$t(Rn(Qe,Gr)),tabIndex:-1},Ee,W);return Ke(Ke({},Et),jn)}},[W,s,p,rn,i]);return Ke(Ke({},K),{},{isFocused:ne&&!i,getRootProps:wn,getInputProps:As,rootRef:F,inputRef:W,open:$t(sn)})}function IT(e,t){switch(t.type){case"focus":return Ke(Ke({},e),{},{isFocused:!0});case"blur":return Ke(Ke({},e),{},{isFocused:!1});case"openDialog":return Ke(Ke({},Ld),{},{isFileDialogActive:!0});case"closeDialog":return Ke(Ke({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ke(Ke({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Ke(Ke({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Ke({},Ld);default:return e}}function Ig(){}const MT={"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"],"text/markdown":[".md"],"text/html":[".html"],"application/json":[".json"]};function OT({onFileSelect:e,isUploading:t}){const s=y.useCallback(d=>{const p=d[0];p&&e(p)},[e]),{getRootProps:i,getInputProps:o,isDragActive:u}=Sv({onDrop:s,accept:MT,maxFiles:1,disabled:t,maxSize:100*1024*1024});return l.jsxs("div",{...i(),className:`
        border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors
        ${u?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}
        ${t?"opacity-50 cursor-not-allowed":""}
      `,children:[l.jsx("input",{...o()}),l.jsx(FT,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),u?l.jsx("p",{className:"text-blue-600 font-medium",children:"Drop the file here..."}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-gray-600 font-medium mb-1",children:"Drag and drop a file here, or click to select"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Supports PDF, DOCX, TXT, MD, HTML, JSON (max 100MB)"})]})]})}function FT({className:e}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}function _T(){const[e,t]=y.useState("file"),{uploadFile:s,ingestData:i,isUploading:o,isIngesting:u,uploadError:d,ingestError:p,uploadResult:f,ingestResult:g,reset:x}=gN(),v=S=>{x(),s(S)},b=(S,C,R)=>{x(),i({content:S,source:C,format:R})},j=f||g,E=d||p,N=o||u;return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Upload Content"}),l.jsx("p",{className:"text-gray-600",children:"Add documents to your knowledge base for semantic search."})]}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex gap-6",children:[l.jsx("button",{type:"button",onClick:()=>t("file"),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${e==="file"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Upload File"}),l.jsx("button",{type:"button",onClick:()=>t("content"),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${e==="content"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Paste Content"})]})}),l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e==="file"?l.jsx(OT,{onFileSelect:v,isUploading:o}):l.jsx(M3,{onIngest:b,isIngesting:u})}),N&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center gap-3",children:[l.jsx(nt,{className:"text-blue-600"}),l.jsx("span",{className:"text-blue-700",children:"Processing content..."})]}),E&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:[l.jsx("p",{className:"font-medium",children:"Error"}),l.jsx("p",{className:"text-sm",children:E.message})]}),j&&!N&&l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-700",children:[l.jsx("p",{className:"font-medium",children:"Content Ingested Successfully"}),l.jsxs("div",{className:"text-sm mt-1 space-y-1",children:[l.jsxs("p",{children:["Chunks created: ",j.chunkCount]}),l.jsx("p",{className:"text-gray-500 truncate",children:j.filePath})]})]})]})}function zT(){return l.jsx(W1,{children:l.jsx(mE,{children:l.jsxs(u1,{children:[l.jsx(Dr,{path:"/",element:l.jsx(ZP,{})}),l.jsx(Dr,{path:"/read",element:l.jsx(vE,{children:l.jsx(BP,{})})}),l.jsx(Dr,{path:"/upload",element:l.jsx(_T,{})}),l.jsx(Dr,{path:"/files",element:l.jsx(EE,{})}),l.jsx(Dr,{path:"/collections",element:l.jsx(bE,{})}),l.jsx(Dr,{path:"/status",element:l.jsx(I3,{})}),l.jsx(Dr,{path:"/settings",element:l.jsx(T3,{})})]})})})}const VT=y.createContext(null);function BT({children:e,vaultId:t="default"}){const s=`rag-vault-reading-mode-${t}`,[i,o]=bn(s,"full"),u=y.useCallback(f=>{o(f)},[o]),d=y.useCallback(()=>{o(f=>f==="skim"?"full":"skim")},[o]),p=y.useMemo(()=>({mode:i,setMode:u,toggleMode:d,isSkimMode:i==="skim",isFullMode:i==="full"}),[i,u,d]);return l.jsx(VT.Provider,{value:p,children:e})}const $T=new Qk({defaultOptions:{queries:{staleTime:1e3*60,retry:1}}}),Cv=document.getElementById("root");if(!Cv)throw new Error('Root element not found. Ensure index.html has <div id="root"></div>');fw.createRoot(Cv).render(l.jsx(y.StrictMode,{children:l.jsx(Yk,{client:$T,children:l.jsx(M1,{children:l.jsx(q1,{children:l.jsx(R4,{children:l.jsx(bN,{children:l.jsx(MN,{children:l.jsx(WN,{children:l.jsx(QN,{children:l.jsx(XN,{children:l.jsx(BT,{children:l.jsx(eE,{children:l.jsx(zT,{})})})})})})})})})})})})}));
